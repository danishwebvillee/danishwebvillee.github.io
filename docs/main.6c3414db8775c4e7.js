"use strict";(self.webpackChunkng_firebase=self.webpackChunkng_firebase||[]).push([[179],{2011:(Ot,Ue,G)=>{G.d(Ue,{Dh:()=>Ee,GT:()=>Pe,cc:()=>je,hO:()=>st,on:()=>re,pX:()=>ge,xv:()=>Me});var a=G(5e3),J=G(127),U=G(5813);Ot=G.hmd(Ot);const ye=["ngOnDestroy"],ge=(Ve,gt,Qe,He={})=>new Proxy(Ve,{get:(ce,Oe)=>Qe.runOutsideAngular(()=>{var it;if(Ve[Oe])return(null===(it=null==He?void 0:He.spy)||void 0===it?void 0:it.get)&&He.spy.get(Oe,Ve[Oe]),Ve[Oe];if(ye.indexOf(Oe)>-1)return()=>{};const me=gt.toPromise().then(ft=>{const ue=ft&&ft[Oe];return"function"==typeof ue?ue.bind(ft):ue&&ue.then?ue.then(Ie=>Qe.run(()=>Ie)):Qe.run(()=>ue)});return new Proxy(()=>{},{get:(ft,ue)=>me[ue],apply:(ft,ue,Ie)=>me.then(Te=>{var Ae;const We=Te&&Te(...Ie);return(null===(Ae=null==He?void 0:He.spy)||void 0===Ae?void 0:Ae.apply)&&He.spy.apply(Oe,Ie,We),We})})})}),Pe=(Ve,gt)=>{gt.forEach(Qe=>{Object.getOwnPropertyNames(Qe.prototype||Qe).forEach(He=>{Object.defineProperty(Ve.prototype,He,Object.getOwnPropertyDescriptor(Qe.prototype||Qe,He))})})};class fe{constructor(gt){return gt}}const Ee=new a.OlP("angularfire2.app.options"),Me=new a.OlP("angularfire2.app.name");function re(Ve,gt,Qe){const ce="object"==typeof Qe&&Qe||{};ce.name=ce.name||"string"==typeof Qe&&Qe||"[DEFAULT]";const it=J.Z.apps.filter(me=>me&&me.name===ce.name)[0]||gt.runOutsideAngular(()=>J.Z.initializeApp(Ve,ce));try{JSON.stringify(Ve)!==JSON.stringify(it.options)&&ne("error",`${it.name} Firebase App already initialized with different options${Ot.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(me){}return new fe(it)}const ne=(Ve,...gt)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[Ve](...gt)},_e={provide:fe,useFactory:re,deps:[Ee,a.R0b,[new a.FiY,Me]]};let st=(()=>{class Ve{constructor(Qe){J.Z.registerVersion("angularfire",U.q4.full,"core"),J.Z.registerVersion("angularfire",U.q4.full,"app-compat"),J.Z.registerVersion("angular",a.q4F.full,Qe.toString())}static initializeApp(Qe,He){return{ngModule:Ve,providers:[{provide:Ee,useValue:Qe},{provide:Me,useValue:He}]}}}return Ve.\u0275fac=function(Qe){return new(Qe||Ve)(a.LFG(a.Lbi))},Ve.\u0275mod=a.oAB({type:Ve}),Ve.\u0275inj=a.cJS({providers:[_e]}),Ve})();function je(Ve,gt,Qe,He,ce){const[,Oe,it]=globalThis.\u0275AngularfireInstanceCache.find(me=>me[0]===Ve)||[];if(Oe)return function Ke(Ve,gt){try{return Ve.toString()===gt.toString()}catch(Qe){return Ve===gt}}(ce,it)||(Re("error",`${gt} was already initialized on the ${Qe} Firebase App with different settings.${Xe?" You may need to reload as Firebase is not HMR aware.":""}`),Re("warn",{is:ce,was:it})),Oe;{const me=He();return globalThis.\u0275AngularfireInstanceCache.push([Ve,me,ce]),me}}const Xe=!!Ot.hot,Re=(Ve,...gt)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[Ve](...gt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Ot,Ue,G)=>{G.d(Ue,{q4:()=>Sc,iC:()=>md,fc:()=>Hl,HU:()=>pd,vb:()=>Nh,JM:()=>Ro});var a=G(5e3),J=G(5867),U=G(5861),ye=G(9681),ge=G(2090),Pe=G(4859),fe=G(1877);const Ee="@firebase/installations",ne="w:0.5.8",_e="FIS_v2",Ve=new ge.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function gt(k){return k instanceof ge.ZR&&k.code.includes("request-failed")}function Qe({projectId:k}){return`https://firebaseinstallations.googleapis.com/v1/projects/${k}/installations`}function He(k){return{token:k.token,requestStatus:2,expiresIn:Ie(k.expiresIn),creationTime:Date.now()}}function ce(k,O){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,U.Z)(function*(k,O){const X=(yield O.json()).error;return Ve.create("request-failed",{requestName:k,serverCode:X.code,serverMessage:X.message,serverStatus:X.status})})).apply(this,arguments)}function it({apiKey:k}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k})}function me(k,{refreshToken:O}){const B=it(k);return B.append("Authorization",function Te(k){return`${_e} ${k}`}(O)),B}function ft(k){return ue.apply(this,arguments)}function ue(){return(ue=(0,U.Z)(function*(k){const O=yield k();return O.status>=500&&O.status<600?k():O})).apply(this,arguments)}function Ie(k){return Number(k.replace("s","000"))}function Ae(k,O){return We.apply(this,arguments)}function We(){return(We=(0,U.Z)(function*({appConfig:k,heartbeatServiceProvider:O},{fid:B}){const X=Qe(k),de=it(k),ve=O.getImmediate({optional:!0});if(ve){const zt=yield ve.getHeartbeatsHeader();zt&&de.append("x-firebase-client",zt)}const Tt={method:"POST",headers:de,body:JSON.stringify({fid:B,authVersion:_e,appId:k.appId,sdkVersion:ne})},xt=yield ft(()=>fetch(X,Tt));if(xt.ok){const zt=yield xt.json();return{fid:zt.fid||B,registrationStatus:2,refreshToken:zt.refreshToken,authToken:He(zt.authToken)}}throw yield ce("Create Installation",xt)})).apply(this,arguments)}function be(k){return new Promise(O=>{setTimeout(O,k)})}const Sn=/^[cdef][\w-]{21}$/;function St(){try{const k=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(k),k[0]=112+k[0]%16;const B=function At(k){return function Bt(k){return btoa(String.fromCharCode(...k)).replace(/\+/g,"-").replace(/\//g,"_")}(k).substr(0,22)}(k);return Sn.test(B)?B:""}catch(k){return""}}function Hn(k){return`${k.appName}!${k.appId}`}const Vn=new Map;function Ir(k,O){const B=Hn(k);An(B,O),function ni(k,O){const B=function Kt(){return!xi&&"BroadcastChannel"in self&&(xi=new BroadcastChannel("[Firebase] FID Change"),xi.onmessage=k=>{An(k.data.key,k.data.fid)}),xi}();B&&B.postMessage({key:k,fid:O}),function vi(){0===Vn.size&&xi&&(xi.close(),xi=null)}()}(B,O)}function An(k,O){const B=Vn.get(k);if(B)for(const X of B)X(O)}let xi=null;const qi="firebase-installations-store";let ii=null;function Sr(){return ii||(ii=(0,ge.X3)("firebase-installations-database",1,(k,O)=>{0===O&&k.createObjectStore(qi)})),ii}function kt(k,O){return ur.apply(this,arguments)}function ur(){return(ur=(0,U.Z)(function*(k,O){const B=Hn(k),de=(yield Sr()).transaction(qi,"readwrite"),ve=de.objectStore(qi),Ye=yield ve.get(B);return yield ve.put(O,B),yield de.complete,(!Ye||Ye.fid!==O.fid)&&Ir(k,O.fid),O})).apply(this,arguments)}function bi(k){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,U.Z)(function*(k){const O=Hn(k),X=(yield Sr()).transaction(qi,"readwrite");yield X.objectStore(qi).delete(O),yield X.complete})).apply(this,arguments)}function ri(k,O){return Di.apply(this,arguments)}function Di(){return(Di=(0,U.Z)(function*(k,O){const B=Hn(k),de=(yield Sr()).transaction(qi,"readwrite"),ve=de.objectStore(qi),Ye=yield ve.get(B),Tt=O(Ye);return void 0===Tt?yield ve.delete(B):yield ve.put(Tt,B),yield de.complete,Tt&&(!Ye||Ye.fid!==Tt.fid)&&Ir(k,Tt.fid),Tt})).apply(this,arguments)}function wi(k){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,U.Z)(function*(k){let O;const B=yield ri(k.appConfig,X=>{const de=jn(X),ve=Os(k,de);return O=ve.registrationPromise,ve.installationEntry});return""===B.fid?{installationEntry:yield O}:{installationEntry:B,registrationPromise:O}})).apply(this,arguments)}function jn(k){return cn(k||{fid:St(),registrationStatus:0})}function Os(k,O){if(0===O.registrationStatus){if(!navigator.onLine)return{installationEntry:O,registrationPromise:Promise.reject(Ve.create("app-offline"))};const B={fid:O.fid,registrationStatus:1,registrationTime:Date.now()},X=function sn(k,O){return It.apply(this,arguments)}(k,B);return{installationEntry:B,registrationPromise:X}}return 1===O.registrationStatus?{installationEntry:O,registrationPromise:vt(k)}:{installationEntry:O}}function It(){return(It=(0,U.Z)(function*(k,O){try{const B=yield Ae(k,O);return kt(k.appConfig,B)}catch(B){throw gt(B)&&409===B.customData.serverCode?yield bi(k.appConfig):yield kt(k.appConfig,{fid:O.fid,registrationStatus:0}),B}})).apply(this,arguments)}function vt(k){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,U.Z)(function*(k){let O=yield es(k.appConfig);for(;1===O.registrationStatus;)yield be(100),O=yield es(k.appConfig);if(0===O.registrationStatus){const{installationEntry:B,registrationPromise:X}=yield wi(k);return X||B}return O})).apply(this,arguments)}function es(k){return ri(k,O=>{if(!O)throw Ve.create("installation-not-found");return cn(O)})}function cn(k){return function ts(k){return 1===k.registrationStatus&&k.registrationTime+1e4<Date.now()}(k)?{fid:k.fid,registrationStatus:0}:k}function Ci(k,O){return kn.apply(this,arguments)}function kn(){return(kn=(0,U.Z)(function*({appConfig:k,heartbeatServiceProvider:O},B){const X=Pt(k,B),de=me(k,B),ve=O.getImmediate({optional:!0});if(ve){const zt=yield ve.getHeartbeatsHeader();zt&&de.append("x-firebase-client",zt)}const Tt={method:"POST",headers:de,body:JSON.stringify({installation:{sdkVersion:ne,appId:k.appId}})},xt=yield ft(()=>fetch(X,Tt));if(xt.ok)return He(yield xt.json());throw yield ce("Generate Auth Token",xt)})).apply(this,arguments)}function Pt(k,{fid:O}){return`${Qe(k)}/${O}/authTokens:generate`}function ui(k){return un.apply(this,arguments)}function un(){return(un=(0,U.Z)(function*(k,O=!1){let B;const X=yield ri(k.appConfig,ve=>{if(!on(ve))throw Ve.create("not-registered");const Ye=ve.authToken;if(!O&&se(Ye))return ve;if(1===Ye.requestStatus)return B=at(k,O),ve;{if(!navigator.onLine)throw Ve.create("app-offline");const Tt=oe(ve);return B=Nt(k,Tt),Tt}});return B?yield B:X.authToken})).apply(this,arguments)}function at(k,O){return Be.apply(this,arguments)}function Be(){return(Be=(0,U.Z)(function*(k,O){let B=yield Je(k.appConfig);for(;1===B.authToken.requestStatus;)yield be(100),B=yield Je(k.appConfig);const X=B.authToken;return 0===X.requestStatus?ui(k,O):X})).apply(this,arguments)}function Je(k){return ri(k,O=>{if(!on(O))throw Ve.create("not-registered");return function xe(k){return 1===k.requestStatus&&k.requestTime+1e4<Date.now()}(O.authToken)?Object.assign(Object.assign({},O),{authToken:{requestStatus:0}}):O})}function Nt(k,O){return nn.apply(this,arguments)}function nn(){return(nn=(0,U.Z)(function*(k,O){try{const B=yield Ci(k,O),X=Object.assign(Object.assign({},O),{authToken:B});return yield kt(k.appConfig,X),B}catch(B){if(!gt(B)||401!==B.customData.serverCode&&404!==B.customData.serverCode){const X=Object.assign(Object.assign({},O),{authToken:{requestStatus:0}});yield kt(k.appConfig,X)}else yield bi(k.appConfig);throw B}})).apply(this,arguments)}function on(k){return void 0!==k&&2===k.registrationStatus}function se(k){return 2===k.requestStatus&&!function ee(k){const O=Date.now();return O<k.creationTime||k.creationTime+k.expiresIn<O+36e5}(k)}function oe(k){const O={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},k),{authToken:O})}function K(){return(K=(0,U.Z)(function*(k){const O=k,{installationEntry:B,registrationPromise:X}=yield wi(O);return X?X.catch(console.error):ui(O).catch(console.error),B.fid})).apply(this,arguments)}function Ce(){return(Ce=(0,U.Z)(function*(k,O=!1){const B=k;return yield et(B),(yield ui(B,O)).token})).apply(this,arguments)}function et(k){return lt.apply(this,arguments)}function lt(){return(lt=(0,U.Z)(function*(k){const{registrationPromise:O}=yield wi(k);O&&(yield O)})).apply(this,arguments)}function qn(k){return Ve.create("missing-app-config-values",{valueName:k})}const Ar="installations",ct=k=>{const O=k.getProvider("app").getImmediate(),B=function ps(k){if(!k||!k.options)throw qn("App Configuration");if(!k.name)throw qn("App Name");const O=["projectId","apiKey","appId"];for(const B of O)if(!k.options[B])throw qn(B);return{appName:k.name,projectId:k.options.projectId,apiKey:k.options.apiKey,appId:k.options.appId}}(O);return{app:O,appConfig:B,heartbeatServiceProvider:(0,ye._getProvider)(O,"heartbeat"),_delete:()=>Promise.resolve()}},mn=k=>{const O=k.getProvider("app").getImmediate(),B=(0,ye._getProvider)(O,Ar).getImmediate();return{getId:()=>function q(k){return K.apply(this,arguments)}(B),getToken:de=>function te(k){return Ce.apply(this,arguments)}(B,de)}};(function Yn(){(0,ye._registerComponent)(new Pe.wA(Ar,ct,"PUBLIC")),(0,ye._registerComponent)(new Pe.wA("installations-internal",mn,"PRIVATE"))})(),(0,ye.registerVersion)(Ee,"0.5.8"),(0,ye.registerVersion)(Ee,"0.5.8","esm2017");const Bi="@firebase/remote-config",fi=new ge.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class El{constructor(O,B,X,de){this.client=O,this.storage=B,this.storageCache=X,this.logger=de}isCachedDataFresh(O,B){if(!B)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const X=Date.now()-B,de=X<=O;return this.logger.debug(`Config fetch cache check. Cache age millis: ${X}. Cache max age millis (minimumFetchIntervalMillis setting): ${O}. Is cache hit: ${de}.`),de}fetch(O){var B=this;return(0,U.Z)(function*(){const[X,de]=yield Promise.all([B.storage.getLastSuccessfulFetchTimestampMillis(),B.storage.getLastSuccessfulFetchResponse()]);if(de&&B.isCachedDataFresh(O.cacheMaxAgeMillis,X))return de;O.eTag=de&&de.eTag;const ve=yield B.client.fetch(O),Ye=[B.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ve.status&&Ye.push(B.storage.setLastSuccessfulFetchResponse(ve)),yield Promise.all(Ye),ve})()}}function vo(k=navigator){return k.languages&&k.languages[0]||k.language}class bo{constructor(O,B,X,de,ve,Ye){this.firebaseInstallations=O,this.sdkVersion=B,this.namespace=X,this.projectId=de,this.apiKey=ve,this.appId=Ye}fetch(O){var B=this;return(0,U.Z)(function*(){const[X,de]=yield Promise.all([B.firebaseInstallations.getId(),B.firebaseInstallations.getToken()]),Ye=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${B.projectId}/namespaces/${B.namespace}:fetch?key=${B.apiKey}`,Tt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":O.eTag||"*"},xt={sdk_version:B.sdkVersion,app_instance_id:X,app_instance_id_token:de,app_id:B.appId,language_code:vo()},zt={method:"POST",headers:Tt,body:JSON.stringify(xt)},xn=fetch(Ye,zt),Zt=new Promise((zr,Oo)=>{O.signal.addEventListener(()=>{const ia=new Error("The operation was aborted.");ia.name="AbortError",Oo(ia)})});let Zi;try{yield Promise.race([xn,Zt]),Zi=yield xn}catch(zr){let Oo="fetch-client-network";throw"AbortError"===zr.name&&(Oo="fetch-timeout"),fi.create(Oo,{originalErrorMessage:zr.message})}let Ni=Zi.status;const kc=Zi.headers.get("ETag")||void 0;let Rc,Oa;if(200===Zi.status){let zr;try{zr=yield Zi.json()}catch(Oo){throw fi.create("fetch-client-parse",{originalErrorMessage:Oo.message})}Rc=zr.entries,Oa=zr.state}if("INSTANCE_STATE_UNSPECIFIED"===Oa?Ni=500:"NO_CHANGE"===Oa?Ni=304:("NO_TEMPLATE"===Oa||"EMPTY_CONFIG"===Oa)&&(Rc={}),304!==Ni&&200!==Ni)throw fi.create("fetch-status",{httpStatus:Ni});return{status:Ni,eTag:kc,config:Rc}})()}}class ns{constructor(O,B){this.client=O,this.storage=B}fetch(O){var B=this;return(0,U.Z)(function*(){const X=(yield B.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return B.attemptFetch(O,X)})()}attemptFetch(O,{throttleEndTimeMillis:B,backoffCount:X}){var de=this;return(0,U.Z)(function*(){yield function Vr(k,O){return new Promise((B,X)=>{const de=Math.max(O-Date.now(),0),ve=setTimeout(B,de);k.addEventListener(()=>{clearTimeout(ve),X(fi.create("fetch-throttle",{throttleEndTimeMillis:O}))})})}(O.signal,B);try{const ve=yield de.client.fetch(O);return yield de.storage.deleteThrottleMetadata(),ve}catch(ve){if(!function Ih(k){if(!(k instanceof ge.ZR&&k.customData))return!1;const O=Number(k.customData.httpStatus);return 429===O||500===O||503===O||504===O}(ve))throw ve;const Ye={throttleEndTimeMillis:Date.now()+(0,ge.$s)(X),backoffCount:X+1};return yield de.storage.setThrottleMetadata(Ye),de.attemptFetch(O,Ye)}})()}}class pu{constructor(O,B,X,de,ve){this.app=O,this._client=B,this._storageCache=X,this._storage=de,this._logger=ve,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function $a(k,O){const B=k.target.error||void 0;return fi.create(O,{originalErrorMessage:B&&B.message})}const _i="app_namespace_store";class dc{constructor(O,B,X,de=function Tl(){return new Promise((k,O)=>{try{const B=indexedDB.open("firebase_remote_config",1);B.onerror=X=>{O($a(X,"storage-open"))},B.onsuccess=X=>{k(X.target.result)},B.onupgradeneeded=X=>{0===X.oldVersion&&X.target.result.createObjectStore(_i,{keyPath:"compositeKey"})}}catch(B){O(fi.create("storage-open",{originalErrorMessage:B}))}})}()){this.appId=O,this.appName=B,this.namespace=X,this.openDbPromise=de}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(O){return this.set("last_fetch_status",O)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(O){return this.set("last_successful_fetch_timestamp_millis",O)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(O){return this.set("last_successful_fetch_response",O)}getActiveConfig(){return this.get("active_config")}setActiveConfig(O){return this.set("active_config",O)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(O){return this.set("active_config_etag",O)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(O){return this.set("throttle_metadata",O)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(O){var B=this;return(0,U.Z)(function*(){const X=yield B.openDbPromise;return new Promise((de,ve)=>{const Tt=X.transaction([_i],"readonly").objectStore(_i),xt=B.createCompositeKey(O);try{const zt=Tt.get(xt);zt.onerror=xn=>{ve($a(xn,"storage-get"))},zt.onsuccess=xn=>{const Zt=xn.target.result;de(Zt?Zt.value:void 0)}}catch(zt){ve(fi.create("storage-get",{originalErrorMessage:zt&&zt.message}))}})})()}set(O,B){var X=this;return(0,U.Z)(function*(){const de=yield X.openDbPromise;return new Promise((ve,Ye)=>{const xt=de.transaction([_i],"readwrite").objectStore(_i),zt=X.createCompositeKey(O);try{const xn=xt.put({compositeKey:zt,value:B});xn.onerror=Zt=>{Ye($a(Zt,"storage-set"))},xn.onsuccess=()=>{ve()}}catch(xn){Ye(fi.create("storage-set",{originalErrorMessage:xn&&xn.message}))}})})()}delete(O){var B=this;return(0,U.Z)(function*(){const X=yield B.openDbPromise;return new Promise((de,ve)=>{const Tt=X.transaction([_i],"readwrite").objectStore(_i),xt=B.createCompositeKey(O);try{const zt=Tt.delete(xt);zt.onerror=xn=>{ve($a(xn,"storage-delete"))},zt.onsuccess=()=>{de()}}catch(zt){ve(fi.create("storage-delete",{originalErrorMessage:zt&&zt.message}))}})})()}createCompositeKey(O){return[this.appId,this.appName,this.namespace,O].join()}}class qo{constructor(O){this.storage=O}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var O=this;return(0,U.Z)(function*(){const B=O.storage.getLastFetchStatus(),X=O.storage.getLastSuccessfulFetchTimestampMillis(),de=O.storage.getActiveConfig(),ve=yield B;ve&&(O.lastFetchStatus=ve);const Ye=yield X;Ye&&(O.lastSuccessfulFetchTimestampMillis=Ye);const Tt=yield de;Tt&&(O.activeConfig=Tt)})()}setLastFetchStatus(O){return this.lastFetchStatus=O,this.storage.setLastFetchStatus(O)}setLastSuccessfulFetchTimestampMillis(O){return this.lastSuccessfulFetchTimestampMillis=O,this.storage.setLastSuccessfulFetchTimestampMillis(O)}setActiveConfig(O){return this.activeConfig=O,this.storage.setActiveConfig(O)}}function mu(){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,U.Z)(function*(){if(!(0,ge.hl)())return!1;try{return yield(0,ge.eu)()}catch(k){return!1}})).apply(this,arguments)}!function ad(){(0,ye._registerComponent)(new Pe.wA("remote-config",function k(O,{instanceIdentifier:B}){const X=O.getProvider("app").getImmediate(),de=O.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw fi.create("registration-window");if(!(0,ge.hl)())throw fi.create("indexed-db-unavailable");const{projectId:ve,apiKey:Ye,appId:Tt}=X.options;if(!ve)throw fi.create("registration-project-id");if(!Ye)throw fi.create("registration-api-key");if(!Tt)throw fi.create("registration-app-id");const xt=new dc(Tt,X.name,B=B||"firebase"),zt=new qo(xt),xn=new fe.Yd(Bi);xn.logLevel=fe.in.ERROR;const Zt=new bo(de,ye.SDK_VERSION,B,ve,Ye,Tt),Zi=new ns(Zt,xt),Ni=new El(Zi,xt,zt,xn),kc=new pu(X,Ni,zt,xt,xn);return function Gn(k){const O=(0,ge.m9)(k);O._initializePromise||(O._initializePromise=O._storageCache.loadFromStorage().then(()=>{O._isInitializationComplete=!0}))}(kc),kc},"PUBLIC").setMultipleInstances(!0)),(0,ye.registerVersion)(Bi,"0.3.7"),(0,ye.registerVersion)(Bi,"0.3.7","esm2017")}();const no="/firebase-messaging-sw.js",za="/firebase-cloud-messaging-push-scope",is="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",zo="google.c.a.c_id",Il="google.c.a.c_l",Wo="google.c.a.ts",Ta="google.c.a.e";var pr=(()=>{return(k=pr||(pr={})).PUSH_RECEIVED="push-received",k.NOTIFICATION_CLICKED="notification-clicked",pr;var k})();function Ps(k){const O=new Uint8Array(k);return btoa(String.fromCharCode(...O)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Sl(k){const B=(k+"=".repeat((4-k.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),X=atob(B),de=new Uint8Array(X.length);for(let ve=0;ve<X.length;++ve)de[ve]=X.charCodeAt(ve);return de}const Wa="fcm_token_details_db",wo="fcm_token_object_Store";function xh(k){return Da.apply(this,arguments)}function Da(){return Da=(0,U.Z)(function*(k){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ve=>ve.name).includes(Wa))return null;let O=null;return(yield(0,ge.X3)(Wa,5,function(){var X=(0,U.Z)(function*(de,ve,Ye,Tt){var xt;if(ve<2||!de.objectStoreNames.contains(wo))return;const zt=Tt.objectStore(wo),xn=yield zt.index("fcmSenderId").get(k);if(yield zt.clear(),xn)if(2===ve){const Zt=xn;if(!Zt.auth||!Zt.p256dh||!Zt.endpoint)return;O={token:Zt.fcmToken,createTime:null!==(xt=Zt.createTime)&&void 0!==xt?xt:Date.now(),subscriptionOptions:{auth:Zt.auth,p256dh:Zt.p256dh,endpoint:Zt.endpoint,swScope:Zt.swScope,vapidKey:"string"==typeof Zt.vapidKey?Zt.vapidKey:Ps(Zt.vapidKey)}}}else if(3===ve){const Zt=xn;O={token:Zt.fcmToken,createTime:Zt.createTime,subscriptionOptions:{auth:Ps(Zt.auth),p256dh:Ps(Zt.p256dh),endpoint:Zt.endpoint,swScope:Zt.swScope,vapidKey:Ps(Zt.vapidKey)}}}else if(4===ve){const Zt=xn;O={token:Zt.fcmToken,createTime:Zt.createTime,subscriptionOptions:{auth:Ps(Zt.auth),p256dh:Ps(Zt.p256dh),endpoint:Zt.endpoint,swScope:Zt.swScope,vapidKey:Ps(Zt.vapidKey)}}}});return function(de,ve,Ye,Tt){return X.apply(this,arguments)}}())).close(),yield(0,ge.Lj)(Wa),yield(0,ge.Lj)("fcm_vapid_details_db"),yield(0,ge.Lj)("undefined"),hc(O)?O:null}),Da.apply(this,arguments)}function hc(k){if(!k||!k.subscriptionOptions)return!1;const{subscriptionOptions:O}=k;return"number"==typeof k.createTime&&k.createTime>0&&"string"==typeof k.token&&k.token.length>0&&"string"==typeof O.auth&&O.auth.length>0&&"string"==typeof O.p256dh&&O.p256dh.length>0&&"string"==typeof O.endpoint&&O.endpoint.length>0&&"string"==typeof O.swScope&&O.swScope.length>0&&"string"==typeof O.vapidKey&&O.vapidKey.length>0}const Co="firebase-messaging-store";let Eo=null;function fc(){return Eo||(Eo=(0,ge.X3)("firebase-messaging-database",1,(k,O)=>{0===O&&k.createObjectStore(Co)})),Eo}function si(k){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,U.Z)(function*(k){const O=To(k),X=yield(yield fc()).transaction(Co).objectStore(Co).get(O);if(X)return X;{const de=yield xh(k.appConfig.senderId);if(de)return yield Yo(k,de),de}})).apply(this,arguments)}function Yo(k,O){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,U.Z)(function*(k,O){const B=To(k),de=(yield fc()).transaction(Co,"readwrite");return yield de.objectStore(Co).put(O,B),yield de.complete,O})).apply(this,arguments)}function pc(k){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,U.Z)(function*(k){const O=To(k),X=(yield fc()).transaction(Co,"readwrite");yield X.objectStore(Co).delete(O),yield X.complete})).apply(this,arguments)}function To({appConfig:k}){return k.appId}const ki=new ge.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function xl(k,O){return rs.apply(this,arguments)}function rs(){return(rs=(0,U.Z)(function*(k,O){const B=yield Fs(k),X=Lt(O),de={method:"POST",headers:B,body:JSON.stringify(X)};let ve;try{ve=yield(yield fetch(gs(k.appConfig),de)).json()}catch(Ye){throw ki.create("token-subscribe-failed",{errorInfo:Ye})}if(ve.error)throw ki.create("token-subscribe-failed",{errorInfo:ve.error.message});if(!ve.token)throw ki.create("token-subscribe-no-token");return ve.token})).apply(this,arguments)}function xr(k,O){return ro.apply(this,arguments)}function ro(){return(ro=(0,U.Z)(function*(k,O){const B=yield Fs(k),X=Lt(O.subscriptionOptions),de={method:"PATCH",headers:B,body:JSON.stringify(X)};let ve;try{ve=yield(yield fetch(`${gs(k.appConfig)}/${O.token}`,de)).json()}catch(Ye){throw ki.create("token-update-failed",{errorInfo:Ye})}if(ve.error)throw ki.create("token-update-failed",{errorInfo:ve.error.message});if(!ve.token)throw ki.create("token-update-no-token");return ve.token})).apply(this,arguments)}function Ko(k,O){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,U.Z)(function*(k,O){const X={method:"DELETE",headers:yield Fs(k)};try{const ve=yield(yield fetch(`${gs(k.appConfig)}/${O}`,X)).json();if(ve.error)throw ki.create("token-unsubscribe-failed",{errorInfo:ve.error.message})}catch(de){throw ki.create("token-unsubscribe-failed",{errorInfo:de})}})).apply(this,arguments)}function gs({projectId:k}){return`https://fcmregistrations.googleapis.com/v1/projects/${k}/registrations`}function Fs(k){return so.apply(this,arguments)}function so(){return(so=(0,U.Z)(function*({appConfig:k,installations:O}){const B=yield O.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k.apiKey,"x-goog-firebase-installations-auth":`FIS ${B}`})})).apply(this,arguments)}function Lt({p256dh:k,auth:O,endpoint:B,vapidKey:X}){const de={web:{endpoint:B,auth:O,p256dh:k}};return X!==is&&(de.web.applicationPubKey=X),de}const Za=6048e5;function Br(k){return _s.apply(this,arguments)}function _s(){return(_s=(0,U.Z)(function*(k){const O=yield yu(k.swRegistration,k.vapidKey),B={vapidKey:k.vapidKey,swScope:k.swRegistration.scope,endpoint:O.endpoint,auth:Ps(O.getKey("auth")),p256dh:Ps(O.getKey("p256dh"))},X=yield si(k.firebaseDependencies);if(X){if(Ls(X.subscriptionOptions,B))return Date.now()>=X.createTime+Za?cd(k,{token:X.token,createTime:Date.now(),subscriptionOptions:B}):X.token;try{yield Ko(k.firebaseDependencies,X.token)}catch(de){console.warn(de)}return Ge(k.firebaseDependencies,B)}return Ge(k.firebaseDependencies,B)})).apply(this,arguments)}function _u(k){return ys.apply(this,arguments)}function ys(){return(ys=(0,U.Z)(function*(k){const O=yield si(k.firebaseDependencies);O&&(yield Ko(k.firebaseDependencies,O.token),yield pc(k.firebaseDependencies));const B=yield k.swRegistration.pushManager.getSubscription();return!B||B.unsubscribe()})).apply(this,arguments)}function cd(k,O){return vs.apply(this,arguments)}function vs(){return(vs=(0,U.Z)(function*(k,O){try{const B=yield xr(k.firebaseDependencies,O),X=Object.assign(Object.assign({},O),{token:B,createTime:Date.now()});return yield Yo(k.firebaseDependencies,X),B}catch(B){throw yield _u(k),B}})).apply(this,arguments)}function Ge(k,O){return dn.apply(this,arguments)}function dn(){return(dn=(0,U.Z)(function*(k,O){const X={token:yield xl(k,O),createTime:Date.now(),subscriptionOptions:O};return yield Yo(k,X),X.token})).apply(this,arguments)}function yu(k,O){return hn.apply(this,arguments)}function hn(){return(hn=(0,U.Z)(function*(k,O){return(yield k.pushManager.getSubscription())||k.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Sl(O)})})).apply(this,arguments)}function Ls(k,O){return O.vapidKey===k.vapidKey&&O.endpoint===k.endpoint&&O.auth===k.auth&&O.p256dh===k.p256dh}function ss(k){const O={from:k.from,collapseKey:k.collapse_key,messageId:k.fcmMessageId};return function bs(k,O){if(!O.notification)return;k.notification={};const B=O.notification.title;B&&(k.notification.title=B);const X=O.notification.body;X&&(k.notification.body=X);const de=O.notification.image;de&&(k.notification.image=de)}(O,k),function Qo(k,O){!O.data||(k.data=O.data)}(O,k),function oo(k,O){if(!O.fcmOptions)return;k.fcmOptions={};const B=O.fcmOptions.link;B&&(k.fcmOptions.link=B);const X=O.fcmOptions.analytics_label;X&&(k.fcmOptions.analyticsLabel=X)}(O,k),O}function ud(k){return"object"==typeof k&&!!k&&zo in k}function mc(k,O){const B=[];for(let X=0;X<k.length;X++)B.push(k.charAt(X)),X<O.length&&B.push(O.charAt(X));return B.join("")}function Do(k){return ki.create("missing-app-config-values",{valueName:k})}mc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),mc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ri{constructor(O,B,X){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const de=function Aa(k){if(!k||!k.options)throw Do("App Configuration Object");if(!k.name)throw Do("App Name");const O=["projectId","apiKey","appId","messagingSenderId"],{options:B}=k;for(const X of O)if(!B[X])throw Do(X);return{appName:k.name,projectId:B.projectId,apiKey:B.apiKey,appId:B.appId,senderId:B.messagingSenderId}}(O);this.firebaseDependencies={app:O,appConfig:de,installations:B,analyticsProvider:X}}_delete(){return Promise.resolve()}}function Vs(k){return xa.apply(this,arguments)}function xa(){return(xa=(0,U.Z)(function*(k){try{k.swRegistration=yield navigator.serviceWorker.register(no,{scope:za}),k.swRegistration.update().catch(()=>{})}catch(O){throw ki.create("failed-service-worker-registration",{browserErrorMessage:O.message})}})).apply(this,arguments)}function nr(k,O){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,U.Z)(function*(k,O){if(!O&&!k.swRegistration&&(yield Vs(k)),O||!k.swRegistration){if(!(O instanceof ServiceWorkerRegistration))throw ki.create("invalid-sw-registration");k.swRegistration=O}})).apply(this,arguments)}function Bn(k,O){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,U.Z)(function*(k,O){O?k.vapidKey=O:k.vapidKey||(k.vapidKey=is)})).apply(this,arguments)}function mr(){return(mr=(0,U.Z)(function*(k,O){if(!navigator)throw ki.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ki.create("permission-blocked");return yield Bn(k,null==O?void 0:O.vapidKey),yield nr(k,null==O?void 0:O.serviceWorkerRegistration),Br(k)})).apply(this,arguments)}function Ml(k,O,B){return ao.apply(this,arguments)}function ao(){return(ao=(0,U.Z)(function*(k,O,B){const X=dd(O);(yield k.firebaseDependencies.analyticsProvider.get()).logEvent(X,{message_id:B[zo],message_name:B[Il],message_time:B[Wo],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function dd(k){switch(k){case pr.NOTIFICATION_CLICKED:return"notification_open";case pr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function yc(){return(yc=(0,U.Z)(function*(k,O){const B=O.data;if(!B.isFirebaseMessaging)return;k.onMessageHandler&&B.messageType===pr.PUSH_RECEIVED&&("function"==typeof k.onMessageHandler?k.onMessageHandler(ss(B)):k.onMessageHandler.next(ss(B)));const X=B.data;ud(X)&&"1"===X[Ta]&&(yield Ml(k,B.messageType,X))})).apply(this,arguments)}const kl="@firebase/messaging",Jo=k=>{const O=new Ri(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),k.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",B=>function _c(k,O){return yc.apply(this,arguments)}(O,B)),O},vc=k=>{const O=k.getProvider("messaging").getImmediate();return{getToken:X=>function gc(k,O){return mr.apply(this,arguments)}(O,X)}};function vu(){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,U.Z)(function*(){try{yield(0,ge.eu)()}catch(k){return!1}return"undefined"!=typeof window&&(0,ge.hl)()&&(0,ge.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function bc(){(0,ye._registerComponent)(new Pe.wA("messaging",Jo,"PUBLIC")),(0,ye._registerComponent)(new Pe.wA("messaging-internal",vc,"PRIVATE")),(0,ye.registerVersion)(kl,"0.9.12"),(0,ye.registerVersion)(kl,"0.9.12","esm2017")}();const Ol="analytics",Nl="firebase_id",Pl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Fl="https://www.googletagmanager.com/gtag/js",Oi=new fe.Yd("@firebase/analytics");function wc(k){return Promise.all(k.map(O=>O.catch(B=>B)))}function Cc(k,O){const B=document.createElement("script");B.src=`${Fl}?l=${k}&id=${O}`,B.async=!0,document.head.appendChild(B)}function Ka(k,O,B,X,de,ve){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,U.Z)(function*(k,O,B,X,de,ve){const Ye=X[de];try{if(Ye)yield O[Ye];else{const xt=(yield wc(B)).find(zt=>zt.measurementId===de);xt&&(yield O[xt.appId])}}catch(Tt){Oi.error(Tt)}k("config",de,ve)})).apply(this,arguments)}function Ec(k,O,B,X,de){return jr.apply(this,arguments)}function jr(){return(jr=(0,U.Z)(function*(k,O,B,X,de){try{let ve=[];if(de&&de.send_to){let Ye=de.send_to;Array.isArray(Ye)||(Ye=[Ye]);const Tt=yield wc(B);for(const xt of Ye){const zt=Tt.find(Zt=>Zt.measurementId===xt),xn=zt&&O[zt.appId];if(!xn){ve=[];break}ve.push(xn)}}0===ve.length&&(ve=Object.values(O)),yield Promise.all(ve),k("event",X,de||{})}catch(ve){Oi.error(ve)}})).apply(this,arguments)}function bu(){const k=window.document.getElementsByTagName("script");for(const O of Object.values(k))if(O.src&&O.src.includes(Fl))return O;return null}const H=new ge.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Jt=new class kr{constructor(O={},B=1e3){this.throttleMetadata=O,this.intervalMillis=B}getThrottleMetadata(O){return this.throttleMetadata[O]}setThrottleMetadata(O,B){this.throttleMetadata[O]=B}deleteThrottleMetadata(O){delete this.throttleMetadata[O]}};function xo(k){return new Headers({Accept:"application/json","x-goog-api-key":k})}function $t(k){return bt.apply(this,arguments)}function bt(){return(bt=(0,U.Z)(function*(k){var O;const{appId:B,apiKey:X}=k,de={method:"GET",headers:xo(X)},ve=Pl.replace("{app-id}",B),Ye=yield fetch(ve,de);if(200!==Ye.status&&304!==Ye.status){let Tt="";try{const xt=yield Ye.json();(null===(O=xt.error)||void 0===O?void 0:O.message)&&(Tt=xt.error.message)}catch(xt){}throw H.create("config-fetch-failed",{httpStatus:Ye.status,responseMessage:Tt})}return Ye.json()})).apply(this,arguments)}function ji(k){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,U.Z)(function*(k,O=Jt,B){const{appId:X,apiKey:de,measurementId:ve}=k.options;if(!X)throw H.create("no-app-id");if(!de){if(ve)return{measurementId:ve,appId:X};throw H.create("no-api-key")}const Ye=O.getThrottleMetadata(X)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Tt=new C;return setTimeout((0,U.Z)(function*(){Tt.abort()}),void 0!==B?B:6e4),Bs({appId:X,apiKey:de,measurementId:ve},Ye,Tt,O)})).apply(this,arguments)}function Bs(k,O,B){return Or.apply(this,arguments)}function Or(){return(Or=(0,U.Z)(function*(k,{throttleEndTimeMillis:O,backoffCount:B},X,de=Jt){const{appId:ve,measurementId:Ye}=k;try{yield vn(X,O)}catch(Tt){if(Ye)return Oi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ye} provided in the "measurementId" field in the local Firebase config. [${Tt.message}]`),{appId:ve,measurementId:Ye};throw Tt}try{const Tt=yield $t(k);return de.deleteThrottleMetadata(ve),Tt}catch(Tt){if(!Xn(Tt)){if(de.deleteThrottleMetadata(ve),Ye)return Oi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ye} provided in the "measurementId" field in the local Firebase config. [${Tt.message}]`),{appId:ve,measurementId:Ye};throw Tt}const xt=503===Number(Tt.customData.httpStatus)?(0,ge.$s)(B,de.intervalMillis,30):(0,ge.$s)(B,de.intervalMillis),zt={throttleEndTimeMillis:Date.now()+xt,backoffCount:B+1};return de.setThrottleMetadata(ve,zt),Oi.debug(`Calling attemptFetch again in ${xt} millis`),Bs(k,zt,X,de)}})).apply(this,arguments)}function vn(k,O){return new Promise((B,X)=>{const de=Math.max(O-Date.now(),0),ve=setTimeout(B,de);k.addEventListener(()=>{clearTimeout(ve),X(H.create("fetch-throttle",{throttleEndTimeMillis:O}))})})}function Xn(k){if(!(k instanceof ge.ZR&&k.customData))return!1;const O=Number(k.customData.httpStatus);return 429===O||500===O||503===O||504===O}class C{constructor(){this.listeners=[]}addEventListener(O){this.listeners.push(O)}abort(){this.listeners.forEach(O=>O())}}function M(){return I.apply(this,arguments)}function I(){return(I=(0,U.Z)(function*(){if(!(0,ge.hl)())return Oi.warn(H.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ge.eu)()}catch(k){return Oi.warn(H.create("indexeddb-unavailable",{errorInfo:k}).message),!1}return!0})).apply(this,arguments)}function R(){return(R=(0,U.Z)(function*(k,O,B,X,de,ve,Ye){var Tt;const xt=ji(k);xt.then(Ni=>{B[Ni.measurementId]=Ni.appId,k.options.measurementId&&Ni.measurementId!==k.options.measurementId&&Oi.warn(`The measurement ID in the local Firebase config (${k.options.measurementId}) does not match the measurement ID fetched from the server (${Ni.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ni=>Oi.error(Ni)),O.push(xt);const zt=M().then(Ni=>{if(Ni)return X.getId()}),[xn,Zt]=yield Promise.all([xt,zt]);bu()||Cc(ve,xn.measurementId),de("js",new Date);const Zi=null!==(Tt=null==Ye?void 0:Ye.config)&&void 0!==Tt?Tt:{};return Zi.origin="firebase",Zi.update=!0,null!=Zt&&(Zi[Nl]=Zt),de("config",xn.measurementId,Zi),xn.measurementId})).apply(this,arguments)}class F{constructor(O){this.app=O}_delete(){return delete $[this.app.options.appId],Promise.resolve()}}let $={},Q=[];const ae={};let Ze,ot,Se="dataLayer",wt=!1;function _n(k,O,B){!function en(){const k=[];if((0,ge.ru)()&&k.push("This is a browser extension environment."),(0,ge.zI)()||k.push("Cookies are not available."),k.length>0){const O=k.map((X,de)=>`(${de+1}) ${X}`).join(" "),B=H.create("invalid-analytics-context",{errorInfo:O});Oi.warn(B.message)}}();const X=k.options.appId;if(!X)throw H.create("no-app-id");if(!k.options.apiKey){if(!k.options.measurementId)throw H.create("no-api-key");Oi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${k.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=$[X])throw H.create("already-exists",{id:X});if(!wt){!function ws(k){let O=[];Array.isArray(window[k])?O=window[k]:window[k]=O}(Se);const{wrappedGtag:ve,gtagCore:Ye}=function Tc(k,O,B,X,de){let ve=function(...Ye){window[X].push(arguments)};return window[de]&&"function"==typeof window[de]&&(ve=window[de]),window[de]=function Ll(k,O,B,X){function ve(){return(ve=(0,U.Z)(function*(Ye,Tt,xt){try{"event"===Ye?yield Ec(k,O,B,Tt,xt):"config"===Ye?yield Ka(k,O,B,X,Tt,xt):k("set",Tt)}catch(zt){Oi.error(zt)}})).apply(this,arguments)}return function de(Ye,Tt,xt){return ve.apply(this,arguments)}}(ve,k,O,B),{gtagCore:ve,wrappedGtag:window[de]}}($,Q,ae,Se,"gtag");ot=ve,Ze=Ye,wt=!0}return $[X]=function b(k,O,B,X,de,ve,Ye){return R.apply(this,arguments)}(k,Q,ae,O,Ze,Se,B),new F(k)}function Gt(){return(Gt=(0,U.Z)(function*(k,O,B,X,de){if(de&&de.global)k("event",B,X);else{const ve=yield O;k("event",B,Object.assign(Object.assign({},X),{send_to:ve}))}})).apply(this,arguments)}function Hs(){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,U.Z)(function*(){if((0,ge.ru)()||!(0,ge.zI)()||!(0,ge.hl)())return!1;try{return yield(0,ge.eu)()}catch(k){return!1}})).apply(this,arguments)}const Kg="@firebase/analytics";!function Fe(){(0,ye._registerComponent)(new Pe.wA(Ol,(O,{options:B})=>_n(O.getProvider("app").getImmediate(),O.getProvider("installations-internal").getImmediate(),B),"PUBLIC")),(0,ye._registerComponent)(new Pe.wA("analytics-internal",function k(O){try{const B=O.getProvider(Ol).getImmediate();return{logEvent:(X,de,ve)=>function kh(k,O,B,X){k=(0,ge.m9)(k),function jt(k,O,B,X,de){return Gt.apply(this,arguments)}(ot,$[k.app.options.appId],O,B,X).catch(de=>Oi.error(de))}(B,X,de,ve)}}catch(B){throw H.create("interop-component-reg-failed",{reason:B})}},"PRIVATE")),(0,ye.registerVersion)(Kg,"0.7.8"),(0,ye.registerVersion)(Kg,"0.7.8","esm2017")}();var Eu=G(4408),Rh=G(7565);const $r=new class In extends Rh.v{}(class Ic extends Eu.o{constructor(O,B){super(O,B),this.scheduler=O,this.work=B}schedule(O,B=0){return B>0?super.schedule(O,B):(this.delay=B,this.state=O,this.scheduler.flush(this),this)}execute(O,B){return B>0||this.closed?super.execute(O,B):this._execute(O,B)}requestAsyncId(O,B,X=0){return null!=X&&X>0||null==X&&this.delay>0?super.requestAsyncId(O,B,X):O.flush(this)}});var Tu=G(4986),Du=G(8505),qr=G(5363),ko=G(9468);const Sc=new a.GfV("7.3.0"),Bl="__angularfire_symbol__analyticsIsSupportedValue",Es="__angularfire_symbol__analyticsIsSupported",Ul="__angularfire_symbol__remoteConfigIsSupportedValue",hd="__angularfire_symbol__remoteConfigIsSupported",gr="__angularfire_symbol__messagingIsSupportedValue",Ac="__angularfire_symbol__messagingIsSupported";function Ro(k,O,B){if(O){if(1===O.length)return O[0];const ve=O.filter(Ye=>Ye.app===B);if(1===ve.length)return ve[0]}return B.container.getProvider(k).getImmediate({optional:!0})}globalThis[Es]||(globalThis[Es]=Hs().then(k=>globalThis[Bl]=k).catch(()=>globalThis[Bl]=!1)),globalThis[Ac]||(globalThis[Ac]=vu().then(k=>globalThis[gr]=k).catch(()=>globalThis[gr]=!1)),globalThis[hd]||(globalThis[hd]=mu().then(k=>globalThis[Ul]=k).catch(()=>globalThis[Ul]=!1));const Nh=(k,O)=>{const B=O?[O]:(0,J.C6)(),X=[];return B.forEach(de=>{de.container.getProvider(k).instances.forEach(Ye=>{X.includes(Ye)||X.push(Ye)})}),X};function ta(){}class Ph{constructor(O,B=$r){this.zone=O,this.delegate=B}now(){return this.delegate.now()}schedule(O,B,X){const de=this.zone;return this.delegate.schedule(function(Ye){de.runGuarded(()=>{O.apply(this,[Ye])})},B,X)}}class fd{constructor(O){this.zone=O,this.task=null}call(O,B){const X=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ta,{},ta,ta)),B.pipe((0,Du.b)({next:X,complete:X,error:X})).subscribe(O).add(X)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let pd=(()=>{class k{constructor(B){this.ngZone=B,this.outsideAngular=B.runOutsideAngular(()=>new Ph(Zone.current)),this.insideAngular=B.run(()=>new Ph(Zone.current,Tu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return k.\u0275fac=function(B){return new(B||k)(a.LFG(a.R0b))},k.\u0275prov=a.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();function Ja(){const k=globalThis.\u0275AngularFireScheduler;if(!k)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return k}function Hl(k){return k.pipe((0,qr.Q)(Ja().outsideAngular))}function md(k){return Ja(),function Xa(k){return function(B){return(B=B.lift(new fd(k.ngZone))).pipe((0,ko.R)(k.outsideAngular),(0,qr.Q)(k.insideAngular))}}(Ja())(k)}},573:(Ot,Ue,G)=>{G.d(Ue,{$:()=>Br,A:()=>ne,E:()=>mn,G:()=>dr,I:()=>ns,K:()=>ee,L:()=>Dl,M:()=>ld,N:()=>zo,P:()=>Bl,Q:()=>Il,R:()=>vp,T:()=>is,U:()=>pr,V:()=>Ps,W:()=>xh,X:()=>tr,Y:()=>xl,Z:()=>xr,_:()=>gs,a:()=>oi,a0:()=>_u,a1:()=>cd,a2:()=>Ge,a3:()=>yu,a4:()=>Ls,a5:()=>bs,a6:()=>Qo,a7:()=>ud,a8:()=>mc,a9:()=>Vs,aA:()=>Zi,aB:()=>gd,aC:()=>Rn,aG:()=>Jt,aJ:()=>Ta,aa:()=>nr,ab:()=>Bn,ae:()=>Ml,af:()=>dd,ag:()=>_c,aj:()=>Co,ak:()=>Rl,am:()=>Pl,an:()=>Ka,ao:()=>di,ap:()=>ue,aq:()=>qt,ar:()=>lt,as:()=>Qe,at:()=>Dd,au:()=>Fh,av:()=>He,aw:()=>me,ax:()=>Te,ay:()=>oe,az:()=>zr,b:()=>wu,c:()=>Mc,d:()=>Ph,e:()=>Nh,f:()=>O,g:()=>Tt,h:()=>de,i:()=>en,j:()=>xn,k:()=>Nc,l:()=>In,m:()=>Sd,o:()=>Ee,r:()=>Qa,s:()=>Ic,u:()=>ko,z:()=>je});var a=G(5861),J=G(2090),U=G(9681),ye=G(655),ge=G(1877),Pe=G(4859);const Ee={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ne={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const je=function _e(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ke=function st(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Xe=new J.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ve=new ge.Yd("@firebase/auth");function gt(w,...g){Ve.logLevel<=ge.in.ERROR&&Ve.error(`Auth (${U.SDK_VERSION}): ${w}`,...g)}function Qe(w,...g){throw it(w,...g)}function He(w,...g){return it(w,...g)}function ce(w,g,y){const D=Object.assign(Object.assign({},Ke()),{[g]:y});return new J.LL("auth","Firebase",D).create(g,{appName:w.name})}function Oe(w,g,y){if(!(g instanceof y))throw y.name!==g.constructor.name&&Qe(w,"argument-error"),ce(w,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function it(w,...g){if("string"!=typeof w){const y=g[0],D=[...g.slice(1)];return D[0]&&(D[0].appName=w.name),w._errorFactory.create(y,...D)}return Xe.create(w,...g)}function me(w,g,...y){if(!w)throw it(g,...y)}function ft(w){const g="INTERNAL ASSERTION FAILED: "+w;throw gt(g),new Error(g)}function ue(w,g){w||ft(g)}const Ie=new Map;function Te(w){ue(w instanceof Function,"Expected a class definition");let g=Ie.get(w);return g?(ue(g instanceof w,"Instance stored in cache mismatched with class"),g):(g=new w,Ie.set(w,g),g)}function be(){var w;return"undefined"!=typeof self&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Bt(){return"http:"===Sn()||"https:"===Sn()}function Sn(){var w;return"undefined"!=typeof self&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class At{constructor(g,y){this.shortDelay=g,this.longDelay=y,ue(y>g,"Short delay should be less than long delay!"),this.isMobile=(0,J.uI)()||(0,J.b$)()}get(){return function gi(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Bt()||(0,J.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Hn(w,g){ue(w.emulator,"Emulator should always be set here");const{url:y}=w.emulator;return g?`${y}${g.startsWith("/")?g.slice(1):g}`:y}class Vn{static initialize(g,y,D){this.fetchImpl=g,y&&(this.headersImpl=y),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ft("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ft("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ft("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ir={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Mn=new At(3e4,6e4);function Cn(w,g){return w.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:w.tenantId}):g}function An(w,g,y,D){return ni.apply(this,arguments)}function ni(){return(ni=(0,a.Z)(function*(w,g,y,D,L={}){return xi(w,L,(0,a.Z)(function*(){let W={},pe={};D&&("GET"===g?pe=D:W={body:JSON.stringify(D)});const qe=(0,J.xO)(Object.assign({key:w.config.apiKey},pe)).slice(1),Rt=yield w._getAdditionalHeaders();return Rt["Content-Type"]="application/json",w.languageCode&&(Rt["X-Firebase-Locale"]=w.languageCode),Vn.fetch()(Xr(w,w.config.apiHost,y,qe),Object.assign({method:g,headers:Rt,referrerPolicy:"no-referrer"},W))}))})).apply(this,arguments)}function xi(w,g,y){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,a.Z)(function*(w,g,y){w._canInitEmulator=!1;const D=Object.assign(Object.assign({},Ir),g);try{const L=new qi(w),W=yield Promise.race([y(),L.promise]);L.clearNetworkTimeout();const pe=yield W.json();if("needConfirmation"in pe)throw ii(w,"account-exists-with-different-credential",pe);if(W.ok&&!("errorMessage"in pe))return pe;{const qe=W.ok?pe.errorMessage:pe.error.message,[Rt,Vt]=qe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Rt)throw ii(w,"credential-already-in-use",pe);if("EMAIL_EXISTS"===Rt)throw ii(w,"email-already-in-use",pe);const yn=D[Rt]||Rt.toLowerCase().replace(/[_\s]+/g,"-");if(Vt)throw ce(w,yn,Vt);Qe(w,yn)}}catch(L){if(L instanceof J.ZR)throw L;Qe(w,"network-request-failed")}})).apply(this,arguments)}function vi(w,g,y,D){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,a.Z)(function*(w,g,y,D,L={}){const W=yield An(w,g,y,D,L);return"mfaPendingCredential"in W&&Qe(w,"multi-factor-auth-required",{_serverResponse:W}),W})).apply(this,arguments)}function Xr(w,g,y,D){const L=`${g}${y}?${D}`;return w.config.emulator?Hn(w.config,L):`${w.config.apiScheme}://${L}`}class qi{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((y,D)=>{this.timer=setTimeout(()=>D(He(this.auth,"network-request-failed")),Mn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ii(w,g,y){const D={appName:w.name};y.email&&(D.email=y.email),y.phoneNumber&&(D.phoneNumber=y.phoneNumber);const L=He(w,g,D);return L.customData._tokenResponse=y,L}function kt(){return(kt=(0,a.Z)(function*(w,g){return An(w,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function ur(w,g){return bi.apply(this,arguments)}function bi(){return(bi=(0,a.Z)(function*(w,g){return An(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Nn(w,g){return ri.apply(this,arguments)}function ri(){return(ri=(0,a.Z)(function*(w,g){return An(w,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Di(w){if(w)try{const g=new Date(Number(w));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function jn(){return(jn=(0,a.Z)(function*(w,g=!1){const y=(0,J.m9)(w),D=yield y.getIdToken(g),L=sn(D);me(L&&L.exp&&L.auth_time&&L.iat,y.auth,"internal-error");const W="object"==typeof L.firebase?L.firebase:void 0,pe=null==W?void 0:W.sign_in_provider;return{claims:L,token:D,authTime:Di(Os(L.auth_time)),issuedAtTime:Di(Os(L.iat)),expirationTime:Di(Os(L.exp)),signInProvider:pe||null,signInSecondFactor:(null==W?void 0:W.sign_in_second_factor)||null}})).apply(this,arguments)}function Os(w){return 1e3*Number(w)}function sn(w){const[g,y,D]=w.split(".");if(void 0===g||void 0===y||void 0===D)return gt("JWT malformed, contained fewer than 3 sections"),null;try{const L=(0,J.tV)(y);return L?JSON.parse(L):(gt("Failed to decode base64 JWT payload"),null)}catch(L){return gt("Caught error parsing JWT payload as JSON",L),null}}function vt(w,g){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,a.Z)(function*(w,g,y=!1){if(y)return g;try{return yield g}catch(D){throw D instanceof J.ZR&&es(D)&&w.auth.currentUser===w&&(yield w.auth.signOut()),D}})).apply(this,arguments)}function es({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class cn{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var y;if(g){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const L=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,L)}}schedule(g=!1){var y=this;if(!this.isRunning)return;const D=this.getInterval(g);this.timerId=setTimeout((0,a.Z)(function*(){yield y.iteration()}),D)}iteration(){var g=this;return(0,a.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y.code&&g.schedule(!0))}g.schedule()})()}}class ts{constructor(g,y){this.createdAt=g,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=Di(this.lastLoginAt),this.creationTime=Di(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ci(w){return kn.apply(this,arguments)}function kn(){return(kn=(0,a.Z)(function*(w){var g;const y=w.auth,D=yield w.getIdToken(),L=yield vt(w,Nn(y,{idToken:D}));me(null==L?void 0:L.users.length,y,"internal-error");const W=L.users[0];w._notifyReloadListener(W);const pe=(null===(g=W.providerUserInfo)||void 0===g?void 0:g.length)?at(W.providerUserInfo):[],qe=un(w.providerData,pe),yn=!!w.isAnonymous&&!(w.email&&W.passwordHash||(null==qe?void 0:qe.length)),Ii={uid:W.localId,displayName:W.displayName||null,photoURL:W.photoUrl||null,email:W.email||null,emailVerified:W.emailVerified||!1,phoneNumber:W.phoneNumber||null,tenantId:W.tenantId||null,providerData:qe,metadata:new ts(W.createdAt,W.lastLoginAt),isAnonymous:yn};Object.assign(w,Ii)})).apply(this,arguments)}function ui(){return(ui=(0,a.Z)(function*(w){const g=(0,J.m9)(w);yield Ci(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function un(w,g){return[...w.filter(D=>!g.some(L=>L.providerId===D.providerId)),...g]}function at(w){return w.map(g=>{var{providerId:y}=g,D=(0,ye._T)(g,["providerId"]);return{providerId:y,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function Je(){return(Je=(0,a.Z)(function*(w,g){const y=yield xi(w,{},(0,a.Z)(function*(){const D=(0,J.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:L,apiKey:W}=w.config,pe=Xr(w,L,"/v1/token",`key=${W}`),qe=yield w._getAdditionalHeaders();return qe["Content-Type"]="application/x-www-form-urlencoded",Vn.fetch()(pe,{method:"POST",headers:qe,body:D})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class Nt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){me(g.idToken,"internal-error"),me(void 0!==g.idToken,"internal-error"),me(void 0!==g.refreshToken,"internal-error");const y="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function It(w){const g=sn(w);return me(g,"internal-error"),me(void 0!==g.exp,"internal-error"),me(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,y)}getToken(g,y=!1){var D=this;return(0,a.Z)(function*(){return me(!D.accessToken||D.refreshToken,g,"user-token-expired"),y||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(g,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,y){var D=this;return(0,a.Z)(function*(){const{accessToken:L,refreshToken:W,expiresIn:pe}=yield function Be(w,g){return Je.apply(this,arguments)}(g,y);D.updateTokensAndExpiration(L,W,Number(pe))})()}updateTokensAndExpiration(g,y,D){this.refreshToken=y||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(g,y){const{refreshToken:D,accessToken:L,expirationTime:W}=y,pe=new Nt;return D&&(me("string"==typeof D,"internal-error",{appName:g}),pe.refreshToken=D),L&&(me("string"==typeof L,"internal-error",{appName:g}),pe.accessToken=L),W&&(me("number"==typeof W,"internal-error",{appName:g}),pe.expirationTime=W),pe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Nt,this.toJSON())}_performRefresh(){return ft("not implemented")}}function nn(w,g){me("string"==typeof w||void 0===w,"internal-error",{appName:g})}class on{constructor(g){var{uid:y,auth:D,stsTokenManager:L}=g,W=(0,ye._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=D,this.stsTokenManager=L,this.accessToken=L.accessToken,this.displayName=W.displayName||null,this.email=W.email||null,this.emailVerified=W.emailVerified||!1,this.phoneNumber=W.phoneNumber||null,this.photoURL=W.photoURL||null,this.isAnonymous=W.isAnonymous||!1,this.tenantId=W.tenantId||null,this.providerData=W.providerData?[...W.providerData]:[],this.metadata=new ts(W.createdAt||void 0,W.lastLoginAt||void 0)}getIdToken(g){var y=this;return(0,a.Z)(function*(){const D=yield vt(y,y.stsTokenManager.getToken(y.auth,g));return me(D,y.auth,"internal-error"),y.accessToken!==D&&(y.accessToken=D,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),D})()}getIdTokenResult(g){return function Zn(w){return jn.apply(this,arguments)}(this,g)}reload(){return function Pt(w){return ui.apply(this,arguments)}(this)}_assign(g){this!==g&&(me(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(y=>Object.assign({},y)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new on(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,y=!1){var D=this;return(0,a.Z)(function*(){let L=!1;g.idToken&&g.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(g),L=!0),y&&(yield Ci(D)),yield D.auth._persistUserIfCurrent(D),L&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var g=this;return(0,a.Z)(function*(){const y=yield g.getIdToken();return yield vt(g,function Sr(w,g){return kt.apply(this,arguments)}(g.auth,{idToken:y})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,y){var D,L,W,pe,qe,Rt,Vt,yn;const Ii=null!==(D=y.displayName)&&void 0!==D?D:void 0,ra=null!==(L=y.email)&&void 0!==L?L:void 0,el=null!==(W=y.phoneNumber)&&void 0!==W?W:void 0,Gl=null!==(pe=y.photoURL)&&void 0!==pe?pe:void 0,xu=null!==(qe=y.tenantId)&&void 0!==qe?qe:void 0,Pc=null!==(Rt=y._redirectEventId)&&void 0!==Rt?Rt:void 0,Ip=null!==(Vt=y.createdAt)&&void 0!==Vt?Vt:void 0,Ad=null!==(yn=y.lastLoginAt)&&void 0!==yn?yn:void 0,{uid:Hh,emailVerified:Wr,isAnonymous:e_,providerData:Sp,stsTokenManager:t_}=y;me(Hh&&t_,g,"internal-error");const n_=Nt.fromJSON(this.name,t_);me("string"==typeof Hh,g,"internal-error"),nn(Ii,g.name),nn(ra,g.name),me("boolean"==typeof Wr,g,"internal-error"),me("boolean"==typeof e_,g,"internal-error"),nn(el,g.name),nn(Gl,g.name),nn(xu,g.name),nn(Pc,g.name),nn(Ip,g.name),nn(Ad,g.name);const Fc=new on({uid:Hh,auth:g,email:ra,emailVerified:Wr,displayName:Ii,isAnonymous:e_,photoURL:Gl,phoneNumber:el,tenantId:xu,stsTokenManager:n_,createdAt:Ip,lastLoginAt:Ad});return Sp&&Array.isArray(Sp)&&(Fc.providerData=Sp.map(i_=>Object.assign({},i_))),Pc&&(Fc._redirectEventId=Pc),Fc}static _fromIdTokenResponse(g,y,D=!1){return(0,a.Z)(function*(){const L=new Nt;L.updateFromServerResponse(y);const W=new on({uid:y.localId,auth:g,stsTokenManager:L,isAnonymous:D});return yield Ci(W),W})()}}const ee=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(y,D){var L=this;return(0,a.Z)(function*(){L.storage[y]=D})()}_get(y){var D=this;return(0,a.Z)(function*(){const L=D.storage[y];return void 0===L?null:L})()}_remove(y){var D=this;return(0,a.Z)(function*(){delete D.storage[y]})()}_addListener(y,D){}_removeListener(y,D){}}return w.type="NONE",w})();function oe(w,g,y){return`firebase:${w}:${g}:${y}`}class xe{constructor(g,y,D){this.persistence=g,this.auth=y,this.userKey=D;const{config:L,name:W}=this.auth;this.fullUserKey=oe(this.userKey,L.apiKey,W),this.fullPersistenceKey=oe("persistence",L.apiKey,W),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,a.Z)(function*(){const y=yield g.persistence._get(g.fullUserKey);return y?on._fromJSON(g.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var y=this;return(0,a.Z)(function*(){if(y.persistence===g)return;const D=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=g,D?y.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,y,D="authUser"){return(0,a.Z)(function*(){if(!y.length)return new xe(Te(ee),g,D);const L=(yield Promise.all(y.map(function(){var Vt=(0,a.Z)(function*(yn){if(yield yn._isAvailable())return yn});return function(yn){return Vt.apply(this,arguments)}}()))).filter(Vt=>Vt);let W=L[0]||Te(ee);const pe=oe(D,g.config.apiKey,g.name);let qe=null;for(const Vt of y)try{const yn=yield Vt._get(pe);if(yn){const Ii=on._fromJSON(g,yn);Vt!==W&&(qe=Ii),W=Vt;break}}catch(yn){}const Rt=L.filter(Vt=>Vt._shouldAllowMigration);return W._shouldAllowMigration&&Rt.length?(W=Rt[0],qe&&(yield W._set(pe,qe.toJSON())),yield Promise.all(y.map(function(){var Vt=(0,a.Z)(function*(yn){if(yn!==W)try{yield yn._remove(pe)}catch(Ii){}});return function(yn){return Vt.apply(this,arguments)}}())),new xe(W,g,D)):new xe(W,g,D)})()}}function q(w){const g=w.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(et(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(K(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Ut(g))return"Blackberry";if(Ct(g))return"Webos";if(te(g))return"Safari";if((g.includes("chrome/")||Ce(g))&&!g.includes("edge/"))return"Chrome";if(lt(g))return"Android";{const D=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==D?void 0:D.length))return D[1]}return"Other"}function K(w=(0,J.z$)()){return/firefox\//i.test(w)}function te(w=(0,J.z$)()){const g=w.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Ce(w=(0,J.z$)()){return/crios\//i.test(w)}function et(w=(0,J.z$)()){return/iemobile/i.test(w)}function lt(w=(0,J.z$)()){return/android/i.test(w)}function Ut(w=(0,J.z$)()){return/blackberry/i.test(w)}function Ct(w=(0,J.z$)()){return/webos/i.test(w)}function qt(w=(0,J.z$)()){return/iphone|ipad|ipod/i.test(w)}function di(w=(0,J.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function Xi(w=(0,J.z$)()){return qt(w)||lt(w)||Ct(w)||Ut(w)||/windows phone/i.test(w)||et(w)}function qn(w,g=[]){let y;switch(w){case"Browser":y=q((0,J.z$)());break;case"Worker":y=`${q((0,J.z$)())}-${w}`;break;default:y=w}const D=g.length?g.join(","):"FirebaseCore-web";return`${y}/JsCore/${U.SDK_VERSION}/${D}`}class Ar{constructor(g,y,D){this.app=g,this.heartbeatServiceProvider=y,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ct(this),this.idTokenSubscription=new ct(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(g,y){var D=this;return y&&(this._popupRedirectResolver=Te(y)),this._initializationPromise=this.queue((0,a.Z)(function*(){var L,W;if(!D._deleted&&(D.persistenceManager=yield xe.create(D,g),!D._deleted)){if(null===(L=D._popupRedirectResolver)||void 0===L?void 0:L._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch(pe){}yield D.initializeCurrentUser(y),D.lastNotifiedUid=(null===(W=D.currentUser)||void 0===W?void 0:W.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,a.Z)(function*(){if(g._deleted)return;const y=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||y){if(g.currentUser&&y&&g.currentUser.uid===y.uid)return g._currentUser._assign(y),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(y)}})()}initializeCurrentUser(g){var y=this;return(0,a.Z)(function*(){var D;let L=yield y.assertedPersistence.getCurrentUser();if(g&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const W=null===(D=y.redirectUser)||void 0===D?void 0:D._redirectEventId,pe=null==L?void 0:L._redirectEventId,qe=yield y.tryRedirectSignIn(g);(!W||W===pe)&&(null==qe?void 0:qe.user)&&(L=qe.user)}return L?L._redirectEventId?(me(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===L._redirectEventId?y.directlySetCurrentUser(L):y.reloadAndSetCurrentUserOrClear(L)):y.reloadAndSetCurrentUserOrClear(L):y.directlySetCurrentUser(null)})()}tryRedirectSignIn(g){var y=this;return(0,a.Z)(function*(){let D=null;try{D=yield y._popupRedirectResolver._completeRedirectFn(y,g,!0)}catch(L){yield y._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(g){var y=this;return(0,a.Z)(function*(){try{yield Ci(g)}catch(D){if("auth/network-request-failed"!==D.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function St(){if("undefined"==typeof navigator)return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var g=this;return(0,a.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var y=this;return(0,a.Z)(function*(){const D=g?(0,J.m9)(g):null;return D&&me(D.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(D&&D._clone(y))})()}_updateCurrentUser(g){var y=this;return(0,a.Z)(function*(){if(!y._deleted)return g&&me(y.tenantId===g.tenantId,y,"tenant-id-mismatch"),y.queue((0,a.Z)(function*(){yield y.directlySetCurrentUser(g),y.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,a.Z)(function*(){return(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null)})()}setPersistence(g){var y=this;return this.queue((0,a.Z)(function*(){yield y.assertedPersistence.setPersistence(Te(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new J.LL("auth","Firebase",g())}onAuthStateChanged(g,y,D){return this.registerStateListener(this.authStateSubscription,g,y,D)}onIdTokenChanged(g,y,D){return this.registerStateListener(this.idTokenSubscription,g,y,D)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,y){var D=this;return(0,a.Z)(function*(){const L=yield D.getOrInitRedirectPersistenceManager(y);return null===g?L.removeCurrentUser():L.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var y=this;return(0,a.Z)(function*(){if(!y.redirectPersistenceManager){const D=g&&Te(g)||y._popupRedirectResolver;me(D,y,"argument-error"),y.redirectPersistenceManager=yield xe.create(y,[Te(D._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(g){var y=this;return(0,a.Z)(function*(){var D,L;return y._isInitialized&&(yield y.queue((0,a.Z)(function*(){}))),(null===(D=y._currentUser)||void 0===D?void 0:D._redirectEventId)===g?y._currentUser:(null===(L=y.redirectUser)||void 0===L?void 0:L._redirectEventId)===g?y.redirectUser:null})()}_persistUserIfCurrent(g){var y=this;return(0,a.Z)(function*(){if(g===y.currentUser)return y.queue((0,a.Z)(function*(){return y.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(y=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,y,D,L){if(this._deleted)return()=>{};const W="function"==typeof y?y:y.next.bind(y),pe=this._isInitialized?Promise.resolve():this._initializationPromise;return me(pe,this,"internal-error"),pe.then(()=>W(this.currentUser)),"function"==typeof y?g.addObserver(y,D,L):g.addObserver(y)}directlySetCurrentUser(g){var y=this;return(0,a.Z)(function*(){y.currentUser&&y.currentUser!==g&&(y._currentUser._stopProactiveRefresh(),g&&y.isProactiveRefreshEnabled&&g._startProactiveRefresh()),y.currentUser=g,g?yield y.assertedPersistence.setCurrentUser(g):yield y.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=qn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,a.Z)(function*(){var y;const D={"X-Client-Version":g.clientVersion};g.app.options.appId&&(D["X-Firebase-gmpid"]=g.app.options.appId);const L=yield null===(y=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();return L&&(D["X-Firebase-Client"]=L),D})()}}function Rn(w){return(0,J.m9)(w)}class ct{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,J.ne)(y=>this.observer=y)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function mn(w,g,y){const D=Rn(w);me(D._canInitEmulator,D,"emulator-config-failed"),me(/^https?:\/\//.test(g),D,"invalid-emulator-scheme");const L=!!(null==y?void 0:y.disableWarnings),W=Yn(g),{host:pe,port:qe}=function Bi(w){const g=Yn(w),y=/(\/\/)?([^?#/]+)/.exec(w.substr(g.length));if(!y)return{host:"",port:null};const D=y[2].split("@").pop()||"",L=/^(\[[^\]]+\])(:|$)/.exec(D);if(L){const W=L[1];return{host:W,port:Xs(D.substr(W.length+1))}}{const[W,pe]=D.split(":");return{host:W,port:Xs(pe)}}}(g);D.config.emulator={url:`${W}//${pe}${null===qe?"":`:${qe}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:pe,port:qe,protocol:W.replace(":",""),options:Object.freeze({disableWarnings:L})}),L||function Ui(){function w(){const g=document.createElement("p"),y=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function Yn(w){const g=w.indexOf(":");return g<0?"":w.substr(0,g+1)}function Xs(w){if(!w)return null;const g=Number(w);return isNaN(g)?null:g}class dr{constructor(g,y){this.providerId=g,this.signInMethod=y}toJSON(){return ft("not implemented")}_getIdTokenResponse(g){return ft("not implemented")}_linkToIdToken(g,y){return ft("not implemented")}_getReauthenticationResolver(g){return ft("not implemented")}}function hi(w,g){return fi.apply(this,arguments)}function fi(){return(fi=(0,a.Z)(function*(w,g){return An(w,"POST","/v1/accounts:resetPassword",Cn(w,g))})).apply(this,arguments)}function hr(w,g){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,a.Z)(function*(w,g){return An(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function er(w,g){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,a.Z)(function*(w,g){return An(w,"POST","/v1/accounts:update",Cn(w,g))})).apply(this,arguments)}function ms(){return(ms=(0,a.Z)(function*(w,g){return vi(w,"POST","/v1/accounts:signInWithPassword",Cn(w,g))})).apply(this,arguments)}function Si(w,g){return to.apply(this,arguments)}function to(){return(to=(0,a.Z)(function*(w,g){return An(w,"POST","/v1/accounts:sendOobCode",Cn(w,g))})).apply(this,arguments)}function _o(w,g){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,a.Z)(function*(w,g){return Si(w,g)})).apply(this,arguments)}function Kn(w,g){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,a.Z)(function*(w,g){return Si(w,g)})).apply(this,arguments)}function wl(w,g){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,a.Z)(function*(w,g){return Si(w,g)})).apply(this,arguments)}function fr(w,g){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,a.Z)(function*(w,g){return Si(w,g)})).apply(this,arguments)}function Ea(){return(Ea=(0,a.Z)(function*(w,g){return vi(w,"POST","/v1/accounts:signInWithEmailLink",Cn(w,g))})).apply(this,arguments)}function El(){return(El=(0,a.Z)(function*(w,g){return vi(w,"POST","/v1/accounts:signInWithEmailLink",Cn(w,g))})).apply(this,arguments)}class vo extends dr{constructor(g,y,D,L=null){super("password",D),this._email=g,this._password=y,this._tenantId=L}static _fromEmailAndPassword(g,y){return new vo(g,y,"password")}static _fromEmailAndCode(g,y,D=null){return new vo(g,y,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g;if((null==y?void 0:y.email)&&(null==y?void 0:y.password)){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(g){var y=this;return(0,a.Z)(function*(){switch(y.signInMethod){case"password":return function eo(w,g){return ms.apply(this,arguments)}(g,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function yo(w,g){return Ea.apply(this,arguments)}(g,{email:y._email,oobCode:y._password});default:Qe(g,"internal-error")}})()}_linkToIdToken(g,y){var D=this;return(0,a.Z)(function*(){switch(D.signInMethod){case"password":return hr(g,{idToken:y,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function zi(w,g){return El.apply(this,arguments)}(g,{idToken:y,email:D._email,oobCode:D._password});default:Qe(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function bo(w,g){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,a.Z)(function*(w,g){return vi(w,"POST","/v1/accounts:signInWithIdp",Cn(w,g))})).apply(this,arguments)}class ns extends dr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const y=new ns(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(y.idToken=g.idToken),g.accessToken&&(y.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(y.nonce=g.nonce),g.pendingToken&&(y.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(y.accessToken=g.oauthToken,y.secret=g.oauthTokenSecret):Qe("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:D,signInMethod:L}=y,W=(0,ye._T)(y,["providerId","signInMethod"]);if(!D||!L)return null;const pe=new ns(D,L);return pe.idToken=W.idToken||void 0,pe.accessToken=W.accessToken||void 0,pe.secret=W.secret,pe.nonce=W.nonce,pe.pendingToken=W.pendingToken||null,pe}_getIdTokenResponse(g){return bo(g,this.buildRequest())}_linkToIdToken(g,y){const D=this.buildRequest();return D.idToken=y,bo(g,D)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,bo(g,y)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),g.postBody=(0,J.xO)(y)}return g}}function Sh(w,g){return fu.apply(this,arguments)}function fu(){return(fu=(0,a.Z)(function*(w,g){return An(w,"POST","/v1/accounts:sendVerificationCode",Cn(w,g))})).apply(this,arguments)}function $a(){return($a=(0,a.Z)(function*(w,g){return vi(w,"POST","/v1/accounts:signInWithPhoneNumber",Cn(w,g))})).apply(this,arguments)}function $o(){return($o=(0,a.Z)(function*(w,g){const y=yield vi(w,"POST","/v1/accounts:signInWithPhoneNumber",Cn(w,g));if(y.temporaryProof)throw ii(w,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const qa={USER_NOT_FOUND:"user-not-found"};function dc(){return(dc=(0,a.Z)(function*(w,g){return vi(w,"POST","/v1/accounts:signInWithPhoneNumber",Cn(w,Object.assign(Object.assign({},g),{operation:"REAUTH"})),qa)})).apply(this,arguments)}class qo extends dr{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,y){return new qo({verificationId:g,verificationCode:y})}static _fromTokenResponse(g,y){return new qo({phoneNumber:g,temporaryProof:y})}_getIdTokenResponse(g){return function pu(w,g){return $a.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,y){return function _i(w,g){return $o.apply(this,arguments)}(g,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Tl(w,g){return dc.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:y,verificationId:D,verificationCode:L}=this.params;return g&&y?{temporaryProof:g,phoneNumber:y}:{sessionInfo:D,code:L}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:y,verificationCode:D,phoneNumber:L,temporaryProof:W}=g;return D||y||L||W?new qo({verificationId:y,verificationCode:D,phoneNumber:L,temporaryProof:W}):null}}class Ns{constructor(g){var y,D,L,W,pe,qe;const Rt=(0,J.zd)((0,J.pd)(g)),Vt=null!==(y=Rt.apiKey)&&void 0!==y?y:null,yn=null!==(D=Rt.oobCode)&&void 0!==D?D:null,Ii=function ad(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(L=Rt.mode)&&void 0!==L?L:null);me(Vt&&yn&&Ii,"argument-error"),this.apiKey=Vt,this.operation=Ii,this.code=yn,this.continueUrl=null!==(W=Rt.continueUrl)&&void 0!==W?W:null,this.languageCode=null!==(pe=Rt.languageCode)&&void 0!==pe?pe:null,this.tenantId=null!==(qe=Rt.tenantId)&&void 0!==qe?qe:null}static parseLink(g){const y=function Ah(w){const g=(0,J.zd)((0,J.pd)(w)).link,y=g?(0,J.zd)((0,J.pd)(g)).deep_link_id:null,D=(0,J.zd)((0,J.pd)(w)).deep_link_id;return(D?(0,J.zd)((0,J.pd)(D)).link:null)||D||y||g||w}(g);try{return new Ns(y)}catch(D){return null}}}let Dl=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(y,D){return vo._fromEmailAndPassword(y,D)}static credentialWithLink(y,D){const L=Ns.parseLink(D);return me(L,"argument-error"),vo._fromEmailAndCode(y,L.code,L.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class no{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class za extends no{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class is extends za{static credentialFromJSON(g){const y="string"==typeof g?JSON.parse(g):g;return me("providerId"in y&&"signInMethod"in y,"argument-error"),ns._fromParams(y)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return me(g.idToken||g.accessToken,"argument-error"),ns._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return is.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return is.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:D,oauthTokenSecret:L,pendingToken:W,nonce:pe,providerId:qe}=g;if(!D&&!L&&!y&&!W||!qe)return null;try{return new is(qe)._credential({idToken:y,accessToken:D,nonce:pe,pendingToken:W})}catch(Rt){return null}}}let ld=(()=>{class w extends za{constructor(){super("facebook.com")}static credential(y){return ns._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch(D){return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),zo=(()=>{class w extends za{constructor(){super("google.com"),this.addScope("profile")}static credential(y,D){return ns._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:D})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:D,oauthAccessToken:L}=y;if(!D&&!L)return null;try{return w.credential(D,L)}catch(W){return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Il=(()=>{class w extends za{constructor(){super("github.com")}static credential(y){return ns._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch(D){return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class Ta extends dr{constructor(g,y){super(g,g),this.pendingToken=y}_getIdTokenResponse(g){return bo(g,this.buildRequest())}_linkToIdToken(g,y){const D=this.buildRequest();return D.idToken=y,bo(g,D)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,bo(g,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:D,signInMethod:L,pendingToken:W}=y;return D&&L&&W&&D===L?new Ta(D,W):null}static _create(g,y){return new Ta(g,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class pr extends no{constructor(g){me(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return pr.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return pr.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const y=Ta.fromJSON(g);return me(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:y,providerId:D}=g;if(!y||!D)return null;try{return Ta._create(D,y)}catch(L){return null}}}let Ps=(()=>{class w extends za{constructor(){super("twitter.com")}static credential(y,D){return ns._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:D})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:D,oauthTokenSecret:L}=y;if(!D||!L)return null;try{return w.credential(D,L)}catch(W){return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function Sl(w,g){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,a.Z)(function*(w,g){return vi(w,"POST","/v1/accounts:signUp",Cn(w,g))})).apply(this,arguments)}class yi{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,y,D,L=!1){return(0,a.Z)(function*(){const W=yield on._fromIdTokenResponse(g,D,L),pe=wo(D);return new yi({user:W,providerId:pe,_tokenResponse:D,operationType:y})})()}static _forOperation(g,y,D){return(0,a.Z)(function*(){yield g._updateTokensIfNecessary(D,!0);const L=wo(D);return new yi({user:g,providerId:L,_tokenResponse:D,operationType:y})})()}}function wo(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function xh(w){return Da.apply(this,arguments)}function Da(){return(Da=(0,a.Z)(function*(w){var g;const y=Rn(w);if(yield y._initializationPromise,null===(g=y.currentUser)||void 0===g?void 0:g.isAnonymous)return new yi({user:y.currentUser,providerId:null,operationType:"signIn"});const D=yield Sl(y,{returnSecureToken:!0}),L=yield yi._fromIdTokenResponse(y,"signIn",D,!0);return yield y._updateCurrentUser(L.user),L})).apply(this,arguments)}class hc extends J.ZR{constructor(g,y,D,L){var W;super(y.code,y.message),this.operationType=D,this.user=L,Object.setPrototypeOf(this,hc.prototype),this.customData={appName:g.name,tenantId:null!==(W=g.tenantId)&&void 0!==W?W:void 0,_serverResponse:y.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(g,y,D,L){return new hc(g,y,D,L)}}function gu(w,g,y,D){return("reauthenticate"===g?y._getReauthenticationResolver(w):y._getIdTokenResponse(w)).catch(W=>{throw"auth/multi-factor-auth-required"===W.code?hc._fromErrorAndOperation(w,W,g,D):W})}function Al(w){return new Set(w.map(({providerId:g})=>g).filter(g=>!!g))}function Co(w,g){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,a.Z)(function*(w,g){const y=(0,J.m9)(w);yield Zo(!0,y,g);const{providerUserInfo:D}=yield ur(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[g]}),L=Al(D||[]);return y.providerData=y.providerData.filter(W=>L.has(W.providerId)),L.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function fc(w,g){return si.apply(this,arguments)}function si(){return(si=(0,a.Z)(function*(w,g,y=!1){const D=yield vt(w,g._linkToIdToken(w.auth,yield w.getIdToken()),y);return yi._forOperation(w,"link",D)})).apply(this,arguments)}function Zo(w,g,y){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,a.Z)(function*(w,g,y){yield Ci(g);const L=!1===w?"provider-already-linked":"no-such-provider";me(Al(g.providerData).has(y)===w,g.auth,L)})).apply(this,arguments)}function Jn(w,g){return pc.apply(this,arguments)}function pc(){return(pc=(0,a.Z)(function*(w,g,y=!1){const{auth:D}=w,L="reauthenticate";try{const W=yield vt(w,gu(D,L,g,w),y);me(W.idToken,D,"internal-error");const pe=sn(W.idToken);me(pe,D,"internal-error");const{sub:qe}=pe;return me(w.uid===qe,D,"user-mismatch"),yi._forOperation(w,L,W)}catch(W){throw"auth/user-not-found"===(null==W?void 0:W.code)&&Qe(D,"user-mismatch"),W}})).apply(this,arguments)}function Ia(w,g){return To.apply(this,arguments)}function To(){return(To=(0,a.Z)(function*(w,g,y=!1){const D="signIn",L=yield gu(w,D,g),W=yield yi._fromIdTokenResponse(w,D,L);return y||(yield w._updateCurrentUser(W.user)),W})).apply(this,arguments)}function tr(w,g){return ki.apply(this,arguments)}function ki(){return(ki=(0,a.Z)(function*(w,g){return Ia(Rn(w),g)})).apply(this,arguments)}function xl(w,g){return rs.apply(this,arguments)}function rs(){return(rs=(0,a.Z)(function*(w,g){const y=(0,J.m9)(w);return yield Zo(!1,y,g.providerId),fc(y,g)})).apply(this,arguments)}function xr(w,g){return ro.apply(this,arguments)}function ro(){return(ro=(0,a.Z)(function*(w,g){return Jn((0,J.m9)(w),g)})).apply(this,arguments)}function Ko(w,g){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,a.Z)(function*(w,g){return vi(w,"POST","/v1/accounts:signInWithCustomToken",Cn(w,g))})).apply(this,arguments)}function gs(w,g){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,a.Z)(function*(w,g){const y=Rn(w),D=yield Ko(y,{token:g,returnSecureToken:!0}),L=yield yi._fromIdTokenResponse(y,"signIn",D);return yield y._updateCurrentUser(L.user),L})).apply(this,arguments)}class so{constructor(g,y){this.factorId=g,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(g,y){return"phoneInfo"in y?Lt._fromServerResponse(g,y):Qe(g,"internal-error")}}class Lt extends so{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,y){return new Lt(y)}}function Za(w,g,y){var D;me((null===(D=y.url)||void 0===D?void 0:D.length)>0,w,"invalid-continue-uri"),me(void 0===y.dynamicLinkDomain||y.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),g.continueUrl=y.url,g.dynamicLinkDomain=y.dynamicLinkDomain,g.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(me(y.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),g.iOSBundleId=y.iOS.bundleId),y.android&&(me(y.android.packageName.length>0,w,"missing-android-pkg-name"),g.androidInstallApp=y.android.installApp,g.androidMinimumVersionCode=y.android.minimumVersion,g.androidPackageName=y.android.packageName)}function Br(w,g,y){return _s.apply(this,arguments)}function _s(){return(_s=(0,a.Z)(function*(w,g,y){const D=(0,J.m9)(w),L={requestType:"PASSWORD_RESET",email:g};y&&Za(D,L,y),yield Kn(D,L)})).apply(this,arguments)}function _u(w,g,y){return ys.apply(this,arguments)}function ys(){return(ys=(0,a.Z)(function*(w,g,y){yield hi((0,J.m9)(w),{oobCode:g,newPassword:y})})).apply(this,arguments)}function cd(w,g){return vs.apply(this,arguments)}function vs(){return(vs=(0,a.Z)(function*(w,g){yield er((0,J.m9)(w),{oobCode:g})})).apply(this,arguments)}function Ge(w,g){return dn.apply(this,arguments)}function dn(){return(dn=(0,a.Z)(function*(w,g){const y=(0,J.m9)(w),D=yield hi(y,{oobCode:g}),L=D.requestType;switch(me(L,y,"internal-error"),L){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":me(D.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":me(D.mfaInfo,y,"internal-error");default:me(D.email,y,"internal-error")}let W=null;return D.mfaInfo&&(W=so._fromServerResponse(Rn(y),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:W},operation:L}})).apply(this,arguments)}function yu(w,g){return hn.apply(this,arguments)}function hn(){return(hn=(0,a.Z)(function*(w,g){const{data:y}=yield Ge((0,J.m9)(w),g);return y.email})).apply(this,arguments)}function Ls(w,g,y){return ss.apply(this,arguments)}function ss(){return(ss=(0,a.Z)(function*(w,g,y){const D=Rn(w),L=yield Sl(D,{returnSecureToken:!0,email:g,password:y}),W=yield yi._fromIdTokenResponse(D,"signIn",L);return yield D._updateCurrentUser(W.user),W})).apply(this,arguments)}function bs(w,g,y){return tr((0,J.m9)(w),Dl.credential(g,y))}function Qo(w,g,y){return oo.apply(this,arguments)}function oo(){return(oo=(0,a.Z)(function*(w,g,y){const D=(0,J.m9)(w),L={requestType:"EMAIL_SIGNIN",email:g};me(y.handleCodeInApp,D,"argument-error"),y&&Za(D,L,y),yield wl(D,L)})).apply(this,arguments)}function ud(w,g){const y=Ns.parseLink(g);return"EMAIL_SIGNIN"===(null==y?void 0:y.operation)}function mc(w,g,y){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,a.Z)(function*(w,g,y){const D=(0,J.m9)(w),L=Dl.credentialWithLink(g,y||be());return me(L._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),tr(D,L)})).apply(this,arguments)}function Do(w,g){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,a.Z)(function*(w,g){return An(w,"POST","/v1/accounts:createAuthUri",Cn(w,g))})).apply(this,arguments)}function Vs(w,g){return xa.apply(this,arguments)}function xa(){return(xa=(0,a.Z)(function*(w,g){const D={identifier:g,continueUri:Bt()?be():"http://localhost"},{signinMethods:L}=yield Do((0,J.m9)(w),D);return L||[]})).apply(this,arguments)}function nr(w,g){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,a.Z)(function*(w,g){const y=(0,J.m9)(w),L={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};g&&Za(y.auth,L,g);const{email:W}=yield _o(y.auth,L);W!==w.email&&(yield w.reload())})).apply(this,arguments)}function Bn(w,g,y){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,a.Z)(function*(w,g,y){const D=(0,J.m9)(w),W={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:g};y&&Za(D.auth,W,y);const{email:pe}=yield fr(D.auth,W);pe!==w.email&&(yield w.reload())})).apply(this,arguments)}function gc(w,g){return mr.apply(this,arguments)}function mr(){return(mr=(0,a.Z)(function*(w,g){return An(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ml(w,g){return ao.apply(this,arguments)}function ao(){return(ao=(0,a.Z)(function*(w,{displayName:g,photoURL:y}){if(void 0===g&&void 0===y)return;const D=(0,J.m9)(w),W={idToken:yield D.getIdToken(),displayName:g,photoUrl:y,returnSecureToken:!0},pe=yield vt(D,gc(D.auth,W));D.displayName=pe.displayName||null,D.photoURL=pe.photoUrl||null;const qe=D.providerData.find(({providerId:Rt})=>"password"===Rt);qe&&(qe.displayName=D.displayName,qe.photoURL=D.photoURL),yield D._updateTokensIfNecessary(pe)})).apply(this,arguments)}function dd(w,g){return yc((0,J.m9)(w),g,null)}function _c(w,g){return yc((0,J.m9)(w),null,g)}function yc(w,g,y){return kl.apply(this,arguments)}function kl(){return(kl=(0,a.Z)(function*(w,g,y){const{auth:D}=w,W={idToken:yield w.getIdToken(),returnSecureToken:!0};g&&(W.email=g),y&&(W.password=y);const pe=yield vt(w,hr(D,W));yield w._updateTokensIfNecessary(pe,!0)})).apply(this,arguments)}class Jo{constructor(g,y,D={}){this.isNewUser=g,this.providerId=y,this.profile=D}}class vc extends Jo{constructor(g,y,D,L){super(g,y,D),this.username=L}}class bc extends Jo{constructor(g,y){super(g,"facebook.com",y)}}class vu extends vc{constructor(g,y){super(g,"github.com",y,"string"==typeof(null==y?void 0:y.login)?null==y?void 0:y.login:null)}}class Xo extends Jo{constructor(g,y){super(g,"google.com",y)}}class Io extends vc{constructor(g,y,D){super(g,"twitter.com",y,D)}}function Rl(w){const{user:g,_tokenResponse:y}=w;return g.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function Ya(w){var g,y;if(!w)return null;const{providerId:D}=w,L=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},W=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!D&&(null==w?void 0:w.idToken)){const pe=null===(y=null===(g=sn(w.idToken))||void 0===g?void 0:g.firebase)||void 0===y?void 0:y.sign_in_provider;if(pe)return new Jo(W,"anonymous"!==pe&&"custom"!==pe?pe:null)}if(!D)return null;switch(D){case"facebook.com":return new bc(W,L);case"github.com":return new vu(W,L);case"google.com":return new Xo(W,L);case"twitter.com":return new Io(W,L,w.screenName||null);case"custom":case"anonymous":return new Jo(W,null);default:return new Jo(W,D,L)}}(y)}class So{constructor(g,y){this.type=g,this.credential=y}static _fromIdtoken(g){return new So("enroll",g)}static _fromMfaPendingCredential(g){return new So("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var y,D;if(null==g?void 0:g.multiFactorSession){if(null===(y=g.multiFactorSession)||void 0===y?void 0:y.pendingCredential)return So._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(D=g.multiFactorSession)||void 0===D?void 0:D.idToken)return So._fromIdtoken(g.multiFactorSession.idToken)}return null}}class ea{constructor(g,y,D){this.session=g,this.hints=y,this.signInResolver=D}static _fromError(g,y){const D=Rn(g),L=y.customData._serverResponse,W=(L.mfaInfo||[]).map(qe=>so._fromServerResponse(D,qe));me(L.mfaPendingCredential,D,"internal-error");const pe=So._fromMfaPendingCredential(L.mfaPendingCredential);return new ea(pe,W,function(){var qe=(0,a.Z)(function*(Rt){const Vt=yield Rt._process(D,pe);delete L.mfaInfo,delete L.mfaPendingCredential;const yn=Object.assign(Object.assign({},L),{idToken:Vt.idToken,refreshToken:Vt.refreshToken});switch(y.operationType){case"signIn":const Ii=yield yi._fromIdTokenResponse(D,y.operationType,yn);return yield D._updateCurrentUser(Ii.user),Ii;case"reauthenticate":return me(y.user,D,"internal-error"),yi._forOperation(y.user,y.operationType,yn);default:Qe(D,"internal-error")}});return function(Rt){return qe.apply(this,arguments)}}())}resolveSignIn(g){var y=this;return(0,a.Z)(function*(){return y.signInResolver(g)})()}}function Pl(w,g){var y;const D=(0,J.m9)(w),L=g;return me(g.customData.operationType,D,"argument-error"),me(null===(y=L.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,D,"argument-error"),ea._fromError(D,L)}function Fl(w,g){return An(w,"POST","/v2/accounts/mfaEnrollment:start",Cn(w,g))}class Cc{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(D=>so._fromServerResponse(g.auth,D)))})}static _fromUser(g){return new Cc(g)}getSession(){var g=this;return(0,a.Z)(function*(){return So._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,y){var D=this;return(0,a.Z)(function*(){const L=g,W=yield D.getSession(),pe=yield vt(D.user,L._process(D.user.auth,W,y));return yield D.user._updateTokensIfNecessary(pe),D.user.reload()})()}unenroll(g){var y=this;return(0,a.Z)(function*(){const D="string"==typeof g?g:g.uid,L=yield y.user.getIdToken(),W=yield vt(y.user,function wc(w,g){return An(w,"POST","/v2/accounts/mfaEnrollment:withdraw",Cn(w,g))}(y.user.auth,{idToken:L,mfaEnrollmentId:D}));y.enrolledFactors=y.enrolledFactors.filter(({uid:pe})=>pe!==D),yield y.user._updateTokensIfNecessary(W);try{yield y.user.reload()}catch(pe){if("auth/user-token-expired"!==pe.code)throw pe}})()}}const ws=new WeakMap;function Ka(w){const g=(0,J.m9)(w);return ws.has(g)||ws.set(g,Cc._fromUser(g)),ws.get(g)}const Ao="__sak";class Ec{constructor(g,y){this.storageRetriever=g,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(Ao,"1"),this.storage.removeItem(Ao),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,y){return this.storage.setItem(g,JSON.stringify(y)),Promise.resolve()}_get(g){const y=this.storage.getItem(g);return Promise.resolve(y?JSON.parse(y):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const wu=(()=>{class w extends Ec{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,D)=>this.onStorageEvent(y,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function jr(){const w=(0,J.z$)();return te(w)||qt(w)}()&&function ps(){try{return!(!window||window===window.top)}catch(w){return!1}}(),this.fallbackToPolling=Xi(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const D of Object.keys(this.listeners)){const L=this.storage.getItem(D),W=this.localCache[D];L!==W&&y(D,W,L)}}onStorageEvent(y,D=!1){if(!y.key)return void this.forAllChangedKeys((qe,Rt,Vt)=>{this.notifyListeners(qe,Vt)});const L=y.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const qe=this.storage.getItem(L);if(y.newValue!==qe)null!==y.newValue?this.storage.setItem(L,y.newValue):this.storage.removeItem(L);else if(this.localCache[L]===y.newValue&&!D)return}const W=()=>{const qe=this.storage.getItem(L);!D&&this.localCache[L]===qe||this.notifyListeners(L,qe)},pe=this.storage.getItem(L);!function En(){return(0,J.w1)()&&10===document.documentMode}()||pe===y.newValue||y.newValue===y.oldValue?W():setTimeout(W,10)}notifyListeners(y,D){this.localCache[y]=D;const L=this.listeners[y];if(L)for(const W of Array.from(L))W(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,D,L)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:D,newValue:L}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(D)}_removeListener(y,D){this.listeners[y]&&(this.listeners[y].delete(D),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,D){var L=()=>super._set,W=this;return(0,a.Z)(function*(){yield L().call(W,y,D),W.localCache[y]=JSON.stringify(D)})()}_get(y){var D=()=>super._get,L=this;return(0,a.Z)(function*(){const W=yield D().call(L,y);return L.localCache[y]=JSON.stringify(W),W})()}_remove(y){var D=()=>super._remove,L=this;return(0,a.Z)(function*(){yield D().call(L,y),delete L.localCache[y]})()}}return w.type="LOCAL",w})(),oi=(()=>{class w extends Ec{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,D){}_removeListener(y,D){}}return w.type="SESSION",w})();let kr=(()=>{class w{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const D=this.receivers.find(W=>W.isListeningto(y));if(D)return D;const L=new w(y);return this.receivers.push(L),L}isListeningto(y){return this.eventTarget===y}handleEvent(y){var D=this;return(0,a.Z)(function*(){const L=y,{eventId:W,eventType:pe,data:qe}=L.data,Rt=D.handlersMap[pe];if(!(null==Rt?void 0:Rt.size))return;L.ports[0].postMessage({status:"ack",eventId:W,eventType:pe});const Vt=Array.from(Rt).map(function(){var Ii=(0,a.Z)(function*(ra){return ra(L.origin,qe)});return function(ra){return Ii.apply(this,arguments)}}()),yn=yield function Gr(w){return Promise.all(w.map(function(){var g=(0,a.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(D){return{fulfilled:!1,reason:D}}});return function(y){return g.apply(this,arguments)}}()))}(Vt);L.ports[0].postMessage({status:"done",eventId:W,eventType:pe,response:yn})})()}_subscribe(y,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(D)}_unsubscribe(y,D){this.handlersMap[y]&&D&&this.handlersMap[y].delete(D),(!D||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Jt(w="",g=10){let y="";for(let D=0;D<g;D++)y+=Math.floor(10*Math.random());return w+y}class xo{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,y,D=50){var L=this;return(0,a.Z)(function*(){const W="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!W)throw new Error("connection_unavailable");let pe,qe;return new Promise((Rt,Vt)=>{const yn=Jt("",20);W.port1.start();const Ii=setTimeout(()=>{Vt(new Error("unsupported_event"))},D);qe={messageChannel:W,onMessage(ra){const el=ra;if(el.data.eventId===yn)switch(el.data.status){case"ack":clearTimeout(Ii),pe=setTimeout(()=>{Vt(new Error("timeout"))},3e3);break;case"done":clearTimeout(pe),Rt(el.data.response);break;default:clearTimeout(Ii),clearTimeout(pe),Vt(new Error("invalid_response"))}}},L.handlers.add(qe),W.port1.addEventListener("message",qe.onMessage),L.target.postMessage({eventType:g,eventId:yn,data:y},[W.port2])}).finally(()=>{qe&&L.removeMessageHandler(qe)})})()}}function $t(){return window}function ji(){return void 0!==$t().WorkerGlobalScope&&"function"==typeof $t().importScripts}function Bs(){return(Bs=(0,a.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(w){return null}})).apply(this,arguments)}const Xn="firebaseLocalStorageDb",M="firebaseLocalStorage",I="fbase_key";class b{constructor(g){this.request=g}toPromise(){return new Promise((g,y)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function R(w,g){return w.transaction([M],g?"readwrite":"readonly").objectStore(M)}function $(){const w=indexedDB.open(Xn,1);return new Promise((g,y)=>{w.addEventListener("error",()=>{y(w.error)}),w.addEventListener("upgradeneeded",()=>{const D=w.result;try{D.createObjectStore(M,{keyPath:I})}catch(L){y(L)}}),w.addEventListener("success",(0,a.Z)(function*(){const D=w.result;D.objectStoreNames.contains(M)?g(D):(D.close(),yield function F(){const w=indexedDB.deleteDatabase(Xn);return new b(w).toPromise()}(),g(yield $()))}))})}function Q(w,g,y){return ae.apply(this,arguments)}function ae(){return(ae=(0,a.Z)(function*(w,g,y){const D=R(w,!0).put({[I]:g,value:y});return new b(D).toPromise()})).apply(this,arguments)}function rt(){return(rt=(0,a.Z)(function*(w,g){const y=R(w,!1).get(g),D=yield new b(y).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function Ze(w,g){const y=R(w,!0).delete(g);return new b(y).toPromise()}const en=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,a.Z)(function*(){return y.db||(y.db=yield $()),y.db})()}_withRetries(y){var D=this;return(0,a.Z)(function*(){let L=0;for(;;)try{const W=yield D._openDb();return yield y(W)}catch(W){if(L++>3)throw W;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,a.Z)(function*(){return ji()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,a.Z)(function*(){y.receiver=kr._getInstance(function vn(){return ji()?self:null}()),y.receiver._subscribe("keyChanged",function(){var D=(0,a.Z)(function*(L,W){return{keyProcessed:(yield y._poll()).includes(W.key)}});return function(L,W){return D.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var D=(0,a.Z)(function*(L,W){return["keyChanged"]});return function(L,W){return D.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,a.Z)(function*(){var D,L;if(y.activeServiceWorker=yield function Rr(){return Bs.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new xo(y.activeServiceWorker);const W=yield y.sender._send("ping",{},800);!W||(null===(D=W[0])||void 0===D?void 0:D.fulfilled)&&(null===(L=W[0])||void 0===L?void 0:L.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var D=this;return(0,a.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function Or(){var w;return(null===(w=null==navigator?void 0:navigator.serviceWorker)||void 0===w?void 0:w.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:y},D.serviceWorkerReceiverAvailable?800:50)}catch(L){}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const y=yield $();return yield Q(y,Ao,"1"),yield Ze(y,Ao),!0}catch(y){}return!1})()}_withPendingWrite(y){var D=this;return(0,a.Z)(function*(){D.pendingWrites++;try{yield y()}finally{D.pendingWrites--}})()}_set(y,D){var L=this;return(0,a.Z)(function*(){return L._withPendingWrite((0,a.Z)(function*(){return yield L._withRetries(W=>Q(W,y,D)),L.localCache[y]=D,L.notifyServiceWorker(y)}))})()}_get(y){var D=this;return(0,a.Z)(function*(){const L=yield D._withRetries(W=>function Se(w,g){return rt.apply(this,arguments)}(W,y));return D.localCache[y]=L,L})()}_remove(y){var D=this;return(0,a.Z)(function*(){return D._withPendingWrite((0,a.Z)(function*(){return yield D._withRetries(L=>Ze(L,y)),delete D.localCache[y],D.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,a.Z)(function*(){const D=yield y._withRetries(pe=>{const qe=R(pe,!1).getAll();return new b(qe).toPromise()});if(!D)return[];if(0!==y.pendingWrites)return[];const L=[],W=new Set;for(const{fbase_key:pe,value:qe}of D)W.add(pe),JSON.stringify(y.localCache[pe])!==JSON.stringify(qe)&&(y.notifyListeners(pe,qe),L.push(pe));for(const pe of Object.keys(y.localCache))y.localCache[pe]&&!W.has(pe)&&(y.notifyListeners(pe,null),L.push(pe));return L})()}notifyListeners(y,D){this.localCache[y]=D;const L=this.listeners[y];if(L)for(const W of Array.from(L))W(D)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(D)}_removeListener(y,D){this.listeners[y]&&(this.listeners[y].delete(D),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function _n(w,g){return An(w,"POST","/v2/accounts/mfaSignIn:start",Cn(w,g))}function pi(){return(pi=(0,a.Z)(function*(w){return(yield An(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Us(w){return new Promise((g,y)=>{const D=document.createElement("script");D.setAttribute("src",w),D.onload=g,D.onerror=L=>{const W=He("internal-error");W.customData=L,y(W)},D.type="text/javascript",D.charset="UTF-8",function os(){var w,g;return null!==(g=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==g?g:document}().appendChild(D)})}function ka(w){return`__${w}${Math.floor(1e6*Math.random())}`}const Cs=1e12;class Mo{constructor(g){this.auth=g,this.counter=Cs,this._widgets=new Map}render(g,y){const D=this.counter;return this._widgets.set(D,new Mh(g,this.auth.name,y||{})),this.counter++,D}reset(g){var y;const D=g||Cs;null===(y=this._widgets.get(D))||void 0===y||y.delete(),this._widgets.delete(D)}getResponse(g){var y;return(null===(y=this._widgets.get(g||Cs))||void 0===y?void 0:y.getResponse())||""}execute(g){var y=this;return(0,a.Z)(function*(){var D;return null===(D=y._widgets.get(g||Cs))||void 0===D||D.execute(),""})()}}class Mh{constructor(g,y,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const L="string"==typeof g?document.getElementById(g):g;me(L,"argument-error",{appName:y}),this.container=L,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Dc(w){const g=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<w;D++)g.push(y.charAt(Math.floor(Math.random()*y.length)));return g.join("")}(50);const{callback:g,"expired-callback":y}=this.params;if(g)try{g(this.responseToken)}catch(D){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch(D){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Hs=ka("rcb"),Vl=new At(3e4,6e4);class Wi{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!$t().grecaptcha}load(g,y=""){return me(function xv(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(y),g,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve($t().grecaptcha):new Promise((D,L)=>{const W=$t().setTimeout(()=>{L(He(g,"network-request-failed"))},Vl.get());$t()[Hs]=()=>{$t().clearTimeout(W),delete $t()[Hs];const qe=$t().grecaptcha;if(!qe)return void L(He(g,"internal-error"));const Rt=qe.render;qe.render=(Vt,yn)=>{const Ii=Rt(Vt,yn);return this.counter++,Ii},this.hostLanguage=y,D(qe)},Us(`https://www.google.com/recaptcha/api.js??${(0,J.xO)({onload:Hs,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(W),L(He(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!$t().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class GC{load(g){return(0,a.Z)(function*(){return new Mo(g)})()}clearedOneInstance(){}}const kh="recaptcha",Kg={theme:"light",type:"image"};class vp{constructor(g,y=Object.assign({},Kg),D){this.parameters=y,this.type=kh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Rn(D),this.isInvisible="invisible"===this.parameters.size,me("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const L="string"==typeof g?document.getElementById(g):g;me(L,this.auth,"argument-error"),this.container=L,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new GC:new Wi,this.validateStartingState()}verify(){var g=this;return(0,a.Z)(function*(){g.assertNotDestroyed();const y=yield g.render(),D=g.getAssertedRecaptcha();return D.getResponse(y)||new Promise(W=>{const pe=qe=>{!qe||(g.tokenChangeListeners.delete(pe),W(qe))};g.tokenChangeListeners.add(pe),g.isInvisible&&D.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){me(!this.parameters.sitekey,this.auth,"argument-error"),me(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),me("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return y=>{if(this.tokenChangeListeners.forEach(D=>D(y)),"function"==typeof g)g(y);else if("string"==typeof g){const D=$t()[g];"function"==typeof D&&D(y)}}}assertNotDestroyed(){me(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,a.Z)(function*(){if(yield g.init(),!g.widgetId){let y=g.container;if(!g.isInvisible){const D=document.createElement("div");y.appendChild(D),y=D}g.widgetId=g.getAssertedRecaptcha().render(y,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,a.Z)(function*(){me(Bt()&&!ji(),g.auth,"internal-error"),yield function Fe(){let w=null;return new Promise(g=>{"complete"!==document.readyState?(w=()=>g(),window.addEventListener("load",w)):g()}).catch(g=>{throw w&&window.removeEventListener("load",w),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const y=yield function Gt(w){return pi.apply(this,arguments)}(g.auth);me(y,g.auth,"internal-error"),g.parameters.sitekey=y})()}getAssertedRecaptcha(){return me(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Eu{constructor(g,y){this.verificationId=g,this.onConfirmation=y}confirm(g){const y=qo._fromVerification(this.verificationId,g);return this.onConfirmation(y)}}function Ic(w,g,y){return Rh.apply(this,arguments)}function Rh(){return(Rh=(0,a.Z)(function*(w,g,y){const D=Rn(w),L=yield Du(D,g,(0,J.m9)(y));return new Eu(L,W=>tr(D,W))})).apply(this,arguments)}function In(w,g,y){return $r.apply(this,arguments)}function $r(){return($r=(0,a.Z)(function*(w,g,y){const D=(0,J.m9)(w);yield Zo(!1,D,"phone");const L=yield Du(D.auth,g,(0,J.m9)(y));return new Eu(L,W=>xl(D,W))})).apply(this,arguments)}function Qa(w,g,y){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,a.Z)(function*(w,g,y){const D=(0,J.m9)(w),L=yield Du(D.auth,g,(0,J.m9)(y));return new Eu(L,W=>xr(D,W))})).apply(this,arguments)}function Du(w,g,y){return qr.apply(this,arguments)}function qr(){return(qr=(0,a.Z)(function*(w,g,y){var D;const L=yield y.verify();try{let W;if(me("string"==typeof L,w,"argument-error"),me(y.type===kh,w,"argument-error"),W="string"==typeof g?{phoneNumber:g}:g,"session"in W){const pe=W.session;if("phoneNumber"in W)return me("enroll"===pe.type,w,"internal-error"),(yield Fl(w,{idToken:pe.credential,phoneEnrollmentInfo:{phoneNumber:W.phoneNumber,recaptchaToken:L}})).phoneSessionInfo.sessionInfo;{me("signin"===pe.type,w,"internal-error");const qe=(null===(D=W.multiFactorHint)||void 0===D?void 0:D.uid)||W.multiFactorUid;return me(qe,w,"missing-multi-factor-info"),(yield _n(w,{mfaPendingCredential:pe.credential,mfaEnrollmentId:qe,phoneSignInInfo:{recaptchaToken:L}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:pe}=yield Sh(w,{phoneNumber:W.phoneNumber,recaptchaToken:L});return pe}}finally{y._reset()}})).apply(this,arguments)}function ko(w,g){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,a.Z)(function*(w,g){yield fc((0,J.m9)(w),g)})).apply(this,arguments)}let Bl=(()=>{class w{constructor(y){this.providerId=w.PROVIDER_ID,this.auth=Rn(y)}verifyPhoneNumber(y,D){return Du(this.auth,y,(0,J.m9)(D))}static credential(y,D){return qo._fromVerification(y,D)}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:D,temporaryProof:L}=y;return D&&L?qo._fromTokenResponse(D,L):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function Es(w,g){return g?Te(g):(me(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class Ul extends dr{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return bo(g,this._buildIdpRequest())}_linkToIdToken(g,y){return bo(g,this._buildIdpRequest(y))}_getReauthenticationResolver(g){return bo(g,this._buildIdpRequest())}_buildIdpRequest(g){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(y.idToken=g),y}}function hd(w){return Ia(w.auth,new Ul(w),w.bypassAuthState)}function gr(w){const{auth:g,user:y}=w;return me(y,g,"internal-error"),Jn(y,new Ul(w),w.bypassAuthState)}function Ac(w){return xc.apply(this,arguments)}function xc(){return(xc=(0,a.Z)(function*(w){const{auth:g,user:y}=w;return me(y,g,"internal-error"),fc(y,new Ul(w),w.bypassAuthState)})).apply(this,arguments)}class Oh{constructor(g,y,D,L,W=!1){this.auth=g,this.resolver=D,this.user=L,this.bypassAuthState=W,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var g=this;return new Promise(function(){var y=(0,a.Z)(function*(D,L){g.pendingPromise={resolve:D,reject:L};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(W){g.reject(W)}});return function(D,L){return y.apply(this,arguments)}}())}onAuthEvent(g){var y=this;return(0,a.Z)(function*(){const{urlResponse:D,sessionId:L,postBody:W,tenantId:pe,error:qe,type:Rt}=g;if(qe)return void y.reject(qe);const Vt={auth:y.auth,requestUri:D,sessionId:L,tenantId:pe||void 0,postBody:W||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(Rt)(Vt))}catch(yn){y.reject(yn)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return hd;case"linkViaPopup":case"linkViaRedirect":return Ac;case"reauthViaPopup":case"reauthViaRedirect":return gr;default:Qe(this.auth,"internal-error")}}resolve(g){ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const as=new At(2e3,1e4);function Mc(w,g,y){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,a.Z)(function*(w,g,y){const D=Rn(w);Oe(w,g,no);const L=Es(D,y);return new pd(D,"signInViaPopup",g,L).executeNotNull()})).apply(this,arguments)}function Nh(w,g,y){return ta.apply(this,arguments)}function ta(){return(ta=(0,a.Z)(function*(w,g,y){const D=(0,J.m9)(w);Oe(D.auth,g,no);const L=Es(D.auth,y);return new pd(D.auth,"reauthViaPopup",g,L,D).executeNotNull()})).apply(this,arguments)}function Ph(w,g,y){return fd.apply(this,arguments)}function fd(){return(fd=(0,a.Z)(function*(w,g,y){const D=(0,J.m9)(w);Oe(D.auth,g,no);const L=Es(D.auth,y);return new pd(D.auth,"linkViaPopup",g,L,D).executeNotNull()})).apply(this,arguments)}let pd=(()=>{class w extends Oh{constructor(y,D,L,W,pe){super(y,D,W,pe),this.provider=L,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var y=this;return(0,a.Z)(function*(){const D=yield y.execute();return me(D,y.auth,"internal-error"),D})()}onExecution(){var y=this;return(0,a.Z)(function*(){ue(1===y.filter.length,"Popup operations only handle one event");const D=Jt();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],D),y.authWindow.associatedEvent=D,y.resolver._originValidation(y.auth).catch(L=>{y.reject(L)}),y.resolver._isIframeWebStorageSupported(y.auth,L=>{L||y.reject(He(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(He(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const y=()=>{var D,L;this.pollId=(null===(L=null===(D=this.authWindow)||void 0===D?void 0:D.window)||void 0===L?void 0:L.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(He(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,as.get())};y()}}return w.currentPopupAction=null,w})();const Ra=new Map;class na extends Oh{constructor(g,y,D=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,D),this.eventId=null}execute(){var g=()=>super.execute,y=this;return(0,a.Z)(function*(){let D=Ra.get(y.auth._key());if(!D){try{const W=(yield function Hl(w,g){return jl.apply(this,arguments)}(y.resolver,y.auth))?yield g().call(y):null;D=()=>Promise.resolve(W)}catch(L){D=()=>Promise.reject(L)}Ra.set(y.auth._key(),D)}return y.bypassAuthState||Ra.set(y.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(g){var y=()=>super.onAuthEvent,D=this;return(0,a.Z)(function*(){if("signInViaRedirect"===g.type)return y().call(D,g);if("unknown"!==g.type){if(g.eventId){const L=yield D.auth._redirectUserForId(g.eventId);if(L)return D.user=L,y().call(D,g);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function jl(){return(jl=(0,a.Z)(function*(w,g){const y=k(g),D=Iu(w);if(!(yield D._isAvailable()))return!1;const L="true"===(yield D._get(y));return yield D._remove(y),L})).apply(this,arguments)}function md(w,g){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,a.Z)(function*(w,g){return Iu(w)._set(k(g),"true")})).apply(this,arguments)}function gd(){Ra.clear()}function Iu(w){return Te(w._redirectPersistence)}function k(w){return oe("pendingRedirect",w.config.apiKey,w.name)}function O(w,g,y){return function B(w,g,y){return X.apply(this,arguments)}(w,g,y)}function X(){return(X=(0,a.Z)(function*(w,g,y){const D=Rn(w);Oe(w,g,no);const L=Es(D,y);return yield md(L,D),L._openRedirect(D,g,"signInViaRedirect")})).apply(this,arguments)}function de(w,g,y){return function ve(w,g,y){return Ye.apply(this,arguments)}(w,g,y)}function Ye(){return(Ye=(0,a.Z)(function*(w,g,y){const D=(0,J.m9)(w);Oe(D.auth,g,no);const L=Es(D.auth,y);yield md(L,D.auth);const W=yield kc(D);return L._openRedirect(D.auth,g,"reauthViaRedirect",W)})).apply(this,arguments)}function Tt(w,g,y){return function xt(w,g,y){return zt.apply(this,arguments)}(w,g,y)}function zt(){return(zt=(0,a.Z)(function*(w,g,y){const D=(0,J.m9)(w);Oe(D.auth,g,no);const L=Es(D.auth,y);yield Zo(!1,D,g.providerId),yield md(L,D.auth);const W=yield kc(D);return L._openRedirect(D.auth,g,"linkViaRedirect",W)})).apply(this,arguments)}function xn(w,g){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,a.Z)(function*(w,g){return yield Rn(w)._initializationPromise,Zi(w,g,!1)})).apply(this,arguments)}function Zi(w,g){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,a.Z)(function*(w,g,y=!1){const D=Rn(w),L=Es(D,g),pe=yield new na(D,L,y).execute();return pe&&!y&&(delete pe.user._redirectEventId,yield D._persistUserIfCurrent(pe.user),yield D._setRedirectUser(null,g)),pe})).apply(this,arguments)}function kc(w){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,a.Z)(function*(w){const g=Jt(`${w.uid}:::`);return w._redirectEventId=g,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),g})).apply(this,arguments)}class zr{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let y=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(g,D)&&(y=!0,this.sendToConsumer(g,D),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function bp(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ia(w);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=g,y=!0)),y}sendToConsumer(g,y){var D;if(g.error&&!ia(g)){const L=(null===(D=g.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";y.onError(He(this.auth,L))}else y.onAuthEvent(g)}isEventForConsumer(g,y){const D=null===y.eventId||!!g.eventId&&g.eventId===y.eventId;return y.filter.includes(g.type)&&D}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Oo(g))}saveEventToCache(g){this.cachedEventUids.add(Oo(g)),this.lastProcessedEventTime=Date.now()}}function Oo(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(g=>g).join("-")}function ia({type:w,error:g}){return"unknown"===w&&"auth/no-auth-event"===(null==g?void 0:g.code)}function Fh(w){return _d.apply(this,arguments)}function _d(){return(_d=(0,a.Z)(function*(w,g={}){return An(w,"GET","/v1/projects",g)})).apply(this,arguments)}const yd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vd=/^https?/;function wp(){return(wp=(0,a.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:g}=yield Fh(w);for(const y of g)try{if(Su(y))return}catch(D){}Qe(w,"unauthorized-domain")})).apply(this,arguments)}function Su(w){const g=be(),{protocol:y,hostname:D}=new URL(g);if(w.startsWith("chrome-extension://")){const pe=new URL(w);return""===pe.hostname&&""===D?"chrome-extension:"===y&&w.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===y&&pe.hostname===D}if(!vd.test(y))return!1;if(yd.test(w))return D===w;const L=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+L+"|"+L+")$","i").test(D)}const bd=new At(3e4,6e4);function Qg(){const w=$t().___jsl;if(null==w?void 0:w.H)for(const g of Object.keys(w.H))if(w.H[g].r=w.H[g].r||[],w.H[g].L=w.H[g].L||[],w.H[g].r=[...w.H[g].L],w.CP)for(let y=0;y<w.CP.length;y++)w.CP[y]=null}let wd=null;function kv(w){return wd=wd||function $C(w){return new Promise((g,y)=>{var D,L,W;function pe(){Qg(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Qg(),y(He(w,"network-request-failed"))},timeout:bd.get()})}if(null===(L=null===(D=$t().gapi)||void 0===D?void 0:D.iframes)||void 0===L?void 0:L.Iframe)g(gapi.iframes.getContext());else{if(!(null===(W=$t().gapi)||void 0===W?void 0:W.load)){const qe=ka("iframefcb");return $t()[qe]=()=>{gapi.load?pe():y(He(w,"network-request-failed"))},Us(`https://apis.google.com/js/api.js?onload=${qe}`).catch(Rt=>y(Rt))}pe()}}).catch(g=>{throw wd=null,g})}(w),wd}const qC=new At(5e3,15e3),Jg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ed(w){const g=w.config;me(g.authDomain,w,"auth-domain-config-required");const y=g.emulator?Hn(g,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,D={apiKey:g.apiKey,appName:w.name,v:U.SDK_VERSION},L=Cd.get(w.config.apiHost);L&&(D.eid=L);const W=w._getFrameworks();return W.length&&(D.fw=W.join(",")),`${y}?${(0,J.xO)(D).slice(1)}`}function Cp(){return Cp=(0,a.Z)(function*(w){const g=yield kv(w),y=$t().gapi;return me(y,w,"internal-error"),g.open({where:document.body,url:Ed(w),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Jg,dontclear:!0},D=>new Promise(function(){var L=(0,a.Z)(function*(W,pe){yield D.restyle({setHideOnLeave:!1});const qe=He(w,"network-request-failed"),Rt=$t().setTimeout(()=>{pe(qe)},qC.get());function Vt(){$t().clearTimeout(Rt),W(D)}D.ping(Vt).then(Vt,()=>{pe(qe)})});return function(W,pe){return L.apply(this,arguments)}}()))}),Cp.apply(this,arguments)}const Ov={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Bh{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function Dd(w,g,y,D,L,W){me(w.config.authDomain,w,"auth-domain-config-required"),me(w.config.apiKey,w,"invalid-api-key");const pe={apiKey:w.config.apiKey,appName:w.name,authType:y,redirectUrl:D,v:U.SDK_VERSION,eventId:L};if(g instanceof no){g.setDefaultLanguage(w.languageCode),pe.providerId=g.providerId||"",(0,J.xb)(g.getCustomParameters())||(pe.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Rt,Vt]of Object.entries(W||{}))pe[Rt]=Vt}if(g instanceof za){const Rt=g.getScopes().filter(Vt=>""!==Vt);Rt.length>0&&(pe.scopes=Rt.join(","))}w.tenantId&&(pe.tid=w.tenantId);const qe=pe;for(const Rt of Object.keys(qe))void 0===qe[Rt]&&delete qe[Rt];return`${function ZC({config:w}){return w.emulator?Hn(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}(w)}?${(0,J.xO)(qe).slice(1)}`}const Tp="webStorageSupport",Nc=class Na{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oi,this._completeRedirectFn=Zi}_openPopup(g,y,D,L){var W=this;return(0,a.Z)(function*(){var pe;ue(null===(pe=W.eventManagers[g._key()])||void 0===pe?void 0:pe.manager,"_initialize() not called before _openPopup()");const qe=Dd(g,y,D,be(),L);return function Pv(w,g,y,D=500,L=600){const W=Math.max((window.screen.availHeight-L)/2,0).toString(),pe=Math.max((window.screen.availWidth-D)/2,0).toString();let qe="";const Rt=Object.assign(Object.assign({},Ov),{width:D.toString(),height:L.toString(),top:W,left:pe}),Vt=(0,J.z$)().toLowerCase();y&&(qe=Ce(Vt)?"_blank":y),K(Vt)&&(g=g||"http://localhost",Rt.scrollbars="yes");const yn=Object.entries(Rt).reduce((ra,[el,Gl])=>`${ra}${el}=${Gl},`,"");if(function Vi(w=(0,J.z$)()){var g;return qt(w)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(Vt)&&"_self"!==qe)return function Oc(w,g){const y=document.createElement("a");y.href=w,y.target=g;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(D)}(g||"",qe),new Bh(null);const Ii=window.open(g||"",qe,yn);me(Ii,w,"popup-blocked");try{Ii.focus()}catch(ra){}return new Bh(Ii)}(g,qe,Jt())})()}_openRedirect(g,y,D,L){var W=this;return(0,a.Z)(function*(){return yield W._originValidation(g),function bt(w){$t().location.href=w}(Dd(g,y,D,be(),L)),new Promise(()=>{})})()}_initialize(g){const y=g._key();if(this.eventManagers[y]){const{manager:L,promise:W}=this.eventManagers[y];return L?Promise.resolve(L):(ue(W,"If manager is not set, promise should be"),W)}const D=this.initAndGetManager(g);return this.eventManagers[y]={promise:D},D.catch(()=>{delete this.eventManagers[y]}),D}initAndGetManager(g){var y=this;return(0,a.Z)(function*(){const D=yield function Au(w){return Cp.apply(this,arguments)}(g),L=new zr(g);return D.register("authEvent",W=>(me(null==W?void 0:W.authEvent,g,"invalid-auth-event"),{status:L.onEvent(W.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[g._key()]={manager:L},y.iframes[g._key()]=D,L})()}_isIframeWebStorageSupported(g,y){this.iframes[g._key()].send(Tp,{type:Tp},L=>{var W;const pe=null===(W=null==L?void 0:L[0])||void 0===W?void 0:W[Tp];void 0!==pe&&y(!!pe),Qe(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const y=g._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function Mv(w){return wp.apply(this,arguments)}(g)),this.originValidationPromises[y]}get _shouldInitProactively(){return Xi()||te()||qt()}};class Id extends class Dp{constructor(g){this.factorId=g}_process(g,y,D){switch(y.type){case"enroll":return this._finalizeEnroll(g,y.credential,D);case"signin":return this._finalizeSignIn(g,y.credential);default:return ft("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Id(g)}_finalizeEnroll(g,y,D){return function Oi(w,g){return An(w,"POST","/v2/accounts/mfaEnrollment:finalize",Cn(w,g))}(g,{idToken:y,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,y){return function jt(w,g){return An(w,"POST","/v2/accounts/mfaSignIn:finalize",Cn(w,g))}(g,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Sd=(()=>{class w{constructor(){}static assertion(y){return Id._fromCredential(y)}}return w.FACTOR_ID="phone",w})();var Fv="@firebase/auth",Uh="0.19.12";class YC{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var y=this;return(0,a.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const y=this.auth.onIdTokenChanged(D=>{var L;g((null===(L=D)||void 0===L?void 0:L.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,y),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const y=this.internalListeners.get(g);!y||(this.internalListeners.delete(g),y(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function KC(w){(0,U._registerComponent)(new Pe.wA("auth",(g,{options:y})=>{const D=g.getProvider("app").getImmediate(),L=g.getProvider("heartbeat"),{apiKey:W,authDomain:pe}=D.options;return((qe,Rt)=>{me(W&&!W.includes(":"),"invalid-api-key",{appName:qe.name}),me(!(null==pe?void 0:pe.includes(":")),"argument-error",{appName:qe.name});const Vt={apiKey:W,authDomain:pe,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qn(w)},yn=new Ar(qe,Rt,Vt);return function We(w,g){const y=(null==g?void 0:g.persistence)||[],D=(Array.isArray(y)?y:[y]).map(Te);(null==g?void 0:g.errorMap)&&w._updateErrorMap(g.errorMap),w._initializeWithPersistence(D,null==g?void 0:g.popupRedirectResolver)}(yn,y),yn})(D,L)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,y,D)=>{g.getProvider("auth-internal").initialize()})),(0,U._registerComponent)(new Pe.wA("auth-internal",g=>{const y=Rn(g.getProvider("auth").getImmediate());return new YC(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,U.registerVersion)(Fv,Uh,function Xg(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,U.registerVersion)(Fv,Uh,"esm2017")}("Browser")},2090:(Ot,Ue,G)=>{G.d(Ue,{$s:()=>ts,BH:()=>je,DV:()=>ni,Dv:()=>Di,G6:()=>ft,GJ:()=>Cn,L:()=>Me,LL:()=>Bt,Lj:()=>nn,Mn:()=>it,Pz:()=>At,Sg:()=>Ke,UG:()=>Ve,UI:()=>Kt,US:()=>fe,Wj:()=>jn,X3:()=>Nt,Yr:()=>me,ZB:()=>_e,ZR:()=>be,b$:()=>He,cI:()=>St,d:()=>ce,dS:()=>sn,eu:()=>Ie,g5:()=>ye,gK:()=>wi,gQ:()=>Sr,h$:()=>Ee,hl:()=>ue,hu:()=>U,jU:()=>gt,lb:()=>Os,m9:()=>Pt,ne:()=>kt,p$:()=>ne,pd:()=>ii,r3:()=>An,ru:()=>Qe,tV:()=>re,uI:()=>Re,ug:()=>It,vZ:()=>vi,w1:()=>Oe,w9:()=>Mn,xO:()=>Xr,xb:()=>xi,z$:()=>Xe,zI:()=>Te,zd:()=>qi});var a=G(5861);const U=function(se,ee){if(!se)throw ye(ee)},ye=function(se){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+se)},ge=function(se){const ee=[];let oe=0;for(let xe=0;xe<se.length;xe++){let q=se.charCodeAt(xe);q<128?ee[oe++]=q:q<2048?(ee[oe++]=q>>6|192,ee[oe++]=63&q|128):55296==(64512&q)&&xe+1<se.length&&56320==(64512&se.charCodeAt(xe+1))?(q=65536+((1023&q)<<10)+(1023&se.charCodeAt(++xe)),ee[oe++]=q>>18|240,ee[oe++]=q>>12&63|128,ee[oe++]=q>>6&63|128,ee[oe++]=63&q|128):(ee[oe++]=q>>12|224,ee[oe++]=q>>6&63|128,ee[oe++]=63&q|128)}return ee},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(se,ee){if(!Array.isArray(se))throw Error("encodeByteArray takes an array as a parameter");this.init_();const oe=ee?this.byteToCharMapWebSafe_:this.byteToCharMap_,xe=[];for(let q=0;q<se.length;q+=3){const K=se[q],te=q+1<se.length,Ce=te?se[q+1]:0,et=q+2<se.length,lt=et?se[q+2]:0;let qt=(15&Ce)<<2|lt>>6,di=63&lt;et||(di=64,te||(qt=64)),xe.push(oe[K>>2],oe[(3&K)<<4|Ce>>4],oe[qt],oe[di])}return xe.join("")},encodeString(se,ee){return this.HAS_NATIVE_SUPPORT&&!ee?btoa(se):this.encodeByteArray(ge(se),ee)},decodeString(se,ee){return this.HAS_NATIVE_SUPPORT&&!ee?atob(se):function(se){const ee=[];let oe=0,xe=0;for(;oe<se.length;){const q=se[oe++];if(q<128)ee[xe++]=String.fromCharCode(q);else if(q>191&&q<224){const K=se[oe++];ee[xe++]=String.fromCharCode((31&q)<<6|63&K)}else if(q>239&&q<365){const et=((7&q)<<18|(63&se[oe++])<<12|(63&se[oe++])<<6|63&se[oe++])-65536;ee[xe++]=String.fromCharCode(55296+(et>>10)),ee[xe++]=String.fromCharCode(56320+(1023&et))}else{const K=se[oe++],te=se[oe++];ee[xe++]=String.fromCharCode((15&q)<<12|(63&K)<<6|63&te)}}return ee.join("")}(this.decodeStringToByteArray(se,ee))},decodeStringToByteArray(se,ee){this.init_();const oe=ee?this.charToByteMapWebSafe_:this.charToByteMap_,xe=[];for(let q=0;q<se.length;){const K=oe[se.charAt(q++)],Ce=q<se.length?oe[se.charAt(q)]:0;++q;const lt=q<se.length?oe[se.charAt(q)]:64;++q;const Ct=q<se.length?oe[se.charAt(q)]:64;if(++q,null==K||null==Ce||null==lt||null==Ct)throw Error();xe.push(K<<2|Ce>>4),64!==lt&&(xe.push(Ce<<4&240|lt>>2),64!==Ct&&xe.push(lt<<6&192|Ct))}return xe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let se=0;se<this.ENCODED_VALS.length;se++)this.byteToCharMap_[se]=this.ENCODED_VALS.charAt(se),this.charToByteMap_[this.byteToCharMap_[se]]=se,this.byteToCharMapWebSafe_[se]=this.ENCODED_VALS_WEBSAFE.charAt(se),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[se]]=se,se>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(se)]=se,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(se)]=se)}}},Ee=function(se){const ee=ge(se);return fe.encodeByteArray(ee,!0)},Me=function(se){return Ee(se).replace(/\./g,"")},re=function(se){try{return fe.decodeString(se,!0)}catch(ee){console.error("base64Decode failed: ",ee)}return null};function ne(se){return _e(void 0,se)}function _e(se,ee){if(!(ee instanceof Object))return ee;switch(ee.constructor){case Date:return new Date(ee.getTime());case Object:void 0===se&&(se={});break;case Array:se=[];break;default:return ee}for(const oe in ee)!ee.hasOwnProperty(oe)||!st(oe)||(se[oe]=_e(se[oe],ee[oe]));return se}function st(se){return"__proto__"!==se}class je{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ee,oe)=>{this.resolve=ee,this.reject=oe})}wrapCallback(ee){return(oe,xe)=>{oe?this.reject(oe):this.resolve(xe),"function"==typeof ee&&(this.promise.catch(()=>{}),1===ee.length?ee(oe):ee(oe,xe))}}}function Ke(se,ee){if(se.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const xe=ee||"demo-project",q=se.iat||0,K=se.sub||se.user_id;if(!K)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const te=Object.assign({iss:`https://securetoken.google.com/${xe}`,aud:xe,iat:q,exp:q+3600,auth_time:q,sub:K,user_id:K,firebase:{sign_in_provider:"custom",identities:{}}},se);return[Me(JSON.stringify({alg:"none",type:"JWT"})),Me(JSON.stringify(te)),""].join(".")}function Xe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Re(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function Ve(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(se){return!1}}function gt(){return"object"==typeof self&&self.self===self}function Qe(){const se="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof se&&void 0!==se.id}function He(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ce(){return Xe().indexOf("Electron/")>=0}function Oe(){const se=Xe();return se.indexOf("MSIE ")>=0||se.indexOf("Trident/")>=0}function it(){return Xe().indexOf("MSAppHost/")>=0}function me(){return!1}function ft(){return!Ve()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ue(){return"object"==typeof indexedDB}function Ie(){return new Promise((se,ee)=>{try{let oe=!0;const xe="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open(xe);q.onsuccess=()=>{q.result.close(),oe||self.indexedDB.deleteDatabase(xe),se(!0)},q.onupgradeneeded=()=>{oe=!1},q.onerror=()=>{var K;ee((null===(K=q.error)||void 0===K?void 0:K.message)||"")}}catch(oe){ee(oe)}})}function Te(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class be extends Error{constructor(ee,oe,xe){super(oe),this.code=ee,this.customData=xe,this.name="FirebaseError",Object.setPrototypeOf(this,be.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bt.prototype.create)}}class Bt{constructor(ee,oe,xe){this.service=ee,this.serviceName=oe,this.errors=xe}create(ee,...oe){const xe=oe[0]||{},q=`${this.service}/${ee}`,K=this.errors[ee],te=K?function Sn(se,ee){return se.replace(gi,(oe,xe)=>{const q=ee[xe];return null!=q?String(q):`<${xe}?>`})}(K,xe):"Error";return new be(q,`${this.serviceName}: ${te} (${q}).`,xe)}}const gi=/\{\$([^}]+)}/g;function St(se){return JSON.parse(se)}function At(se){return JSON.stringify(se)}const Hn=function(se){let ee={},oe={},xe={},q="";try{const K=se.split(".");ee=St(re(K[0])||""),oe=St(re(K[1])||""),q=K[2],xe=oe.d||{},delete oe.d}catch(K){}return{header:ee,claims:oe,data:xe,signature:q}},Mn=function(se){const oe=Hn(se).claims;return!!oe&&"object"==typeof oe&&oe.hasOwnProperty("iat")},Cn=function(se){const ee=Hn(se).claims;return"object"==typeof ee&&!0===ee.admin};function An(se,ee){return Object.prototype.hasOwnProperty.call(se,ee)}function ni(se,ee){if(Object.prototype.hasOwnProperty.call(se,ee))return se[ee]}function xi(se){for(const ee in se)if(Object.prototype.hasOwnProperty.call(se,ee))return!1;return!0}function Kt(se,ee,oe){const xe={};for(const q in se)Object.prototype.hasOwnProperty.call(se,q)&&(xe[q]=ee.call(oe,se[q],q,se));return xe}function vi(se,ee){if(se===ee)return!0;const oe=Object.keys(se),xe=Object.keys(ee);for(const q of oe){if(!xe.includes(q))return!1;const K=se[q],te=ee[q];if(Lr(K)&&Lr(te)){if(!vi(K,te))return!1}else if(K!==te)return!1}for(const q of xe)if(!oe.includes(q))return!1;return!0}function Lr(se){return null!==se&&"object"==typeof se}function Xr(se){const ee=[];for(const[oe,xe]of Object.entries(se))Array.isArray(xe)?xe.forEach(q=>{ee.push(encodeURIComponent(oe)+"="+encodeURIComponent(q))}):ee.push(encodeURIComponent(oe)+"="+encodeURIComponent(xe));return ee.length?"&"+ee.join("&"):""}function qi(se){const ee={};return se.replace(/^\?/,"").split("&").forEach(xe=>{if(xe){const[q,K]=xe.split("=");ee[decodeURIComponent(q)]=decodeURIComponent(K)}}),ee}function ii(se){const ee=se.indexOf("?");if(!ee)return"";const oe=se.indexOf("#",ee);return se.substring(ee,oe>0?oe:void 0)}class Sr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let ee=1;ee<this.blockSize;++ee)this.pad_[ee]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(ee,oe){oe||(oe=0);const xe=this.W_;if("string"==typeof ee)for(let Ct=0;Ct<16;Ct++)xe[Ct]=ee.charCodeAt(oe)<<24|ee.charCodeAt(oe+1)<<16|ee.charCodeAt(oe+2)<<8|ee.charCodeAt(oe+3),oe+=4;else for(let Ct=0;Ct<16;Ct++)xe[Ct]=ee[oe]<<24|ee[oe+1]<<16|ee[oe+2]<<8|ee[oe+3],oe+=4;for(let Ct=16;Ct<80;Ct++){const qt=xe[Ct-3]^xe[Ct-8]^xe[Ct-14]^xe[Ct-16];xe[Ct]=4294967295&(qt<<1|qt>>>31)}let lt,Ut,q=this.chain_[0],K=this.chain_[1],te=this.chain_[2],Ce=this.chain_[3],et=this.chain_[4];for(let Ct=0;Ct<80;Ct++){Ct<40?Ct<20?(lt=Ce^K&(te^Ce),Ut=1518500249):(lt=K^te^Ce,Ut=1859775393):Ct<60?(lt=K&te|Ce&(K|te),Ut=2400959708):(lt=K^te^Ce,Ut=3395469782);const qt=(q<<5|q>>>27)+lt+et+Ut+xe[Ct]&4294967295;et=Ce,Ce=te,te=4294967295&(K<<30|K>>>2),K=q,q=qt}this.chain_[0]=this.chain_[0]+q&4294967295,this.chain_[1]=this.chain_[1]+K&4294967295,this.chain_[2]=this.chain_[2]+te&4294967295,this.chain_[3]=this.chain_[3]+Ce&4294967295,this.chain_[4]=this.chain_[4]+et&4294967295}update(ee,oe){if(null==ee)return;void 0===oe&&(oe=ee.length);const xe=oe-this.blockSize;let q=0;const K=this.buf_;let te=this.inbuf_;for(;q<oe;){if(0===te)for(;q<=xe;)this.compress_(ee,q),q+=this.blockSize;if("string"==typeof ee){for(;q<oe;)if(K[te]=ee.charCodeAt(q),++te,++q,te===this.blockSize){this.compress_(K),te=0;break}}else for(;q<oe;)if(K[te]=ee[q],++te,++q,te===this.blockSize){this.compress_(K),te=0;break}}this.inbuf_=te,this.total_+=oe}digest(){const ee=[];let oe=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let q=this.blockSize-1;q>=56;q--)this.buf_[q]=255&oe,oe/=256;this.compress_(this.buf_);let xe=0;for(let q=0;q<5;q++)for(let K=24;K>=0;K-=8)ee[xe]=this.chain_[q]>>K&255,++xe;return ee}}function kt(se,ee){const oe=new ur(se,ee);return oe.subscribe.bind(oe)}class ur{constructor(ee,oe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=oe,this.task.then(()=>{ee(this)}).catch(xe=>{this.error(xe)})}next(ee){this.forEachObserver(oe=>{oe.next(ee)})}error(ee){this.forEachObserver(oe=>{oe.error(ee)}),this.close(ee)}complete(){this.forEachObserver(ee=>{ee.complete()}),this.close()}subscribe(ee,oe,xe){let q;if(void 0===ee&&void 0===oe&&void 0===xe)throw new Error("Missing Observer.");q=function Nn(se,ee){if("object"!=typeof se||null===se)return!1;for(const oe of ee)if(oe in se&&"function"==typeof se[oe])return!0;return!1}(ee,["next","error","complete"])?ee:{next:ee,error:oe,complete:xe},void 0===q.next&&(q.next=ri),void 0===q.error&&(q.error=ri),void 0===q.complete&&(q.complete=ri);const K=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?q.error(this.finalError):q.complete()}catch(te){}}),this.observers.push(q),K}unsubscribeOne(ee){void 0===this.observers||void 0===this.observers[ee]||(delete this.observers[ee],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ee){if(!this.finalized)for(let oe=0;oe<this.observers.length;oe++)this.sendOne(oe,ee)}sendOne(ee,oe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ee])try{oe(this.observers[ee])}catch(xe){"undefined"!=typeof console&&console.error&&console.error(xe)}})}close(ee){this.finalized||(this.finalized=!0,void 0!==ee&&(this.finalError=ee),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ri(){}const Di=function(se,ee,oe,xe){let q;if(xe<ee?q="at least "+ee:xe>oe&&(q=0===oe?"none":"no more than "+oe),q)throw new Error(se+" failed: Was called with "+xe+(1===xe?" argument.":" arguments.")+" Expects "+q+".")};function wi(se,ee){return`${se} failed: ${ee} argument `}function jn(se,ee,oe,xe){if((!xe||oe)&&"function"!=typeof oe)throw new Error(wi(se,ee)+"must be a valid function.")}function Os(se,ee,oe,xe){if((!xe||oe)&&("object"!=typeof oe||null===oe))throw new Error(wi(se,ee)+"must be a valid context object.")}const sn=function(se){const ee=[];let oe=0;for(let xe=0;xe<se.length;xe++){let q=se.charCodeAt(xe);if(q>=55296&&q<=56319){const K=q-55296;xe++,U(xe<se.length,"Surrogate pair missing trail surrogate."),q=65536+(K<<10)+(se.charCodeAt(xe)-56320)}q<128?ee[oe++]=q:q<2048?(ee[oe++]=q>>6|192,ee[oe++]=63&q|128):q<65536?(ee[oe++]=q>>12|224,ee[oe++]=q>>6&63|128,ee[oe++]=63&q|128):(ee[oe++]=q>>18|240,ee[oe++]=q>>12&63|128,ee[oe++]=q>>6&63|128,ee[oe++]=63&q|128)}return ee},It=function(se){let ee=0;for(let oe=0;oe<se.length;oe++){const xe=se.charCodeAt(oe);xe<128?ee++:xe<2048?ee+=2:xe>=55296&&xe<=56319?(ee+=4,oe++):ee+=3}return ee};function ts(se,ee=1e3,oe=2){const xe=ee*Math.pow(oe,se),q=Math.round(.5*xe*(Math.random()-.5)*2);return Math.min(144e5,xe+q)}function Pt(se){return se&&se._delegate?se._delegate:se}function ui(se,ee){return new Promise((oe,xe)=>{se.onsuccess=q=>{oe(q.target.result)},se.onerror=q=>{var K;xe(`${ee}: ${null===(K=q.target.error)||void 0===K?void 0:K.message}`)}})}class un{constructor(ee){this._db=ee,this.objectStoreNames=this._db.objectStoreNames}transaction(ee,oe="readonly"){return new at(this._db.transaction.call(this._db,ee,oe))}createObjectStore(ee,oe){return new Be(this._db.createObjectStore(ee,oe))}close(){this._db.close()}}class at{constructor(ee){this._transaction=ee,this.complete=new Promise((oe,xe)=>{this._transaction.oncomplete=function(){oe()},this._transaction.onerror=()=>{xe(this._transaction.error)},this._transaction.onabort=()=>{xe(this._transaction.error)}})}objectStore(ee){return new Be(this._transaction.objectStore(ee))}}class Be{constructor(ee){this._store=ee}index(ee){return new Je(this._store.index(ee))}createIndex(ee,oe,xe){return new Je(this._store.createIndex(ee,oe,xe))}get(ee){return ui(this._store.get(ee),"Error reading from IndexedDB")}put(ee,oe){return ui(this._store.put(ee,oe),"Error writing to IndexedDB")}delete(ee){return ui(this._store.delete(ee),"Error deleting from IndexedDB")}clear(){return ui(this._store.clear(),"Error clearing IndexedDB object store")}}class Je{constructor(ee){this._index=ee}get(ee){return ui(this._index.get(ee),"Error reading from IndexedDB")}}function Nt(se,ee,oe){return new Promise((xe,q)=>{try{const K=indexedDB.open(se,ee);K.onsuccess=te=>{xe(new un(te.target.result))},K.onerror=te=>{var Ce;q(`Error opening indexedDB: ${null===(Ce=te.target.error)||void 0===Ce?void 0:Ce.message}`)},K.onupgradeneeded=te=>{oe(new un(K.result),te.oldVersion,te.newVersion,new at(K.transaction))}}catch(K){q(`Error opening indexedDB: ${K.message}`)}})}function nn(se){return on.apply(this,arguments)}function on(){return(on=(0,a.Z)(function*(se){return new Promise((ee,oe)=>{try{const xe=indexedDB.deleteDatabase(se);xe.onsuccess=()=>{ee()},xe.onerror=q=>{var K;oe(`Error deleting indexedDB database "${se}": ${null===(K=q.target.error)||void 0===K?void 0:K.message}`)}}catch(xe){oe(`Error deleting indexedDB database "${se}": ${xe.message}`)}})})).apply(this,arguments)}},4445:(Ot,Ue,G)=>{var a=G(5e3);let J=null;function U(){return J}const fe=new a.OlP("DocumentToken");let Ee=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return function Me(){return(0,a.LFG)(ne)}()},providedIn:"platform"}),n})();const re=new a.OlP("Location Initialized");let ne=(()=>{class n extends Ee{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return U().getBaseHref(this._doc)}onPopState(t){const i=U().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=U().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){_e()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){_e()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(fe))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function st(){return new ne((0,a.LFG)(fe))}()},providedIn:"platform"}),n})();function _e(){return!!window.history.pushState}function je(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ke(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Xe(n){return n&&"?"!==n[0]?"?"+n:n}let Re=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return function Ve(n){const e=(0,a.LFG)(fe).location;return new Qe((0,a.LFG)(Ee),e&&e.origin||"")}()},providedIn:"root"}),n})();const gt=new a.OlP("appBaseHref");let Qe=(()=>{class n extends Re{constructor(t,i){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return je(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Xe(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const c=this.prepareExternalUrl(r+Xe(s));this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,s){const c=this.prepareExternalUrl(r+Xe(s));this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Ee),a.LFG(gt,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),He=(()=>{class n extends Re{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=je(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let c=this.prepareExternalUrl(r+Xe(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,s){let c=this.prepareExternalUrl(r+Xe(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Ee),a.LFG(gt,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),ce=(()=>{class n{constructor(t,i){this._subject=new a.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Ke(me(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Xe(i))}normalize(t){return n.stripTrailingSlash(function it(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,me(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._platformStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Xe(i)),r)}replaceState(t,i="",r=null){this._platformStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Xe(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=Xe,n.joinWithSlash=je,n.stripTrailingSlash=Ke,n.\u0275fac=function(t){return new(t||n)(a.LFG(Re),a.LFG(Ee))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function Oe(){return new ce((0,a.LFG)(Re),(0,a.LFG)(Ee))}()},providedIn:"root"}),n})();function me(n){return n.replace(/\/index.html$/,"")}let Mi=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,a.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,a.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class ms{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Si=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new ms(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===s?void 0:s);else if(null!==s){const h=i.get(s);i.move(h,c),to(h,r)}});for(let r=0,s=i.length;r<s;r++){const h=i.get(r).context;h.index=r,h.count=s,h.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{to(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function to(n,e){n.context.$implicit=e.item}let Gn=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Kn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Qn("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Qn("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Kn{constructor(){this.$implicit=null,this.ngIf=null}}function Qn(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,a.AaK)(e)}'.`)}class wl{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Hi=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),fr=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new wl(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(Hi,9))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),El=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,s]=t.split(".");null!=(i=null!=i&&s?`${i}${s}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.aQg),a.Y36(a.Qsj))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),vo=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[a.TTD]}),n})();function Vr(n,e){return new a.vHH(2100,"")}class Ih{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class ns{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}onDestroy(e){}}const Sh=new ns,fu=new Ih;let pu=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,a.QGY)(t))return Sh;if((0,a.F4k)(t))return fu;throw Vr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO,16))},n.\u0275pipe=a.Yjl({name:"async",type:n,pure:!1}),n})(),Wo=(()=>{class n{transform(t,i,r){if(null==t)return null;if(!this.supports(t))throw Vr();return t.slice(i,r)}supports(t){return"string"==typeof t||Array.isArray(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=a.Yjl({name:"slice",type:n,pure:!1}),n})(),io=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const pr="browser";function wo(n){return"server"===n}let gu=(()=>{class n{}return n.\u0275prov=(0,a.Yz7)({token:n,providedIn:"root",factory:()=>new Al((0,a.LFG)(fe),window)}),n})();class Al{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Eo(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const c=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Co(this.window.history)||Co(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Co(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Yo extends class Zo extends class Pe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ge(n){J||(J=n)}(new Yo)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function pc(){return Jn=Jn||document.querySelector("base"),Jn?Jn.getAttribute("href"):null}();return null==t?null:function To(n){Ia=Ia||document.createElement("a"),Ia.setAttribute("href",n);const e=Ia.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Jn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function er(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Ia,Jn=null;const tr=new a.OlP("TRANSITION_ID"),xl=[{provide:a.ip1,useFactory:function ki(n,e,t){return()=>{t.get(a.CZH).donePromise.then(()=>{const i=U(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[tr,fe,a.zs3],multi:!0}];class rs{static init(){(0,a.VLi)(new rs)}addToWindow(e){a.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},a.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(i=>{const r=a.dqk.getAllAngularTestabilities();let s=r.length,c=!1;const h=function(p){c=c||p,s--,0==s&&i(c)};r.forEach(function(p){p.whenStable(h)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:i?U().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let xr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const ro=new a.OlP("EventManagerPlugins");let Ko=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const c=r[s];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ro),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Sa{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=U().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let gs=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Fs=(()=>{class n extends gs{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(s=>{const c=this._doc.createElement("style");c.textContent=s,r.push(i.appendChild(c))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(so),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(so))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(fe))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function so(n){U().remove(n)}const Lt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Za=/%COMP%/g;function Ge(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Ge(n,r,t):(r=r.replace(Za,n),t.push(r))}return t}function dn(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let hn=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Ls(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case a.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Qo(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case a.ifc.ShadowDom:return new oo(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Ge(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Ko),a.LFG(Fs),a.LFG(a.AFp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Ls{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Lt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=Lt[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Lt[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(a.JOm.DashCase|a.JOm.Important)?e.style.setProperty(t,i,r&a.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&a.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,dn(i)):this.eventManager.addEventListener(e,t,dn(i))}}class Qo extends Ls{constructor(e,t,i,r){super(e),this.component=i;const s=Ge(r+"-"+i.id,i.styles,[]);t.addStyles(s),this.contentAttr=function cd(n){return"_ngcontent-%COMP%".replace(Za,n)}(r+"-"+i.id),this.hostAttr=function vs(n){return"_nghost-%COMP%".replace(Za,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class oo extends Ls{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Ge(r.id,r.styles,[]);for(let c=0;c<s.length;c++){const h=document.createElement("style");h.textContent=s[c],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let ud=(()=>{class n extends Sa{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(fe))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const mc=["alt","control","meta","shift"],Do={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ri={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Vs={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let xa=(()=>{class n extends Sa{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),c=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>U().onAndCancel(t,s.domEventName,c))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let c="";if(mc.forEach(p=>{const _=i.indexOf(p);_>-1&&(i.splice(_,1),c+=p+".")}),c+=s,0!=i.length||0===s.length)return null;const h={};return h.domEventName=r,h.fullKey=c,h}static getEventFullKey(t){let i="",r=function nr(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Ri.hasOwnProperty(e)&&(e=Ri[e]))}return Do[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),mc.forEach(s=>{s!=r&&Vs[s](t)&&(i+=s+".")}),i+=r,i}static eventCallback(t,i,r){return s=>{n.getEventFullKey(s)===t&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(fe))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const mr=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:pr},{provide:a.g9A,useValue:function Ur(){Yo.makeCurrent(),rs.init()},multi:!0},{provide:fe,useFactory:function Ma(){return(0,a.RDi)(document),document},deps:[]}]),Ml=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function Bn(){return new a.qLn},deps:[]},{provide:ro,useClass:ud,multi:!0,deps:[fe,a.R0b,a.Lbi]},{provide:ro,useClass:xa,multi:!0,deps:[fe]},{provide:hn,useClass:hn,deps:[Ko,Fs,a.AFp]},{provide:a.FYo,useExisting:hn},{provide:gs,useExisting:Fs},{provide:Fs,useClass:Fs,deps:[fe]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b]},{provide:Ko,useClass:Ko,deps:[ro,a.R0b]},{provide:class si{},useClass:xr,deps:[]}];let ao=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:a.AFp,useValue:t.appId},{provide:tr,useExisting:a.AFp},xl]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(n,12))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:Ml,imports:[io,a.hGG]}),n})();"undefined"!=typeof window&&window;let jr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):a.LFG(Tc),i},providedIn:"root"}),n})(),Tc=(()=>{class n extends jr{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case a.q3G.NONE:return i;case a.q3G.HTML:return(0,a.qzn)(i,"HTML")?(0,a.z3N)(i):(0,a.EiD)(this._doc,String(i)).toString();case a.q3G.STYLE:return(0,a.qzn)(i,"Style")?(0,a.z3N)(i):i;case a.q3G.SCRIPT:if((0,a.qzn)(i,"Script"))return(0,a.z3N)(i);throw new Error("unsafe value used in a script context");case a.q3G.URL:return(0,a.yhl)(i),(0,a.qzn)(i,"URL")?(0,a.z3N)(i):(0,a.mCW)(String(i));case a.q3G.RESOURCE_URL:if((0,a.qzn)(i,"ResourceURL"))return(0,a.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,a.JVY)(t)}bypassSecurityTrustStyle(t){return(0,a.L6k)(t)}bypassSecurityTrustScript(t){return(0,a.eBb)(t)}bypassSecurityTrustUrl(t){return(0,a.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,a.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(fe))},n.\u0275prov=a.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Ll(n){return new Tc(n.get(fe))}(a.LFG(a.zs3)),i},providedIn:"root"}),n})();var wu=G(573),H=G(2090),oi=G(9681),Gr=G(1877),kr=G(4859),Jt=G(7579),xo=G(3269),$t=G(8996);function bt(...n){const e=(0,xo.yG)(n);return(0,$t.D)(n,e)}var ji=G(8306),Rr=G(6451),Bs=G(5363),Or=G(8421),vn=G(4482),Xn=G(5403);function C(n,e){return(0,vn.e)((t,i)=>{let r=null,s=0,c=!1;const h=()=>c&&!r&&i.complete();t.subscribe((0,Xn.x)(i,p=>{null==r||r.unsubscribe();let _=0;const E=s++;(0,Or.Xf)(n(p,E)).subscribe(r=(0,Xn.x)(i,S=>i.next(e?e(p,S,E,_++):S),()=>{r=null,h()}))},()=>{c=!0,h()}))})}var M=G(4004),I=G(6063);class b extends Jt.x{constructor(e=1/0,t=1/0,i=I.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:c}=this;t||(i.push(e),!r&&i.push(s.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let c=0;c<s.length&&!e.closed;c+=i?1:2)e.next(s[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const c=t.now();let h=0;for(let p=1;p<i.length&&i[p]<=c;p+=2)h=p;h&&i.splice(0,h+1)}}}var R=G(3099);function F(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=null!=n?n:1/0,(0,R.B)({connector:()=>new b(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}const Q=(0,G(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ae(n,e){return(0,vn.e)((t,i)=>{let r=0;t.subscribe((0,Xn.x)(i,s=>n.call(e,s,r++)&&i.next(s)))})}var Se=G(5698);function rt(n){return(0,vn.e)((e,t)=>{let i=!1;e.subscribe((0,Xn.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Ze(n=ot){return(0,vn.e)((e,t)=>{let i=!1;e.subscribe((0,Xn.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function ot(){return new Q}var wt=G(4671);function gn(n,e){const t=arguments.length>=2;return i=>i.pipe(n?ae((r,s)=>n(r,s,i)):wt.y,(0,Se.q)(1),t?rt(e):Ze(()=>new Q))}var en=G(576);function _n(n,e){return(0,en.m)(e)?C(()=>n,e):C(()=>n)}var jt=G(9468),Gt=G(5813),pi=G(2011);G(5867);var Fe=G(5861);const Eu=new Map,Ic={activated:!1,tokenObservers:[]},Rh={initialized:!1,enabled:!1};function In(n){return Eu.get(n)||Ic}function $r(n,e){Eu.set(n,e)}function Qa(){return Rh}class Es{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Fe.Z)(function*(){t.stop();try{t.pending=new H.BH,yield function Ul(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new H.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const gr=new H.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function xc(n){if(!In(n).activated)throw gr.create("use-before-activation",{appName:n.name})}function Ro(n,e){return Nh.apply(this,arguments)}function Nh(){return(Nh=(0,Fe.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const S=yield r.getHeartbeatsHeader();S&&(i["X-Firebase-Client"]=S)}const s={method:"POST",body:JSON.stringify(e),headers:i};let c,h;try{c=yield fetch(n,s)}catch(S){throw gr.create("fetch-network-error",{originalErrorMessage:S.message})}if(200!==c.status)throw gr.create("fetch-status-error",{httpStatus:c.status});try{h=yield c.json()}catch(S){throw gr.create("fetch-parse-error",{originalErrorMessage:S.message})}const p=h.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw gr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const _=1e3*Number(p[1]),E=Date.now();return{token:h.attestationToken,expireTimeMillis:E+_,issuedAtTimeMillis:E}})).apply(this,arguments)}function fd(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const Ra="firebase-app-check-store";let Hl=null;function jl(){return Hl||(Hl=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(gr.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Ra,{keyPath:"compositeKey"})}}catch(t){e(gr.create("storage-open",{originalErrorMessage:t.message}))}}),Hl)}function O(){return(O=(0,Fe.Z)(function*(n,e){const i=(yield jl()).transaction(Ra,"readwrite"),s=i.objectStore(Ra).put({compositeKey:n,value:e});return new Promise((c,h)=>{s.onsuccess=p=>{c()},i.onerror=p=>{var _;h(gr.create("storage-set",{originalErrorMessage:null===(_=p.target.error)||void 0===_?void 0:_.message}))}})})).apply(this,arguments)}const ve=new Gr.Yd("@firebase/app-check");function xt(n,e){return(0,H.hl)()?function Xa(n,e){return function k(n,e){return O.apply(this,arguments)}(function de(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{ve.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Zt(){return Qa().enabled}function Zi(){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,Fe.Z)(function*(){const n=Qa();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Rc={error:"UNKNOWN_ERROR"};function Oa(n){return H.US.encodeString(JSON.stringify(n),!1)}function zr(n){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,Fe.Z)(function*(n,e=!1){const t=n.app;xc(t);const i=In(t);let s,r=i.token;if(!r){const p=yield i.cachedTokenPromise;p&&vd(p)&&(r=p)}if(!e&&r&&vd(r))return{token:r.token};let h,c=!1;if(Zt()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Ro(fd(t,yield Zi()),n.heartbeatServiceProvider).then(_=>(i.exchangeTokenPromise=void 0,_)),c=!0);const p=yield i.exchangeTokenPromise;return yield xt(t,p),$r(t,Object.assign(Object.assign({},i),{token:p})),{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(p=>(i.exchangeTokenPromise=void 0,p)),c=!0),r=yield i.exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?ve.warn(p.message):ve.error(p),s=p}return r?(h={token:r.token},$r(t,Object.assign(Object.assign({},i),{token:r})),yield xt(t,r)):h=Mv(s),c&&yd(t,h),h})).apply(this,arguments)}function bp(n,e){const t=In(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),$r(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function Fh(n){const{app:e}=n,t=In(e);let i=t.tokenRefresher;i||(i=function _d(n){const{app:e}=n;return new Es((0,Fe.Z)(function*(){let i;if(i=In(e).token?yield zr(n,!0):yield zr(n),i.error)throw i.error}),()=>!0,()=>{const t=In(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),$r(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function yd(n,e){const t=In(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(r){}}function vd(n){return n.expireTimeMillis-Date.now()>0}function Mv(n){return{token:Oa(Rc),error:n}}class wp{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=In(this.app);for(const t of e)bp(this.app,t.next);return Promise.resolve()}}const Na="app-check-internal";!function Nc(){(0,oi._registerComponent)(new kr.wA("app-check",n=>function Su(n,e){return new wp(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Na).initialize()})),(0,oi._registerComponent)(new kr.wA(Na,n=>function bd(n){return{getToken:e=>zr(n,e),addTokenListener:e=>function ia(n,e,t,i){const{app:r}=n,s=In(r),c={next:t,error:i,type:e};if($r(r,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,c]})),s.token&&vd(s.token)){const h=s.token;Promise.resolve().then(()=>{t({token:h.token}),Fh(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Fh(n))}(n,"INTERNAL",e),removeTokenListener:e=>bp(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,oi.registerVersion)("@firebase/app-check","0.5.6")}();class Sd{constructor(){return(0,Gt.vb)("app-check")}}"undefined"!=typeof window&&window;var Vt=G(127);const Ii=new a.OlP("angularfire2.auth.use-emulator"),ra=new a.OlP("angularfire2.auth.settings"),el=new a.OlP("angularfire2.auth.tenant-id"),Gl=new a.OlP("angularfire2.auth.langugage-code"),xu=new a.OlP("angularfire2.auth.use-device-language"),Pc=new a.OlP("angularfire.auth.persistence"),Ip=(n,e,t,i,r,s,c,h)=>(0,pi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=e.runOutsideAngular(()=>n.auth());if(t&&p.useEmulator(...t),i&&(p.tenantId=i),p.languageCode=r,s&&p.useDeviceLanguage(),c)for(const[_,E]of Object.entries(c))p.settings[_]=E;return h&&p.setPersistence(h),p},[t,i,r,s,c,h]);let Ad=(()=>{class n{constructor(t,i,r,s,c,h,p,_,E,S,N,j){const z=new Jt.x,le=bt(void 0).pipe((0,Bs.Q)(c.outsideAngular),C(()=>s.runOutsideAngular(()=>Promise.resolve().then(G.bind(G,5881)))),(0,M.U)(()=>(0,pi.on)(t,s,i)),(0,M.U)(we=>Ip(we,s,h,_,E,S,p,N)),F({bufferSize:1,refCount:!1}));if(wo(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=bt(null);else{le.pipe(gn()).subscribe();const pt=le.pipe(C(ht=>ht.getRedirectResult().then(Xt=>Xt,()=>null)),Gt.iC,F({bufferSize:1,refCount:!1})),_t=le.pipe(C(ht=>new ji.y(Xt=>({unsubscribe:s.runOutsideAngular(()=>ht.onAuthStateChanged(ln=>Xt.next(ln),ln=>Xt.error(ln),()=>Xt.complete()))})))),yt=le.pipe(C(ht=>new ji.y(Xt=>({unsubscribe:s.runOutsideAngular(()=>ht.onIdTokenChanged(ln=>Xt.next(ln),ln=>Xt.error(ln),()=>Xt.complete()))}))));this.authState=pt.pipe(_n(_t),(0,jt.R)(c.outsideAngular),(0,Bs.Q)(c.insideAngular)),this.user=pt.pipe(_n(yt),(0,jt.R)(c.outsideAngular),(0,Bs.Q)(c.insideAngular)),this.idToken=this.user.pipe(C(ht=>ht?(0,$t.D)(ht.getIdToken()):bt(null))),this.idTokenResult=this.user.pipe(C(ht=>ht?(0,$t.D)(ht.getIdTokenResult()):bt(null))),this.credential=(0,Rr.T)(pt,z,this.authState.pipe(ae(ht=>!ht))).pipe((0,M.U)(ht=>(null==ht?void 0:ht.user)?ht:null),(0,jt.R)(c.outsideAngular),(0,Bs.Q)(c.insideAngular))}return(0,pi.pX)(this,le,s,{spy:{apply:(we,pt,_t)=>{(we.startsWith("signIn")||we.startsWith("createUser"))&&_t.then(yt=>z.next(yt))}}})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(pi.Dh),a.LFG(pi.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Gt.HU),a.LFG(Ii,8),a.LFG(ra,8),a.LFG(el,8),a.LFG(Gl,8),a.LFG(xu,8),a.LFG(Pc,8),a.LFG(Sd,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Hh=(()=>{class n{constructor(){Vt.Z.registerVersion("angularfire",Gt.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Ad]}),n})();class Wr extends Jt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const{isArray:e_}=Array,{getPrototypeOf:Sp,prototype:t_,keys:n_}=Object;function Fc(n){if(1===n.length){const e=n[0];if(e_(e))return{args:e,keys:null};if(function i_(n){return n&&"object"==typeof n&&Sp(n)===t_}(e)){const t=n_(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:Lv}=Array;function Yi(n){return(0,M.U)(e=>function IA(n,e){return Lv(e)?n(...e):n(e)}(n,e))}function Vv(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var SA=G(9672);function XC(n,e,t){n?(0,SA.f)(t,n,e):e()}function Ap(n,e){const t=(0,en.m)(n)?n:()=>n,i=r=>r.error(t());return new ji.y(e?r=>e.schedule(i,0,r):i)}var r_=G(8189);function Uv(...n){return function AA(){return(0,r_.J)(1)}()((0,$t.D)(n,(0,xo.yG)(n)))}function eE(n){return new ji.y(e=>{(0,Or.Xf)(n()).subscribe(e)})}var jh=G(515),tl=G(727);function js(){return(0,vn.e)((n,e)=>{let t=null;n._refCount++;const i=(0,Xn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Hv extends ji.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,vn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new tl.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Xn.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=tl.w0.EMPTY)}return e}refCount(){return js()(this)}}function Lc(...n){const e=(0,xo.yG)(n);return(0,vn.e)((t,i)=>{(e?Uv(n,t,e):Uv(n,t)).subscribe(i)})}function tE(n,e,t,i,r){return(s,c)=>{let h=t,p=e,_=0;s.subscribe((0,Xn.x)(c,E=>{const S=_++;p=h?n(p,E,S):(h=!0,E),i&&c.next(p)},r&&(()=>{h&&c.next(p),c.complete()})))}}function ir(n,e){return(0,vn.e)(tE(n,e,arguments.length>=2,!0))}function sa(n){return(0,vn.e)((e,t)=>{let s,i=null,r=!1;i=e.subscribe((0,Xn.x)(t,void 0,void 0,c=>{s=(0,Or.Xf)(n(c,sa(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}var Zr=G(5577);function Gh(n,e){return(0,en.m)(e)?(0,Zr.z)(n,e,1):(0,Zr.z)(n,1)}function jv(n){return n<=0?()=>jh.E:(0,vn.e)((e,t)=>{let i=[];e.subscribe((0,Xn.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}var _r=G(8505);function Gv(n){return(0,vn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class Vc{constructor(e,t){this.id=e,this.url=t}}class s_ extends Vc{constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xp extends Vc{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class iE extends Vc{constructor(e,t,i){super(e,t),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $v extends Vc{constructor(e,t,i){super(e,t),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xA extends Vc{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class MA extends Vc{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qv extends Vc{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class kA extends Vc{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RA extends Vc{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mp{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class rE{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class OA{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class NA{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PA{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class FA{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zv{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const On="primary";class LA{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function $h(n){return new LA(n)}const sE="ngNavigationCancelingError";function Wv(n){const e=Error("NavigationCancelingError: "+n);return e[sE]=!0,e}function VA(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const c=i[s],h=n[s];if(c.startsWith(":"))r[c.substring(1)]=h;else if(c!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function uo(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!nl(n[r],e[r]))return!1;return!0}function nl(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function UA(n){return Array.prototype.concat.apply([],n)}function HA(n){return n.length>0?n[n.length-1]:null}function Gs(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Yr(n){return(0,a.CqO)(n)?n:(0,a.QGY)(n)?(0,$t.D)(Promise.resolve(n)):bt(n)}const Yv={exact:function Qv(n,e,t){if(!Md(n.segments,e.segments)||!Rp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!Qv(n.children[i],e.children[i],t))return!1;return!0},subset:o_},aE={exact:function kp(n,e){return uo(n,e)},subset:function lE(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>nl(n[t],e[t]))},ignored:()=>!0};function Kv(n,e,t){return Yv[t.paths](n.root,e.root,t.matrixParams)&&aE[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function o_(n,e,t){return a_(n,e,e.segments,t)}function a_(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Md(r,t)||e.hasChildren()||!Rp(r,t,i))}if(n.segments.length===t.length){if(!Md(n.segments,t)||!Rp(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!o_(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Md(n.segments,r)&&Rp(n.segments,r,i)&&n.children[On])&&a_(n.children[On],e,s,i)}}function Rp(n,e,t){return e.every((i,r)=>aE[t](n[r].parameters,i.parameters))}class qh{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$h(this.queryParams)),this._queryParamMap}toString(){return GA.serialize(this)}}class Tn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Gs(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return l_(this)}}class xd{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=$h(this.parameters)),this._parameterMap}toString(){return pE(this)}}function Md(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}class uE{}class dE{parse(e){const t=new yE(e);return new qh(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Op(e.root,!0)}`,i=function gE(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Np(t)}=${Np(r)}`).join("&"):`${Np(t)}=${Np(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function Xv(n){return encodeURI(n)}(e.fragment)}`:""}`}}const GA=new dE;function l_(n){return n.segments.map(e=>pE(e)).join("/")}function Op(n,e){if(!n.hasChildren())return l_(n);if(e){const t=n.children[On]?Op(n.children[On],!1):"",i=[];return Gs(n.children,(r,s)=>{s!==On&&i.push(`${s}:${Op(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function Jv(n,e){let t=[];return Gs(n.children,(i,r)=>{r===On&&(t=t.concat(e(i,r)))}),Gs(n.children,(i,r)=>{r!==On&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===On?[Op(n.children[On],!1)]:[`${r}:${Op(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[On]?`${l_(n)}/${t[0]}`:`${l_(n)}/(${t.join("//")})`}}function hE(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Np(n){return hE(n).replace(/%3B/gi,";")}function c_(n){return hE(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zh(n){return decodeURIComponent(n)}function fE(n){return zh(n.replace(/\+/g,"%20"))}function pE(n){return`${c_(n.path)}${function mE(n){return Object.keys(n).map(e=>`;${c_(e)}=${c_(n[e])}`).join("")}(n.parameters)}`}const kd=/^[^\/()?;=#]+/;function Pp(n){const e=n.match(kd);return e?e[0]:""}const _E=/^[^=?&#]+/,u_=/^[^&#]+/;class yE{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Tn([],{}):new Tn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[On]=new Tn(e,t)),i}parseSegment(){const e=Pp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new xd(zh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Pp(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Pp(this.remaining);r&&(i=r,this.capture(i))}e[zh(t)]=zh(i)}parseQueryParam(e){const t=function $A(n){const e=n.match(_E);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const c=function qA(n){const e=n.match(u_);return e?e[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=fE(t),s=fE(i);if(e.hasOwnProperty(r)){let c=e[r];Array.isArray(c)||(c=[c],e[r]=c),c.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Pp(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=On);const c=this.parseChildren();t[s]=1===Object.keys(c).length?c[On]:new Tn([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class e0{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=d_(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=d_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Fp(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Fp(e,this._root).map(t=>t.value)}}function d_(n,e){if(n===e.value)return e;for(const t of e.children){const i=d_(n,t);if(i)return i}return null}function Fp(n,e){if(n===e.value)return[e];for(const t of e.children){const i=Fp(n,t);if(i.length)return i.unshift(e),i}return[]}class $l{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Bc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Lp extends e0{constructor(e,t){super(e),this.snapshot=t,s0(this,e)}toString(){return this.snapshot.toString()}}function t0(n,e){const t=function n0(n,e){const c=new f_([],{},{},"",{},On,e,null,n.root,-1,{});return new r0("",new $l(c,[]))}(n,e),i=new Wr([new xd("",{})]),r=new Wr({}),s=new Wr({}),c=new Wr({}),h=new Wr(""),p=new Rd(i,r,c,h,s,On,e,t.root);return p.snapshot=t.root,new Lp(new $l(p,[]),t)}class Rd{constructor(e,t,i,r,s,c,h,p){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=h,this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,M.U)(e=>$h(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,M.U)(e=>$h(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function h_(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function Vp(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(i))}class f_{constructor(e,t,i,r,s,c,h,p,_,E,S){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=h,this.routeConfig=p,this._urlSegment=_,this._lastPathIndex=E,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=$h(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$h(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class r0 extends e0{constructor(e,t){super(t),this.url=e,s0(this,t)}toString(){return vE(this._root)}}function s0(n,e){e.value._routerState=n,e.children.forEach(t=>s0(n,t))}function vE(n){const e=n.children.length>0?` { ${n.children.map(vE).join(", ")} } `:"";return`${n.value}${e}`}function p_(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,uo(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),uo(e.params,t.params)||n.params.next(t.params),function BA(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!uo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),uo(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Bp(n,e){const t=uo(n.params,e.params)&&function cE(n,e){return Md(n,e)&&n.every((t,i)=>uo(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Bp(n.parent,e.parent))}function m_(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function wE(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return m_(n,i,r);return m_(n,i)})}(n,e,t);return new $l(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(h=>m_(n,h)),c}}const i=function zA(n){return new Rd(new Wr(n.url),new Wr(n.params),new Wr(n.queryParams),new Wr(n.fragment),new Wr(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>m_(n,s));return new $l(i,r)}}function g_(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Up(n){return"object"==typeof n&&null!=n&&n.outlets}function oa(n,e,t,i,r){let s={};if(i&&Gs(i,(h,p)=>{s[p]=Array.isArray(h)?h.map(_=>`${_}`):`${h}`}),n===e)return new qh(t,s,r);const c=EE(n,e,t);return new qh(c,s,r)}function EE(n,e,t){const i={};return Gs(n.children,(r,s)=>{i[s]=r===e?t:EE(r,e,t)}),new Tn(n.segments,i)}class o0{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&g_(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Up);if(r&&r!==HA(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class a0{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function DE(n,e,t){if(n||(n=new Tn([],{})),0===n.segments.length&&n.hasChildren())return __(n,e,t);const i=function KA(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const c=n.segments[r],h=t[i];if(Up(h))break;const p=`${h}`,_=i<t.length-1?t[i+1]:null;if(r>0&&void 0===p)break;if(p&&_&&"object"==typeof _&&void 0===_.outlets){if(!c0(p,_,c))return s;i+=2}else{if(!c0(p,{},c))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Tn(n.segments.slice(0,i.pathIndex),{});return s.children[On]=new Tn(n.segments.slice(i.pathIndex),n.children),__(s,0,r)}return i.match&&0===r.length?new Tn(n.segments,{}):i.match&&!n.hasChildren()?fn(n,e,t):i.match?__(n,0,r):fn(n,e,t)}function __(n,e,t){if(0===t.length)return new Tn(n.segments,{});{const i=function TE(n){return Up(n[0])?n[0].outlets:{[On]:n}}(t),r={};return Gs(i,(s,c)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[c]=DE(n.children[c],e,s))}),Gs(n.children,(s,c)=>{void 0===i[c]&&(r[c]=s)}),new Tn(n.segments,r)}}function fn(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(Up(s)){const p=IE(s.outlets);return new Tn(i,p)}if(0===r&&g_(t[0])){i.push(new xd(n.segments[e].path,l0(t[0]))),r++;continue}const c=Up(s)?s.outlets[On]:`${s}`,h=r<t.length-1?t[r+1]:null;c&&h&&g_(h)?(i.push(new xd(c,l0(h))),r+=2):(i.push(new xd(c,{})),r++)}return new Tn(i,{})}function IE(n){const e={};return Gs(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=fn(new Tn([],{}),0,t))}),e}function l0(n){const e={};return Gs(n,(t,i)=>e[i]=`${t}`),e}function c0(n,e,t){return n==t.path&&uo(e,t.parameters)}class il{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),p_(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Bc(t);e.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,r[c],i),delete r[c]}),Gs(r,(s,c)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Bc(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);if(i&&i.outlet){const c=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Bc(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=Bc(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new FA(s.value.snapshot))}),e.children.length&&this.forwardEvent(new NA(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(p_(r),r===s)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(h.contexts),c.attachRef=h.componentRef,c.route=h.route.value,c.outlet&&c.outlet.attach(h.componentRef,h.route.value),p_(h.route.value),this.activateChildRoutes(e,null,c.children)}else{const h=function SE(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),p=h?h.module.componentFactoryResolver:null;c.attachRef=null,c.route=r,c.resolver=p,c.outlet&&c.outlet.activateWith(r,p),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,i)}}class u0{constructor(e,t){this.routes=e,this.module=t}}function ql(n){return"function"==typeof n}function Hc(n){return n instanceof qh}const v_=Symbol("INITIAL_VALUE");function Mu(){return C(n=>function Bv(...n){const e=(0,xo.yG)(n),t=(0,xo.jO)(n),{args:i,keys:r}=Fc(n);if(0===i.length)return(0,$t.D)([],e);const s=new ji.y(function JC(n,e,t=wt.y){return i=>{XC(e,()=>{const{length:r}=n,s=new Array(r);let c=r,h=r;for(let p=0;p<r;p++)XC(e,()=>{const _=(0,$t.D)(n[p],e);let E=!1;_.subscribe((0,Xn.x)(i,S=>{s[p]=S,E||(E=!0,h--),h||i.next(t(s.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,e,r?c=>Vv(r,c):wt.y));return t?s.pipe(Yi(t)):s}(n.map(e=>e.pipe((0,Se.q)(1),Lc(v_)))).pipe(ir((e,t)=>{let i=!1;return t.reduce((r,s,c)=>r!==v_?r:(s===v_&&(i=!0),i||!1!==s&&c!==t.length-1&&!Hc(s)?r:s),e)},v_),ae(e=>e!==v_),(0,M.U)(e=>Hc(e)?e:!0===e),(0,Se.q)(1)))}class b_{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Od,this.attachRef=null}}class Od{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new b_,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Hp=(()=>{class n{constructor(t,i,r,s,c){this.parentContexts=t,this.location=i,this.resolver=r,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.name=s||On,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const c=(i=i||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),h=this.parentContexts.getOrCreateContext(this.name).children,p=new h0(t,h,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,p),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Od),a.Y36(a.s_b),a.Y36(a._Vd),a.$8M("name"),a.Y36(a.sBO))},n.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class h0{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Rd?this.route:e===Od?this.childContexts:this.parent.get(e,t)}}let QA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&a._UZ(0,"router-outlet")},directives:[Hp],encapsulation:2}),n})();function ME(n,e=""){for(let t=0;t<n.length;t++){const i=n[t];JA(i,XA(e,i))}}function JA(n,e){n.children&&ME(n.children,e)}function XA(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function f0(n){const e=n.children&&n.children.map(f0),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==On&&(t.component=QA),t}function aa(n){return n.outlet||On}function ex(n,e){const t=n.filter(i=>aa(i)===e);return t.push(...n.filter(i=>aa(i)!==e)),t}const kE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function p0(n,e,t){var i;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},kE):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||VA)(t,n,e);if(!s)return Object.assign({},kE);const c={};Gs(s.posParams,(p,_)=>{c[_]=p.path});const h=s.consumed.length>0?Object.assign(Object.assign({},c),s.consumed[s.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:h,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function jp(n,e,t,i,r="corrected"){if(t.length>0&&function m0(n,e,t){return t.some(i=>g0(n,e,i)&&aa(i)!==On)}(n,t,i)){const c=new Tn(e,function tx(n,e,t,i){const r={};r[On]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&aa(s)!==On){const c=new Tn([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,r[aa(s)]=c}return r}(n,e,i,new Tn(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function IN(n,e,t){return t.some(i=>g0(n,e,i))}(n,t,i)){const c=new Tn(n.segments,function RE(n,e,t,i,r,s){const c={};for(const h of i)if(g0(n,t,h)&&!r[aa(h)]){const p=new Tn([],{});p._sourceSegment=n,p._segmentIndexShift="legacy"===s?n.segments.length:e.length,c[aa(h)]=p}return Object.assign(Object.assign({},r),c)}(n,e,t,i,n.children,r));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const s=new Tn(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function g0(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function nx(n,e,t,i){return!!(aa(n)===i||i!==On&&g0(e,t,n))&&("**"===n.path||p0(e,n,t).matched)}function ix(n,e,t){return 0===e.length&&!n.children[t]}class _0{constructor(e){this.segmentGroup=e||null}}class rx{constructor(e){this.urlTree=e}}function w_(n){return Ap(new _0(n))}function sx(n){return Ap(new rx(n))}class y0{constructor(e,t,i,r,s){this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(a.h0i)}apply(){const e=jp(this.urlTree.root,[],[],this.config).segmentGroup,t=new Tn(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,On).pipe((0,M.U)(s=>this.createUrlTree(C_(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(sa(s=>{if(s instanceof rx)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof _0?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,On).pipe((0,M.U)(r=>this.createUrlTree(C_(r),e.queryParams,e.fragment))).pipe(sa(r=>{throw r instanceof _0?this.noMatchError(r):r}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const r=e.segments.length>0?new Tn([],{[On]:e}):e;return new qh(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,M.U)(s=>new Tn([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,$t.D)(r).pipe(Gh(s=>{const c=i.children[s],h=ex(t,s);return this.expandSegmentGroup(e,h,c,s).pipe((0,M.U)(p=>({segment:p,outlet:s})))}),ir((s,c)=>(s[c.outlet]=c.segment,s),{}),function nE(n,e){const t=arguments.length>=2;return i=>i.pipe(n?ae((r,s)=>n(r,s,i)):wt.y,jv(1),t?rt(e):Ze(()=>new Q))}())}expandSegment(e,t,i,r,s,c){return(0,$t.D)(i).pipe(Gh(h=>this.expandSegmentAgainstRoute(e,t,i,h,r,s,c).pipe(sa(_=>{if(_ instanceof _0)return bt(null);throw _}))),gn(h=>!!h),sa((h,p)=>{if(h instanceof Q||"EmptyError"===h.name)return ix(t,r,s)?bt(new Tn([],{})):w_(t);throw h}))}expandSegmentAgainstRoute(e,t,i,r,s,c,h){return nx(r,t,s,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,c):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c):w_(t):w_(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?sx(s):this.lineralizeSegments(i,s).pipe((0,Zr.z)(c=>{const h=new Tn(c,{});return this.expandSegment(e,h,t,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c){const{matched:h,consumedSegments:p,remainingSegments:_,positionalParamSegments:E}=p0(t,r,s);if(!h)return w_(t);const S=this.applyRedirectCommands(p,r.redirectTo,E);return r.redirectTo.startsWith("/")?sx(S):this.lineralizeSegments(r,S).pipe((0,Zr.z)(N=>this.expandSegment(e,t,i,N.concat(_),c,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?bt(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe((0,M.U)(S=>(i._loadedConfig=S,new Tn(r,{})))):bt(new Tn(r,{}));const{matched:c,consumedSegments:h,remainingSegments:p}=p0(t,i,r);return c?this.getChildConfig(e,i,r).pipe((0,Zr.z)(E=>{const S=E.module,N=E.routes,{segmentGroup:j,slicedSegments:z}=jp(t,h,p,N),le=new Tn(j.segments,j.children);if(0===z.length&&le.hasChildren())return this.expandChildren(S,N,le).pipe((0,M.U)(yt=>new Tn(h,yt)));if(0===N.length&&0===z.length)return bt(new Tn(h,{}));const we=aa(i)===s;return this.expandSegment(S,le,N,z,we?On:s,!0).pipe((0,M.U)(_t=>new Tn(h.concat(_t.segments),_t.children)))})):w_(t)}getChildConfig(e,t,i){return t.children?bt(new u0(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?bt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,i).pipe((0,Zr.z)(r=>r?this.configLoader.load(e.injector,t).pipe((0,M.U)(s=>(t._loadedConfig=s,s))):function AN(n){return Ap(Wv(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):bt(new u0([],e))}runCanLoadGuards(e,t,i){const r=t.canLoad;return r&&0!==r.length?bt(r.map(c=>{const h=e.get(c);let p;if(function AE(n){return n&&ql(n.canLoad)}(h))p=h.canLoad(t,i);else{if(!ql(h))throw new Error("Invalid CanLoad guard");p=h(t,i)}return Yr(p)})).pipe(Mu(),(0,_r.b)(c=>{if(!Hc(c))return;const h=Wv(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw h.url=c,h}),(0,M.U)(c=>!0===c)):bt(!0)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return bt(i);if(r.numberOfChildren>1||!r.children[On])return Ap(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));r=r.children[On]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new qh(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Gs(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[s]=t[h]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let c={};return Gs(t.children,(h,p)=>{c[p]=this.createSegmentGroup(e,h,i,r)}),new Tn(s,c)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}function C_(n){const e={};for(const i of Object.keys(n.children)){const s=C_(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function ox(n){if(1===n.numberOfChildren&&n.children[On]){const e=n.children[On];return new Tn(n.segments.concat(e.segments),e.children)}return n}(new Tn(n.segments,e))}class b0{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Wh{constructor(e,t){this.component=e,this.route=t}}function ax(n,e,t){const i=n._root;return Nd(i,e?e._root:null,t,[i.value])}function Gp(n,e,t){const i=function lx(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:t).get(n)}function Nd(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Bc(e);return n.children.forEach(c=>{(function cx(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,c=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const p=function OE(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Md(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Md(n.url,e.url)||!uo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bp(n,e)||!uo(n.queryParams,e.queryParams);default:return!Bp(n,e)}}(c,s,s.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new b0(i)):(s.data=c.data,s._resolvedData=c._resolvedData),Nd(n,e,s.component?h?h.children:null:t,i,r),p&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new Wh(h.outlet.component,c))}else c&&$p(e,h,r),r.canActivateChecks.push(new b0(i)),Nd(n,null,s.component?h?h.children:null:t,i,r)})(c,s[c.value.outlet],t,i.concat([c.value]),r),delete s[c.value.outlet]}),Gs(s,(c,h)=>$p(c,t.getContext(h),r)),r}function $p(n,e,t){const i=Bc(n),r=n.value;Gs(i,(s,c)=>{$p(s,r.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new Wh(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class NE{}function C0(n){return new ji.y(e=>e.error(n))}class T0{constructor(e,t,i,r,s,c){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=c}recognize(){const e=jp(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,On);if(null===t)return null;const i=new f_([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},On,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new $l(i,t),s=new r0(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,i=h_(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=[];for(const s of Object.keys(t.children)){const c=t.children[s],h=ex(e,s),p=this.processSegmentGroup(h,c,s);if(null===p)return null;i.push(...p)}const r=D0(i);return function PE(n){n.sort((e,t)=>e.value.outlet===On?-1:t.value.outlet===On?1:e.value.outlet.localeCompare(t.value.outlet))}(r),r}processSegment(e,t,i,r){for(const s of e){const c=this.processSegmentAgainstRoute(s,t,i,r);if(null!==c)return c}return ix(t,i,r)?[]:null}processSegmentAgainstRoute(e,t,i,r){if(e.redirectTo||!nx(e,t,i,r))return null;let s,c=[],h=[];if("**"===e.path){const j=i.length>0?HA(i).parameters:{};s=new f_(i,j,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,FE(e),aa(e),e.component,e,I0(t),S0(t)+i.length,A0(e))}else{const j=p0(t,e,i);if(!j.matched)return null;c=j.consumedSegments,h=j.remainingSegments,s=new f_(c,j.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,FE(e),aa(e),e.component,e,I0(t),S0(t)+c.length,A0(e))}const p=function E_(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:_,slicedSegments:E}=jp(t,c,h,p.filter(j=>void 0===j.redirectTo),this.relativeLinkResolution);if(0===E.length&&_.hasChildren()){const j=this.processChildren(p,_);return null===j?null:[new $l(s,j)]}if(0===p.length&&0===E.length)return[new $l(s,[])];const S=aa(e)===r,N=this.processSegment(p,_,E,S?On:r);return null===N?null:[new $l(s,N)]}}function hx(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function D0(n){const e=[],t=new Set;for(const i of n){if(!hx(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=D0(i.children);e.push(new $l(i.value,r))}return e.filter(i=>!t.has(i))}function I0(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function S0(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function FE(n){return n.data||{}}function A0(n){return n.resolve||{}}function LE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function VE(n){return C(e=>{const t=n(e);return t?(0,$t.D)(t).pipe((0,M.U)(()=>e)):bt(e)})}class gx extends class MN{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Wp=new a.OlP("ROUTES");class x0{constructor(e,t,i,r){this.injector=e,this.compiler=t,this.onLoadStartListener=i,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const r=this.loadModuleFactory(t.loadChildren).pipe((0,M.U)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const c=s.create(e);return new u0(UA(c.injector.get(Wp,void 0,a.XFs.Self|a.XFs.Optional)).map(f0),c)}),sa(s=>{throw t._loader$=void 0,s}));return t._loader$=new Hv(r,()=>new Jt.x).pipe(js()),t._loader$}loadModuleFactory(e){return Yr(e()).pipe((0,Zr.z)(t=>t instanceof a.YKP?bt(t):(0,$t.D)(this.compiler.compileModuleAsync(t))))}}class yx{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function vx(n){throw n}function UE(n,e,t){return e.parse("/")}function HE(n,e){return bt(null)}const jE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ts=(()=>{class n{constructor(t,i,r,s,c,h,p){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=p,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Jt.x,this.errorHandler=vx,this.malformedUriErrorHandler=UE,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:HE,afterPreactivation:HE},this.urlHandlingStrategy=new yx,this.routeReuseStrategy=new gx,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(a.h0i),this.console=c.get(a.c2e);const S=c.get(a.R0b);this.isNgZoneEnabled=S instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=function Zv(){return new qh(new Tn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new x0(c,h,N=>this.triggerEvent(new Mp(N)),N=>this.triggerEvent(new rE(N))),this.routerState=t0(this.currentUrlTree,this.rootComponentType),this.transitions=new Wr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(ae(r=>0!==r.id),(0,M.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),C(r=>{let s=!1,c=!1;return bt(r).pipe((0,_r.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.currentRawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),C(h=>{const p=this.browserUrlTree.toString(),_=!this.navigated||h.extractedUrl.toString()!==p||p!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||_)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return M0(h.source)&&(this.browserUrlTree=h.extractedUrl),bt(h).pipe(C(S=>{const N=this.transitions.getValue();return i.next(new s_(S.id,this.serializeUrl(S.extractedUrl),S.source,S.restoredState)),N!==this.transitions.getValue()?jh.E:Promise.resolve(S)}),function v0(n,e,t,i){return C(r=>function ku(n,e,t,i,r){return new y0(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,M.U)(s=>Object.assign(Object.assign({},r),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,_r.b)(S=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:S.urlAfterRedirects})}),function fx(n,e,t,i,r){return(0,Zr.z)(s=>function E0(n,e,t,i,r="emptyOnly",s="legacy"){try{const c=new T0(n,e,t,i,r,s).recognize();return null===c?C0(new NE):bt(c)}catch(c){return C0(c)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),i,r).pipe((0,M.U)(c=>Object.assign(Object.assign({},s),{targetSnapshot:c}))))}(this.rootComponentType,this.config,S=>this.serializeUrl(S),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,_r.b)(S=>{if("eager"===this.urlUpdateStrategy){if(!S.extras.skipLocationChange){const j=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);this.setBrowserUrl(j,S)}this.browserUrlTree=S.urlAfterRedirects}const N=new xA(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);i.next(N)}));if(_&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:N,extractedUrl:j,source:z,restoredState:le,extras:we}=h,pt=new s_(N,this.serializeUrl(j),z,le);i.next(pt);const _t=t0(j,this.rootComponentType).snapshot;return bt(Object.assign(Object.assign({},h),{targetSnapshot:_t,urlAfterRedirects:j,extras:Object.assign(Object.assign({},we),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=h.rawUrl,h.resolve(null),jh.E}),VE(h=>{const{targetSnapshot:p,id:_,extractedUrl:E,rawUrl:S,extras:{skipLocationChange:N,replaceUrl:j}}=h;return this.hooks.beforePreactivation(p,{navigationId:_,appliedUrlTree:E,rawUrlTree:S,skipLocationChange:!!N,replaceUrl:!!j})}),(0,_r.b)(h=>{const p=new MA(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(p)}),(0,M.U)(h=>Object.assign(Object.assign({},h),{guards:ax(h.targetSnapshot,h.currentSnapshot,this.rootContexts)})),function ux(n,e){return(0,Zr.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:c}}=t;return 0===c.length&&0===s.length?bt(Object.assign(Object.assign({},t),{guardsResult:!0})):function qp(n,e,t,i){return(0,$t.D)(n).pipe((0,Zr.z)(r=>function dx(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?bt(s.map(h=>{const p=Gp(h,e,r);let _;if(function xE(n){return n&&ql(n.canDeactivate)}(p))_=Yr(p.canDeactivate(n,e,t,i));else{if(!ql(p))throw new Error("Invalid CanDeactivate guard");_=Yr(p(n,e,t,i))}return _.pipe(gn())})).pipe(Mu()):bt(!0)}(r.component,r.route,t,e,i)),gn(r=>!0!==r,!0))}(c,i,r,n).pipe((0,Zr.z)(h=>h&&function Uc(n){return"boolean"==typeof n}(h)?function Zh(n,e,t,i){return(0,$t.D)(e).pipe(Gh(r=>Uv(function Yh(n,e){return null!==n&&e&&e(new OA(n)),bt(!0)}(r.route.parent,i),function w0(n,e){return null!==n&&e&&e(new PA(n)),bt(!0)}(r.route,i),function Kh(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(c=>function Ru(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>eE(()=>bt(c.guards.map(p=>{const _=Gp(p,c.node,t);let E;if(function DN(n){return n&&ql(n.canActivateChild)}(_))E=Yr(_.canActivateChild(i,n));else{if(!ql(_))throw new Error("Invalid CanActivateChild guard");E=Yr(_(i,n))}return E.pipe(gn())})).pipe(Mu())));return bt(s).pipe(Mu())}(n,r.path,t),function zp(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return bt(!0);const r=i.map(s=>eE(()=>{const c=Gp(s,e,t);let h;if(function d0(n){return n&&ql(n.canActivate)}(c))h=Yr(c.canActivate(e,n));else{if(!ql(c))throw new Error("Invalid CanActivate guard");h=Yr(c(e,n))}return h.pipe(gn())}));return bt(r).pipe(Mu())}(n,r.route,t))),gn(r=>!0!==r,!0))}(i,s,n,e):bt(h)),(0,M.U)(h=>Object.assign(Object.assign({},t),{guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,_r.b)(h=>{if(Hc(h.guardsResult)){const _=Wv(`Redirecting to "${this.serializeUrl(h.guardsResult)}"`);throw _.url=h.guardsResult,_}const p=new qv(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(p)}),ae(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,""),!1)),VE(h=>{if(h.guards.canActivateChecks.length)return bt(h).pipe((0,_r.b)(p=>{const _=new kA(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(_)}),C(p=>{let _=!1;return bt(p).pipe(function px(n,e){return(0,Zr.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return bt(t);let s=0;return(0,$t.D)(r).pipe(Gh(c=>function la(n,e,t,i){return function mx(n,e,t,i){const r=LE(n);if(0===r.length)return bt({});const s={};return(0,$t.D)(r).pipe((0,Zr.z)(c=>function xN(n,e,t,i){const r=Gp(n,e,i);return Yr(r.resolve?r.resolve(e,t):r(e,t))}(n[c],e,t,i).pipe((0,_r.b)(h=>{s[c]=h}))),jv(1),(0,Zr.z)(()=>LE(s).length===r.length?bt(s):jh.E))}(n._resolve,n,e,i).pipe((0,M.U)(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),h_(n,t).resolve),null)))}(c.route,i,n,e)),(0,_r.b)(()=>s++),jv(1),(0,Zr.z)(c=>s===r.length?bt(t):jh.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,_r.b)({next:()=>_=!0,complete:()=>{_||(this.restoreHistory(p),this.cancelNavigationTransition(p,"At least one route resolver didn't emit any value."))}}))}),(0,_r.b)(p=>{const _=new RA(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(_)}))}),VE(h=>{const{targetSnapshot:p,id:_,extractedUrl:E,rawUrl:S,extras:{skipLocationChange:N,replaceUrl:j}}=h;return this.hooks.afterPreactivation(p,{navigationId:_,appliedUrlTree:E,rawUrlTree:S,skipLocationChange:!!N,replaceUrl:!!j})}),(0,M.U)(h=>{const p=function bE(n,e,t){const i=m_(n,e._root,t?t._root:void 0);return new Lp(i,e)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return Object.assign(Object.assign({},h),{targetRouterState:p})}),(0,_r.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,e,t)=>(0,M.U)(i=>(new il(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,_r.b)({next(){s=!0},complete(){s=!0}}),Gv(()=>{var h;s||c||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(h=this.currentNavigation)||void 0===h?void 0:h.id)===r.id&&(this.currentNavigation=null)}),sa(h=>{if(c=!0,function oE(n){return n&&n[sE]}(h)){const p=Hc(h.url);p||(this.navigated=!0,this.restoreHistory(r,!0));const _=new iE(r.id,this.serializeUrl(r.extractedUrl),h.message);i.next(_),p?setTimeout(()=>{const E=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),S={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||M0(r.source)};this.scheduleNavigation(E,"imperative",null,S,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const p=new $v(r.id,this.serializeUrl(r.extractedUrl),h);i.next(p);try{r.resolve(this.errorHandler(h))}catch(_){r.reject(_)}}return jh.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const s={replaceUrl:!0},c=(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null;if(c){const p=Object.assign({},c);delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(s.state=p)}const h=this.parseUrl(t.url);this.scheduleNavigation(h,i,c,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){ME(t),this.config=t.map(f0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:c,queryParamsHandling:h,preserveFragment:p}=i,_=r||this.routerState.root,E=p?this.currentUrlTree.fragment:c;let S=null;switch(h){case"merge":S=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=s||null}return null!==S&&(S=this.removeEmptyProps(S)),function CE(n,e,t,i,r){if(0===t.length)return oa(e.root,e.root,e.root,i,r);const s=function WA(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new o0(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return Gs(s.outlets,(p,_)=>{h[_]="string"==typeof p?p.split("/"):p}),[...r,{outlets:h}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===c?(s.split("/").forEach((h,p)=>{0==p&&"."===h||(0==p&&""===h?t=!0:".."===h?e++:""!=h&&r.push(h))}),r):[...r,s]},[]);return new o0(t,e,i)}(t);if(s.toRoot())return oa(e.root,e.root,new Tn([],{}),i,r);const c=function ZA(n,e,t){if(n.isAbsolute)return new a0(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new a0(s,s===e.root,0)}const i=g_(n.commands[0])?0:1;return function YA(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new a0(i,!1,r-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(s,e,n),h=c.processChildren?__(c.segmentGroup,c.index,s.commands):DE(c.segmentGroup,c.index,s.commands);return oa(e.root,c.segmentGroup,h,i,r)}(_,this.currentUrlTree,t,S,null!=E?E:null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Hc(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function GE(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?Object.assign({},jE):!1===i?Object.assign({},bx):i,Hc(t))return Kv(this.currentUrlTree,t,r);const s=this.parseUrl(t);return Kv(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new xp(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,s,c){var h,p;if(this.disposed)return Promise.resolve(!1);let _,E,S;c?(_=c.resolve,E=c.reject,S=c.promise):S=new Promise((z,le)=>{_=z,E=le});const N=++this.navigationId;let j;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),j=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(h=this.browserPageId)&&void 0!==h?h:0:(null!==(p=this.browserPageId)&&void 0!==p?p:0)+1):j=0,this.setTransition({id:N,targetPageId:j,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:_,reject:E,promise:S,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),S.catch(z=>Promise.reject(z))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(t,i=!1){var r,s;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===c?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===c&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i){const r=new iE(t.id,this.serializeUrl(t.extractedUrl),i);this.triggerEvent(r),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function M0(n){return"imperative"!==n}class Ex{}class qE{preload(e,t){return bt(null)}}let zE=(()=>{class n{constructor(t,i,r,s){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=new x0(r,i,p=>t.triggerEvent(new Mp(p)),p=>t.triggerEvent(new rE(p)))}setUpPreloading(){this.subscription=this.router.events.pipe(ae(t=>t instanceof xp),Gh(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(a.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const c=s._loadedConfig;r.push(this.processRoutes(c.module,c.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(t,s)):s.children&&r.push(this.processRoutes(t,s.children));return(0,$t.D)(r).pipe((0,r_.J)(),(0,M.U)(s=>{}))}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?bt(i._loadedConfig):this.loader.load(t.injector,i)).pipe((0,Zr.z)(s=>(i._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Ts),a.LFG(a.Sil),a.LFG(a.zs3),a.LFG(Ex))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),R0=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof s_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof xp&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof zv&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new zv(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Pd=new a.OlP("ROUTER_CONFIGURATION"),ZE=new a.OlP("ROUTER_FORROOT_GUARD"),T_=[ce,{provide:uE,useClass:dE},{provide:Ts,useFactory:function Tx(n,e,t,i,r,s,c={},h,p){const _=new Ts(null,n,e,t,i,r,UA(s));return h&&(_.urlHandlingStrategy=h),p&&(_.routeReuseStrategy=p),function F0(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,_),c.enableTracing&&_.events.subscribe(E=>{var S,N;null===(S=console.group)||void 0===S||S.call(console,`Router Event: ${E.constructor.name}`),console.log(E.toString()),console.log(E),null===(N=console.groupEnd)||void 0===N||N.call(console)}),_},deps:[uE,Od,ce,a.zs3,a.Sil,Wp,Pd,[class _x{},new a.FiY],[class BE{},new a.FiY]]},Od,{provide:Rd,useFactory:function kN(n){return n.routerState.root},deps:[Ts]},zE,qE,class $E{preload(e,t){return t().pipe(sa(()=>bt(null)))}},{provide:Pd,useValue:{enableTracing:!1}}];function O0(){return new a.PXZ("Router",Ts)}let YE=(()=>{class n{constructor(t,i){}static forRoot(t,i){return{ngModule:n,providers:[T_,QE(t),{provide:ZE,useFactory:KE,deps:[[Ts,new a.FiY,new a.tp0]]},{provide:Pd,useValue:i||{}},{provide:Re,useFactory:P0,deps:[Ee,[new a.tBr(gt),new a.FiY],Pd]},{provide:R0,useFactory:N0,deps:[Ts,gu,Pd]},{provide:Ex,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:qE},{provide:a.PXZ,multi:!0,useFactory:O0},[L0,{provide:a.ip1,multi:!0,useFactory:JE,deps:[L0]},{provide:V0,useFactory:XE,deps:[L0]},{provide:a.tb,multi:!0,useExisting:V0}]]}}static forChild(t){return{ngModule:n,providers:[QE(t)]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ZE,8),a.LFG(Ts,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();function N0(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new R0(n,e,t)}function P0(n,e,t={}){return t.useHash?new He(n,e):new Qe(n,e)}function KE(n){return"guarded"}function QE(n){return[{provide:a.deG,multi:!0,useValue:n},{provide:Wp,multi:!0,useValue:n}]}let L0=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Jt.x}appInitializer(){return this.injector.get(re,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(h=>i=h),s=this.injector.get(Ts),c=this.injector.get(Pd);return"disabled"===c.initialNavigation?(s.setUpLocationChangeListener(),i(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?bt(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),s.initialNavigation()):i(!0),r})}bootstrapListener(t){const i=this.injector.get(Pd),r=this.injector.get(zE),s=this.injector.get(R0),c=this.injector.get(Ts),h=this.injector.get(a.z2F);t===h.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&c.initialNavigation(),r.setUpPreloading(),s.init(),c.resetRootComponentType(h.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.zs3))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function JE(n){return n.appInitializer.bind(n)}function XE(n){return n.bootstrapListener.bind(n)}const V0=new a.OlP("Router Initializer");var ca=G(4986);function Qh(){return(0,vn.e)((n,e)=>{let t,i=!1;n.subscribe((0,Xn.x)(e,r=>{const s=t;t=r,i&&e.next([s,r]),i=!0}))})}function D_(n,e=wt.y){return n=null!=n?n:Ix,(0,vn.e)((t,i)=>{let r,s=!0;t.subscribe((0,Xn.x)(i,c=>{const h=e(c);(s||!n(r,h))&&(s=!1,r=h,i.next(c))}))})}function Ix(n,e){return n===e}G(5881);var Dt,Jh=G(3942),tT="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},rl={},B0=B0||{},an=tT||self;function Zp(){}function I_(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Xh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Yp="closure_uid_"+(1e9*Math.random()>>>0),Ax=0;function xx(n,e,t){return n.call.apply(n.bind,arguments)}function nT(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function rr(n,e,t){return(rr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xx:nT).apply(null,arguments)}function Kp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Ds(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(i,r,s){for(var c=Array(arguments.length-2),h=2;h<arguments.length;h++)c[h-2]=arguments[h];return e.prototype[r].apply(i,c)}}function Nu(){this.s=this.s,this.o=this.o}var Mx={};Nu.prototype.s=!1,Nu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Sx(n){return Object.prototype.hasOwnProperty.call(n,Yp)&&n[Yp]||(n[Yp]=++Ax)}(this);delete Mx[n]}},Nu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const iT=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},rT=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const i=n.length,r="string"==typeof n?n.split(""):n;for(let s=0;s<i;s++)s in r&&e.call(t,r[s],s,n)};function sl(n){return Array.prototype.concat.apply([],arguments)}function Qp(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function Jp(n){return/^[\s\xa0]*$/.test(n)}var ho,U0=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function $s(n,e){return-1!=n.indexOf(e)}function S_(n,e){return n<e?-1:n>e?1:0}e:{var sT=an.navigator;if(sT){var oT=sT.userAgent;if(oT){ho=oT;break e}}ho=""}function H0(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function j0(n){const e={};for(const t in n)e[t]=n[t];return e}var Rx="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G0(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<Rx.length;s++)t=Rx[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function $0(n){return $0[" "](n),n}$0[" "]=Zp;var No,n,RN=$s(ho,"Opera"),Xp=$s(ho,"Trident")||$s(ho,"MSIE"),A_=$s(ho,"Edge"),q0=A_||Xp,z0=$s(ho,"Gecko")&&!($s(ho.toLowerCase(),"webkit")&&!$s(ho,"Edge"))&&!($s(ho,"Trident")||$s(ho,"MSIE"))&&!$s(ho,"Edge"),aT=$s(ho.toLowerCase(),"webkit")&&!$s(ho,"Edge");function Nx(){var n=an.document;return n?n.documentMode:void 0}e:{var lT="",cT=(n=ho,z0?/rv:([^\);]+)(\)|;)/.exec(n):A_?/Edge\/([\d\.]+)/.exec(n):Xp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):aT?/WebKit\/(\S+)/.exec(n):RN?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(cT&&(lT=cT?cT[1]:""),Xp){var x_=Nx();if(null!=x_&&x_>parseFloat(lT)){No=String(x_);break e}}No=lT}var uT={};var hT=an.document&&Xp&&(Nx()||parseInt(No,10))||void 0,Z0=function(){if(!an.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{an.addEventListener("test",Zp,e),an.removeEventListener("test",Zp,e)}catch(t){}return n}();function qs(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Fd(n,e){if(qs.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(z0){e:{try{$0(e.nodeName);var r=!0;break e}catch(s){}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Fx[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Fd.Z.h.call(this)}}qs.prototype.h=function(){this.defaultPrevented=!0},Ds(Fd,qs);var Fx={2:"touch",3:"pen",4:"mouse"};Fd.prototype.h=function(){Fd.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var em="closure_listenable_"+(1e6*Math.random()|0),Lx=0;function Vx(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ia=r,this.key=++Lx,this.ca=this.fa=!1}function M_(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function k_(n){this.src=n,this.g={},this.h=0}function tf(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=iT(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(M_(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Pu(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ca&&s.listener==e&&s.capture==!!t&&s.ia==i)return r}return-1}k_.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var c=Pu(n,e,i,r);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new Vx(e,this.src,s,!!i,r)).fa=t,n.push(e)),e};var Y0="closure_lm_"+(1e6*Math.random()|0),Ld={};function fT(n,e,t,i,r){if(i&&i.once)return ol(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)fT(n,e[s],t,i,r);return null}return t=Lu(t),n&&n[em]?n.N(e,t,Xh(i)?!!i.capture:!!i,r):pT(n,e,t,!1,i,r)}function pT(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var c=Xh(r)?!!r.capture:!!r,h=Po(n);if(h||(n[Y0]=h=new k_(n)),(t=h.add(e,t,i,c,s)).proxy)return t;if(i=function K0(){var e=R_;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)Z0||(r=c),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(Fu(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function ol(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)ol(n,e[s],t,i,r);return null}return t=Lu(t),n&&n[em]?n.O(e,t,Xh(i)?!!i.capture:!!i,r):pT(n,e,t,!0,i,r)}function nf(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)nf(n,e[s],t,i,r);else i=Xh(i)?!!i.capture:!!i,t=Lu(t),n&&n[em]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Pu(s=n.g[e],t,i,r))&&(M_(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=Po(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Pu(e,t,i,r)),(t=-1<n?e[n]:null)&&ls(t))}function ls(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[em])tf(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(Fu(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=Po(e))?(tf(t,n),0==t.h&&(t.src=null,e[Y0]=null)):M_(n)}}}function Fu(n){return n in Ld?Ld[n]:Ld[n]="on"+n}function R_(n,e){if(n.ca)n=!0;else{e=new Fd(e,this);var t=n.listener,i=n.ia||n.src;n.fa&&ls(n),n=t.call(i,e)}return n}function Po(n){return(n=n[Y0])instanceof k_?n:null}var tm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lu(n){return"function"==typeof n?n:(n[tm]||(n[tm]=function(e){return n.handleEvent(e)}),n[tm])}function Ki(){Nu.call(this),this.i=new k_(this),this.P=this,this.I=null}function sr(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new qs(e,n);else if(e instanceof qs)e.target=e.target||n;else{var r=e;G0(e=new qs(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var c=e.g=t[s];r=jc(c,i,!0,e)&&r}if(r=jc(c=e.g=n,i,!0,e)&&r,r=jc(c,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=jc(c=e.g=t[s],i,!1,e)&&r}function jc(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var c=e[s];if(c&&!c.ca&&c.capture==t){var h=c.listener,p=c.ia||c.src;c.fa&&tf(n.i,c),r=!1!==h.call(p,i)&&r}}return r&&!i.defaultPrevented}Ds(Ki,Nu),Ki.prototype[em]=!0,Ki.prototype.removeEventListener=function(n,e,t,i){nf(this,n,e,t,i)},Ki.prototype.M=function(){if(Ki.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)M_(t[i]);delete n.g[e],n.h--}}this.I=null},Ki.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Ki.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Vu=an.JSON.stringify;function rf(){var n=Q0;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var N_,Vd=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new af,n=>n.reset());class af{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function mT(n){an.setTimeout(()=>{throw n},0)}function O_(n,e){N_||function gT(){var n=an.Promise.resolve(void 0);N_=function(){n.then(_T)}}(),P_||(N_(),P_=!0),Q0.add(n,e)}var P_=!1,Q0=new class sf{constructor(){this.h=this.g=null}add(e,t){const i=Vd.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function _T(){for(var n;n=rf();){try{n.h.call(n.g)}catch(t){mT(t)}var e=Vd;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}P_=!1}function nm(n,e){Ki.call(this),this.h=n||1,this.g=e||an,this.j=rr(this.kb,this),this.l=Date.now()}function F_(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function J0(n,e,t){if("function"==typeof n)t&&(n=rr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=rr(n.handleEvent,n)}return 2147483647<Number(e)?-1:an.setTimeout(n,e||0)}function X0(n){n.g=J0(()=>{n.g=null,n.i&&(n.i=!1,X0(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ds(nm,Ki),(Dt=nm.prototype).da=!1,Dt.S=null,Dt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),sr(this,"tick"),this.da&&(F_(this),this.start()))}},Dt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Dt.M=function(){nm.Z.M.call(this),F_(this),delete this.g};class Bx extends Nu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:X0(this)}M(){super.M(),this.g&&(an.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lf(n){Nu.call(this),this.h=n,this.g={}}Ds(lf,Nu);var eb=[];function yT(n,e,t,i){Array.isArray(t)||(t&&(eb[0]=t.toString()),t=eb);for(var r=0;r<t.length;r++){var s=fT(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function vT(n){H0(n.g,function(e,t){this.g.hasOwnProperty(t)&&ls(e)},n),n.g={}}function im(){this.g=!0}function cf(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ON(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var c=1;c<r.length;c++)r[c]=""}}}return Vu(t)}catch(h){return e}}(n,t)+(i?" "+i:"")})}lf.prototype.M=function(){lf.Z.M.call(this),vT(this)},lf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},im.prototype.Aa=function(){this.g=!1},im.prototype.info=function(){};var Bd={},L_=null;function uf(){return L_=L_||new Ki}function wT(n){qs.call(this,Bd.Ma,n)}function V_(n){const e=uf();sr(e,new wT(e,n))}function jx(n,e){qs.call(this,Bd.STAT_EVENT,n),this.stat=e}function Fo(n){const e=uf();sr(e,new jx(e,n))}function CT(n,e){qs.call(this,Bd.Na,n),this.size=e}function df(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return an.setTimeout(function(){n()},e)}Bd.Ma="serverreachability",Ds(wT,qs),Bd.STAT_EVENT="statevent",Ds(jx,qs),Bd.Na="timingevent",Ds(CT,qs);var tb={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ET={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Bu(){}function nb(){}Bu.prototype.h=null;var ib,rm={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function B_(){qs.call(this,"d")}function hf(){qs.call(this,"c")}function sm(){}function om(n,e,t,i){this.l=n,this.j=e,this.m=t,this.X=i||1,this.V=new lf(this),this.P=Gx,this.W=new nm(n=q0?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new DT}function DT(){this.i=null,this.g="",this.h=!1}Ds(B_,qs),Ds(hf,qs),Ds(sm,Bu),sm.prototype.g=function(){return new XMLHttpRequest},sm.prototype.i=function(){return{}},ib=new sm;var Gx=45e3,rb={},U_={};function H_(n,e,t){n.K=1,n.v=cm(Fa(e)),n.s=t,n.U=!0,IT(n,null)}function IT(n,e){n.F=Date.now(),j_(n),n.A=Fa(n.v);var t=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),fb(t.h,"t",i),n.C=0,t=n.l.H,n.h=new DT,n.g=xb(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Bx(rr(n.Ia,n,n.g),n.O)),yT(n.V,n.g,"readystatechange",n.gb),e=n.H?j0(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),V_(1),function Ux(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var c="",h=s.split("&"),p=0;p<h.length;p++){var _=h[p].split("=");if(1<_.length){var E=_[0];_=_[1];var S=E.split("_");c=2<=S.length&&"type"==S[1]?c+(E+"=")+_+"&":c+(E+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function sb(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function ob(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=ab(n,t),r==U_){4==e&&(n.o=4,Fo(14),i=!1),cf(n.j,n.m,null,"[Incomplete Response]");break}if(r==rb){n.o=4,Fo(15),cf(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}cf(n.j,n.m,r,null),z_(n,r)}sb(n)&&r!=U_&&r!=rb&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Fo(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),bf(e),e.L=!0,Fo(11))):(cf(n.j,n.m,t,"[Invalid Chunked Response]"),al(n),q_(n))}function ab(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?U_:(t=Number(e.substring(t,i)),isNaN(t)?rb:(i+=1)+t>e.length?U_:(e=e.substr(i,t),n.C=i+t,e))}function j_(n){n.Y=Date.now()+n.P,G_(n,n.P)}function G_(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=df(rr(n.eb,n),e)}function $_(n){n.B&&(an.clearTimeout(n.B),n.B=null)}function q_(n){0==n.l.G||n.I||Db(n.l,n)}function al(n){$_(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,F_(n.W),vT(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function z_(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||mb(t.i,n)))if(t.I=n.N,!n.J&&mb(t.i,n)&&3==t.G){try{var i=t.Ca.g.parse(e)}catch(_){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(t.u)t.ta=r[1],0<t.ta-t.U&&37500>r[2]&&t.N&&0==t.A&&!t.v&&(t.v=df(rr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;ym(t),ey(t)}_m(t),Fo(18)}if(1>=NT(t.i)&&t.ka){try{t.ka()}catch(_){}t.ka=void 0}}else Hu(t,11)}else if((n.J||t.g==n)&&ym(t),!Jp(e))for(r=t.Ca.g.parse(e),e=0;e<r.length;e++){let _=r[e];if(t.U=_[0],_=_[1],2==t.G)if("c"==_[0]){t.J=_[1],t.la=_[2];const E=_[3];null!=E&&(t.ma=E,t.h.info("VER="+t.ma));const S=_[4];null!=S&&(t.za=S,t.h.info("SVER="+t.za));const N=_[5];null!=N&&"number"==typeof N&&0<N&&(t.K=i=1.5*N,t.h.info("backChannelRequestTimeoutMs_="+i)),i=t;const j=n.g;if(j){const z=j.g?j.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(z){var s=i.i;!s.g&&($s(z,"spdy")||$s(z,"quic")||$s(z,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(K_(s,s.h),s.h=null))}if(i.D){const le=j.g?j.g.getResponseHeader("X-HTTP-Session-Id"):null;le&&(i.sa=le,Pi(i.F,i.D,le))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((i=t).oa=Ab(i,i.H?i.la:null,i.W),c.J){PT(i.i,c);var h=c,p=i.K;p&&h.setTimeout(p),h.B&&($_(h),j_(h)),i.g=c}else Eb(i);0<t.l.length&&pm(t)}else"stop"!=_[0]&&"close"!=_[0]||Hu(t,7);else 3==t.G&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?Hu(t,7):Gd(t):"noop"!=_[0]&&t.j&&t.j.wa(_),t.A=0)}V_(4)}catch(_){}}function am(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(I_(n)||"string"==typeof n)rT(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(I_(n)||"string"==typeof n){t=[];for(var i=n.length,r=0;r<i;r++)t.push(r)}else for(r in t=[],i=0,n)t[i++]=r;i=function lb(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(I_(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length;for(var s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}}function ff(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var i=0;i<t;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof ff)for(t=n.T(),i=0;i<t.length;i++)this.set(t[i],n.get(t[i]));else for(i in n)this.set(i,n[i])}function pf(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var i=n.g[e];zl(n.h,i)&&(n.g[t++]=i),e++}n.g.length=t}if(n.i!=n.g.length){var r={};for(t=e=0;e<n.g.length;)zl(r,i=n.g[e])||(n.g[t++]=i,r[i]=1),e++;n.g.length=t}}function zl(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Dt=om.prototype).setTimeout=function(n){this.P=n},Dt.gb=function(n){n=n.target;const e=this.L;e&&3==Yl(n)?e.l():this.Ia(n)},Dt.Ia=function(n){try{if(n==this.g)e:{const E=Yl(this.g);var e=this.g.Da();const S=this.g.ba();if(!(3>E)&&(3!=E||q0||this.g&&(this.h.h||this.g.ga()||BT(this.g)))){this.I||4!=E||7==e||V_(8==e||0>=S?3:2),$_(this);var t=this.g.ba();this.N=t;t:if(sb(this)){var i=BT(this.g);n="";var r=i.length,s=4==Yl(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){al(this),q_(this);var c="";break t}this.h.i=new an.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function bT(n,e,t,i,r,s,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+c})}(this.j,this.u,this.A,this.m,this.X,E,t),this.i){if(this.$&&!this.J){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jp(h)){var _=h;break t}}_=null}if(!(t=_)){this.i=!1,this.o=3,Fo(12),al(this),q_(this);break e}cf(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,z_(this,t)}this.U?(ob(this,E,c),q0&&this.i&&3==E&&(yT(this.V,this.W,"tick",this.fb),this.W.start())):(cf(this.j,this.m,c,null),z_(this,c)),4==E&&al(this),this.i&&!this.I&&(4==E?Db(this.l,this):(this.i=!1,j_(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Fo(12)):(this.o=0,Fo(13)),al(this),q_(this)}}}catch(E){}},Dt.fb=function(){if(this.g){var n=Yl(this.g),e=this.g.ga();this.C<e.length&&($_(this),ob(this,n,e),this.i&&4!=n&&j_(this))}},Dt.cancel=function(){this.I=!0,al(this)},Dt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Hx(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(V_(3),Fo(17)),al(this),this.o=2,q_(this)):G_(this,this.Y-n)},(Dt=ff.prototype).R=function(){pf(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Dt.T=function(){return pf(this),this.g.concat()},Dt.get=function(n,e){return zl(this.h,n)?this.h[n]:e},Dt.set=function(n,e){zl(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Dt.forEach=function(n,e){for(var t=this.T(),i=0;i<t.length;i++){var r=t[i],s=this.get(r);n.call(e,s,r,this)}};var W_=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ud(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Ud){this.g=void 0!==e?e:n.g,Hd(this,n.j),this.s=n.s,mf(this,n.i),lm(this,n.m),this.l=n.l,e=n.h;var t=new _f;t.i=e.i,e.g&&(t.g=new ff(e.g),t.h=e.h),Z_(this,t),this.o=n.o}else n&&(t=String(n).match(W_))?(this.g=!!e,Hd(this,t[1]||"",!0),this.s=um(t[2]||""),mf(this,t[3]||"",!0),lm(this,t[4]),this.l=um(t[5]||"",!0),Z_(this,t[6]||"",!0),this.o=um(t[7]||"")):(this.g=!!e,this.h=new _f(null,this.g))}function Fa(n){return new Ud(n)}function Hd(n,e,t){n.j=t?um(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function mf(n,e,t){n.i=t?um(e,!0):e}function lm(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Z_(n,e,t){e instanceof _f?(n.h=e,function kT(n,e){e&&!n.j&&(Wl(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(db(this,i),fb(this,r,t))},n)),n.j=e}(n.h,n.g)):(t||(e=gf(e,xT)),n.h=new _f(e,n.g))}function Pi(n,e,t){n.h.set(e,t)}function cm(n){return Pi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function um(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function gf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,ST),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function ST(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ud.prototype.toString=function(){var n=[],e=this.j;e&&n.push(gf(e,Y_,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(gf(e,Y_,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(gf(t,"/"==t.charAt(0)?$x:AT,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",gf(t,MT)),n.join("")};var Y_=/[#\/\?@]/g,AT=/[#\?:]/g,$x=/[#\?]/g,xT=/[#\?@]/g,MT=/#/g;function _f(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Wl(n){n.g||(n.g=new ff,n.h=0,n.i&&function NN(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function db(n,e){Wl(n),e=jd(n,e),zl(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,zl((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&pf(n)))}function hb(n,e){return Wl(n),e=jd(n,e),zl(n.g.h,e)}function fb(n,e,t){db(n,e),0<t.length&&(n.i=null,n.g.set(jd(n,e),Qp(t)),n.h+=t.length)}function jd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function pb(n){this.l=n||OT,n=an.PerformanceNavigationTiming?0<(n=an.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(an.g&&an.g.Ea&&an.g.Ea()&&an.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Dt=_f.prototype).add=function(n,e){Wl(this),this.i=null,n=jd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Dt.forEach=function(n,e){Wl(this),this.g.forEach(function(t,i){rT(t,function(r){n.call(e,r,i,this)},this)},this)},Dt.T=function(){Wl(this);for(var n=this.g.R(),e=this.g.T(),t=[],i=0;i<e.length;i++)for(var r=n[i],s=0;s<r.length;s++)t.push(e[i]);return t},Dt.R=function(n){Wl(this);var e=[];if("string"==typeof n)hb(this,n)&&(e=sl(e,this.g.get(jd(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=sl(e,n[t])}return e},Dt.set=function(n,e){return Wl(this),this.i=null,hb(this,n=jd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Dt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Dt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var i=e[t],r=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var c=r;""!==i[s]&&(c+="="+encodeURIComponent(String(i[s]))),n.push(c)}}return this.i=n.join("&")};var OT=10;function qx(n){return!!n.h||!!n.g&&n.g.size>=n.j}function NT(n){return n.h?1:n.g?n.g.size:0}function mb(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function K_(n,e){n.g?n.g.add(e):n.h=e}function PT(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Nr(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Qp(n.i)}function Q_(){}function zx(){this.g=new Q_}function Wx(n,e,t){const i=t||"";try{am(n,function(r,s){let c=r;Xh(r)&&(c=Vu(r)),e.push(i+s+"="+encodeURIComponent(c))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function J_(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(s){}}function yf(n){this.l=n.$b||null,this.j=n.ib||!1}function dm(n,e){Ki.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Uu,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}pb.prototype.cancel=function(){if(this.i=Nr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Q_.prototype.stringify=function(n){return an.JSON.stringify(n,void 0)},Q_.prototype.parse=function(n){return an.JSON.parse(n,void 0)},Ds(yf,Bu),yf.prototype.g=function(){return new dm(this.l,this.j)},yf.prototype.i=function(n){return function(){return n}}({}),Ds(dm,Ki);var Uu=0;function LT(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function hm(n){n.readyState=4,n.l=null,n.j=null,n.A=null,vf(n)}function vf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Dt=dm.prototype).open=function(n,e){if(this.readyState!=Uu)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,vf(this)},Dt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||an).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Dt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,hm(this)),this.readyState=Uu},Dt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,vf(this)),this.g&&(this.readyState=3,vf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==an.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;LT(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Dt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?hm(this):vf(this),3==this.readyState&&LT(this)}},Dt.Ua=function(n){this.g&&(this.response=this.responseText=n,hm(this))},Dt.Ta=function(n){this.g&&(this.response=n,hm(this))},Dt.ha=function(){this.g&&hm(this)},Dt.setRequestHeader=function(n,e){this.v.append(n,e)},Dt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Dt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(dm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Zx=an.JSON.parse;function yr(n){Ki.call(this),this.headers=new ff,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Yx,this.K=this.L=!1}Ds(yr,Ki);var Yx="",gb=/^https?$/i,_b=["POST","PUT"];function Kx(n){return"content-type"==n.toLowerCase()}function VT(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,ll(n),Lo(n)}function ll(n){n.D||(n.D=!0,sr(n,"complete"),sr(n,"error"))}function La(n){if(n.h&&void 0!==B0&&(!n.C[1]||4!=Yl(n)||2!=n.ba()))if(n.v&&4==Yl(n))J0(n.Fa,0,n);else if(sr(n,"readystatechange"),4==Yl(n)){n.h=!1;try{const h=n.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===h){var r=String(n.H).match(W_)[1]||null;if(!r&&an.self&&an.self.location){var s=an.self.location.protocol;r=s.substr(0,s.length-1)}i=!gb.test(r?r.toLowerCase():"")}t=i}if(t)sr(n,"complete"),sr(n,"success");else{n.m=6;try{var c=2<Yl(n)?n.g.statusText:""}catch(p){c=""}n.j=c+" ["+n.ba()+"]",ll(n)}}finally{Lo(n)}}}function Lo(n,e){if(n.g){yb(n);const t=n.g,i=n.C[0]?Zp:null;n.g=null,n.C=null,e||sr(n,"ready");try{t.onreadystatechange=i}catch(r){}}}function yb(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(an.clearTimeout(n.A),n.A=null)}function Yl(n){return n.g?n.g.readyState:0}function BT(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Yx:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function vb(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=function Qx(n){let e="";return H0(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Pi(n,e,t))}function fm(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function X_(n){this.za=0,this.l=[],this.h=new im,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=fm("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=fm("baseRetryDelayMs",5e3,n),this.$a=fm("retryDelaySeedMs",1e4,n),this.Ya=fm("forwardChannelMaxRetries",2,n),this.ra=fm("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new pb(n&&n.concurrentRequestLimit),this.Ca=new zx,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Gd(n){if(bb(n),3==n.G){var e=n.V++,t=Fa(n.F);Pi(t,"SID",n.J),Pi(t,"RID",e),Pi(t,"TYPE","terminate"),gm(n,t),(e=new om(n,n.h,e,void 0)).K=2,e.v=cm(Fa(t)),t=!1,an.navigator&&an.navigator.sendBeacon&&(t=an.navigator.sendBeacon(e.v.toString(),"")),!t&&an.Image&&((new Image).src=e.v,t=!0),t||(e.g=xb(e.l,null),e.g.ea(e.v)),e.F=Date.now(),j_(e)}Sb(n)}function ey(n){n.g&&(bf(n),n.g.cancel(),n.g=null)}function bb(n){ey(n),n.u&&(an.clearTimeout(n.u),n.u=null),ym(n),n.i.cancel(),n.m&&("number"==typeof n.m&&an.clearTimeout(n.m),n.m=null)}function wb(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&pm(n)}function pm(n){qx(n.i)||n.m||(n.m=!0,O_(n.Ha,n),n.C=0)}function mm(n,e){var t;t=e?e.m:n.V++;const i=Fa(n.F);Pi(i,"SID",n.J),Pi(i,"RID",t),Pi(i,"AID",n.U),gm(n,i),n.o&&n.s&&vb(i,n.o,n.s),t=new om(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Cb(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),K_(n.i,t),H_(t,i,e)}function gm(n,e){n.j&&am({},function(t,i){Pi(e,i,t)})}function Cb(n,e,t){t=Math.min(n.l.length,t);var i=n.j?rr(n.j.Oa,n.j,n):null;e:{var r=n.l;let s=-1;for(;;){const c=["count="+t];-1==s?0<t?(s=r[0].h,c.push("ofs="+s)):s=0:c.push("ofs="+s);let h=!0;for(let p=0;p<t;p++){let _=r[p].h;const E=r[p].g;if(_-=s,0>_)s=Math.max(0,r[p].h-100),h=!1;else try{Wx(E,c,"req"+_+"_")}catch(S){i&&i(E)}}if(h){i=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,i}function Eb(n){n.g||n.u||(n.Y=1,O_(n.Ga,n),n.A=0)}function _m(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=df(rr(n.Ga,n),Ib(n,n.A)),n.A++,0))}function bf(n){null!=n.B&&(an.clearTimeout(n.B),n.B=null)}function Tb(n){n.g=new om(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Fa(n.oa);Pi(e,"RID","rpc"),Pi(e,"SID",n.J),Pi(e,"CI",n.N?"0":"1"),Pi(e,"AID",n.U),gm(n,e),Pi(e,"TYPE","xmlhttp"),n.o&&n.s&&vb(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=cm(Fa(e)),t.s=null,t.U=!0,IT(t,n)}function ym(n){null!=n.v&&(an.clearTimeout(n.v),n.v=null)}function Db(n,e){var t=null;if(n.g==e){ym(n),bf(n),n.g=null;var i=2}else{if(!mb(n.i,e))return;t=e.D,PT(n.i,e),i=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;sr(i=uf(),new CT(i,t,e,r)),pm(n)}else Eb(n);else if(3==(r=e.o)||0==r&&0<n.I||!(1==i&&function UT(n,e){return!(NT(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=df(rr(n.Ha,n,e),Ib(n,n.C)),n.C++,0)))}(n,e)||2==i&&_m(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Hu(n,5);break;case 4:Hu(n,10);break;case 3:Hu(n,6);break;default:Hu(n,2)}}function Ib(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Hu(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var i=rr(n.jb,n);t||(t=new Ud("//www.google.com/images/cleardot.gif"),an.location&&"http"==an.location.protocol||Hd(t,"https"),cm(t)),function FT(n,e){const t=new im;if(an.Image){const i=new Image;i.onload=Kp(J_,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Kp(J_,t,i,"TestLoadImage: error",!1,e),i.onabort=Kp(J_,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Kp(J_,t,i,"TestLoadImage: timeout",!1,e),an.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Fo(2);n.G=0,n.j&&n.j.va(e),Sb(n),bb(n)}function Sb(n){n.G=0,n.I=-1,n.j&&((0!=Nr(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Qp(n.l),n.l.length=0),n.j.ua())}function Ab(n,e,t){let i=function cb(n){return n instanceof Ud?Fa(n):new Ud(n,void 0)}(t);if(""!=i.i)e&&mf(i,e+"."+i.i),lm(i,i.m);else{const r=an.location;i=function ub(n,e,t,i){var r=new Ud(null,void 0);return n&&Hd(r,n),e&&mf(r,e),t&&lm(r,t),i&&(r.l=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,t)}return n.aa&&H0(n.aa,function(r,s){Pi(i,s,r)}),t=n.sa,(e=n.D)&&t&&Pi(i,e,t),Pi(i,"VER",n.ma),gm(n,i),i}function xb(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new yr(t&&n.Ba&&!n.qa?new yf({ib:!0}):n.qa)).L=n.H,e}function HT(){}function ty(){if(Xp&&!(10<=Number(hT)))throw Error("Environmental error: no available transport.")}function ua(n,e){Ki.call(this),this.g=new X_(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Jp(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Jp(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new wf(this)}function jT(n){B_.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function GT(){hf.call(this),this.status=1}function wf(n){this.g=n}(Dt=yr.prototype).ea=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ib.g(),this.C=function TT(n){return n.h||(n.h=n.i())}(this.u?this.u:ib),this.g.onreadystatechange=rr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void VT(this,s)}n=t||"";const r=new ff(this.headers);i&&am(i,function(s,c){r.set(c,s)}),i=function kx(n){e:{var e=Kx;const t=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<t;r++)if(r in i&&e.call(void 0,i[r],r,n)){e=r;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(r.T()),t=an.FormData&&n instanceof an.FormData,!(0<=iT(_b,e))||i||t||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(s,c){this.g.setRequestHeader(c,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{yb(this),0<this.B&&((this.K=function Zl(n){return Xp&&function dT(){return function Ox(n){var e=uT;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=U0(String(No)).split("."),t=U0("9").split("."),i=Math.max(e.length,t.length);for(let c=0;0==n&&c<i;c++){var r=e[c]||"",s=t[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=S_(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||S_(0==r[2].length,0==s[2].length)||S_(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rr(this.pa,this)):this.A=J0(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){VT(this,s)}},Dt.pa=function(){void 0!==B0&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,sr(this,"timeout"),this.abort(8))},Dt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,sr(this,"complete"),sr(this,"abort"),Lo(this))},Dt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Lo(this,!0)),yr.Z.M.call(this)},Dt.Fa=function(){this.s||(this.F||this.v||this.l?La(this):this.cb())},Dt.cb=function(){La(this)},Dt.ba=function(){try{return 2<Yl(this)?this.g.status:-1}catch(n){return-1}},Dt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Dt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Zx(e)}},Dt.Da=function(){return this.m},Dt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Dt=X_.prototype).ma=8,Dt.G=1,Dt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Dt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new om(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=j0(s),G0(s,this.P)):s=this.P),null===this.o&&(r.H=s),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var i=this.l[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Cb(this,r,e),Pi(t=Fa(this.F),"RID",n),Pi(t,"CVER",22),this.D&&Pi(t,"X-HTTP-Session-Id",this.D),gm(this,t),this.o&&s&&vb(t,this.o,s),K_(this.i,r),this.Ra&&Pi(t,"TYPE","init"),this.ja?(Pi(t,"$req",e),Pi(t,"SID","null"),r.$=!0,H_(r,t,null)):H_(r,t,e),this.G=2}}else 3==this.G&&(n?mm(this,n):0==this.l.length||qx(this.i)||mm(this))},Dt.Ga=function(){if(this.u=null,Tb(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=df(rr(this.bb,this),n)}},Dt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Fo(10),ey(this),Tb(this))},Dt.ab=function(){null!=this.v&&(this.v=null,ey(this),_m(this),Fo(19))},Dt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Fo(2)):(this.h.info("Failed to ping google.com"),Fo(1))},(Dt=HT.prototype).xa=function(){},Dt.wa=function(){},Dt.va=function(){},Dt.ua=function(){},Dt.Oa=function(){},ty.prototype.g=function(n,e){return new ua(n,e)},Ds(ua,Ki),ua.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),O_(rr(n.hb,n,e))),Fo(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Ab(n,null,n.W),pm(n)},ua.prototype.close=function(){Gd(this.g)},ua.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,wb(this.g,e)}else this.v?((e={}).__data__=Vu(n),wb(this.g,e)):wb(this.g,n)},ua.prototype.M=function(){this.g.j=null,delete this.j,Gd(this.g),delete this.g,ua.Z.M.call(this)},Ds(jT,B_),Ds(GT,hf),Ds(wf,HT),wf.prototype.xa=function(){sr(this.g,"a")},wf.prototype.wa=function(n){sr(this.g,new jT(n))},wf.prototype.va=function(n){sr(this.g,new GT(n))},wf.prototype.ua=function(){sr(this.g,"b")},ty.prototype.createWebChannel=ty.prototype.g,ua.prototype.send=ua.prototype.u,ua.prototype.open=ua.prototype.m,ua.prototype.close=ua.prototype.close,tb.NO_ERROR=0,tb.TIMEOUT=8,tb.HTTP_ERROR=6,ET.COMPLETE="complete",nb.EventType=rm,rm.OPEN="a",rm.CLOSE="b",rm.ERROR="c",rm.MESSAGE="d",Ki.prototype.listen=Ki.prototype.N,yr.prototype.listenOnce=yr.prototype.O,yr.prototype.getLastError=yr.prototype.La,yr.prototype.getLastErrorCode=yr.prototype.Da,yr.prototype.getStatus=yr.prototype.ba,yr.prototype.getResponseJson=yr.prototype.Qa,yr.prototype.getResponseText=yr.prototype.ga,yr.prototype.send=yr.prototype.ea;var Jx=rl.createWebChannelTransport=function(){return new ty},Xx=rl.getStatEventTarget=function(){return uf()},Mb=rl.ErrorCode=tb,eM=rl.EventType=ET,tM=rl.Event=Bd,$T=rl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},nM=rl.FetchXmlHttpFactory=yf,ny=rl.WebChannel=nb,iM=rl.XhrIo=yr;const qT="@firebase/firestore";class Is{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Is.UNAUTHENTICATED=new Is(null),Is.GOOGLE_CREDENTIALS=new Is("google-credentials-uid"),Is.FIRST_PARTY=new Is("first-party-uid"),Is.MOCK_USER=new Is("mock-user");let Cf="9.6.11";const Gc=new Gr.Yd("@firebase/firestore");function iy(){return Gc.logLevel}function tt(n,...e){if(Gc.logLevel<=Gr.in.DEBUG){const t=e.map(ry);Gc.debug(`Firestore (${Cf}): ${n}`,...t)}}function vr(n,...e){if(Gc.logLevel<=Gr.in.ERROR){const t=e.map(ry);Gc.error(`Firestore (${Cf}): ${n}`,...t)}}function Ef(n,...e){if(Gc.logLevel<=Gr.in.WARN){const t=e.map(ry);Gc.warn(`Firestore (${Cf}): ${n}`,...t)}}function ry(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function Mt(n="Unexpected state"){const e=`FIRESTORE (${Cf}) INTERNAL ASSERTION FAILED: `+n;throw vr(e),new Error(e)}function rn(n,e){n||Mt()}function mt(n,e){return n}const De={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ze extends H.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class cs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class $d{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Is.UNAUTHENTICATED))}shutdown(){}}class Rb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class FN{constructor(e){this.t=e,this.currentUser=Is.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=_=>this.i!==r?(r=this.i,t(_)):Promise.resolve();let c=new cs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new cs,e.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const _=c;e.enqueueRetryable((0,Fe.Z)(function*(){yield _.promise,yield s(i.currentUser)}))},p=_=>{tt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(_=>p(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(tt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new cs)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(tt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(rn("string"==typeof i.accessToken),new $d(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return rn(null===e||"string"==typeof e),new Is(e)}}class WT{constructor(e,t,i){this.type="FirstParty",this.user=Is.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class ZT{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new WT(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Is.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Wt{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const i=s=>{null!=s.error&&tt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.p;return this.p=s.token,tt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{tt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?r(s):tt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(rn("string"==typeof t.token),this.p=t.token,new rM(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class da{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.I(i),this.T=i=>t.writeSequenceNumber(i))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function sM(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}da.A=-1;class vm{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=sM(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}}function bn(n,e){return n<e?-1:n>e?1:0}function $c(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function bm(n){return n+"\0"}class wn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ze(De.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ze(De.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ze(De.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ze(De.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return wn.fromMillis(Date.now())}static fromDate(e){return wn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new wn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?bn(this.nanoseconds,e.nanoseconds):bn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class tn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new tn(e)}static min(){return new tn(new wn(0,0))}static max(){return new tn(new wn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Ob(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function qd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function YT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Tf{constructor(e,t,i){void 0===t?t=0:t>e.length&&Mt(),void 0===i?i=e.length-t:i>e.length-t&&Mt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Tf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Tf?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),c=t.get(r);if(s<c)return-1;if(s>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class $n extends Tf{construct(e,t,i){return new $n(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ze(De.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new $n(t)}static emptyPath(){return new $n([])}}const KT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kr extends Tf{construct(e,t,i){return new Kr(e,t,i)}static isValidIdentifier(e){return KT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Kr(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new ze(De.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;r<e.length;){const h=e[r];if("\\"===h){if(r+1===e.length)throw new ze(De.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new ze(De.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,r+=2}else"`"===h?(c=!c,r++):"."!==h||c?(i+=h,r++):(s(),r++)}if(s(),c)throw new ze(De.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kr(t)}static emptyPath(){return new Kr([])}}class Df{constructor(e){this.fields=e,e.sort(Kr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return $c(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class Qr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Qr(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new Qr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qr.EMPTY_BYTE_STRING=new Qr("");const wm=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ju(n){if(rn(!!n),"string"==typeof n){let e=0;const t=wm.exec(n);if(rn(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:or(n.seconds),nanos:or(n.nanos)}}function or(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function zd(n){return"string"==typeof n?Qr.fromBase64String(n):Qr.fromUint8Array(n)}function If(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Nb(n){const e=n.mapValue.fields.__previous_value__;return If(e)?Nb(e):e}function Sf(n){const e=ju(n.mapValue.fields.__local_write_time__.timestampValue);return new wn(e.seconds,e.nanos)}class QT{constructor(e,t,i,r,s,c,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.useFetchStreams=p}}class qc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new qc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof qc&&e.projectId===this.projectId&&e.database===this.database}}function cl(n){return null==n}function zc(n){return 0===n&&1/n==-1/0}function JT(n){return"number"==typeof n&&Number.isInteger(n)&&!zc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class dt{constructor(e){this.path=e}static fromPath(e){return new dt($n.fromString(e))}static fromName(e){return new dt($n.fromString(e).popFirst(5))}static empty(){return new dt($n.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===$n.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return $n.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dt(new $n(e.slice()))}}const XT={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Pb={nullValue:"NULL_VALUE"};function Gu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?If(n)?4:Lb(n)?9:10:Mt()}function ul(n,e){if(n===e)return!0;const t=Gu(n);if(t!==Gu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Sf(n).isEqual(Sf(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=ju(i.timestampValue),c=ju(r.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,zd(n.bytesValue).isEqual(zd(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return or(i.geoPointValue.latitude)===or(r.geoPointValue.latitude)&&or(i.geoPointValue.longitude)===or(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return or(i.integerValue)===or(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=or(i.doubleValue),c=or(r.doubleValue);return s===c?zc(s)===zc(c):isNaN(s)&&isNaN(c)}return!1}(n,e);case 9:return $c(n.arrayValue.values||[],e.arrayValue.values||[],ul);case 10:return function(i,r){const s=i.mapValue.fields||{},c=r.mapValue.fields||{};if(Ob(s)!==Ob(c))return!1;for(const h in s)if(s.hasOwnProperty(h)&&(void 0===c[h]||!ul(s[h],c[h])))return!1;return!0}(n,e);default:return Mt()}var r}function Cm(n,e){return void 0!==(n.values||[]).find(t=>ul(t,e))}function Wc(n,e){if(n===e)return 0;const t=Gu(n),i=Gu(e);if(t!==i)return bn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return bn(n.booleanValue,e.booleanValue);case 2:return function(r,s){const c=or(r.integerValue||r.doubleValue),h=or(s.integerValue||s.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return eD(n.timestampValue,e.timestampValue);case 4:return eD(Sf(n),Sf(e));case 5:return bn(n.stringValue,e.stringValue);case 6:return function(r,s){const c=zd(r),h=zd(s);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const c=r.split("/"),h=s.split("/");for(let p=0;p<c.length&&p<h.length;p++){const _=bn(c[p],h[p]);if(0!==_)return _}return bn(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const c=bn(or(r.latitude),or(s.latitude));return 0!==c?c:bn(or(r.longitude),or(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const c=r.values||[],h=s.values||[];for(let p=0;p<c.length&&p<h.length;++p){const _=Wc(c[p],h[p]);if(_)return _}return bn(c.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){const c=r.fields||{},h=Object.keys(c),p=s.fields||{},_=Object.keys(p);h.sort(),_.sort();for(let E=0;E<h.length&&E<_.length;++E){const S=bn(h[E],_[E]);if(0!==S)return S;const N=Wc(c[h[E]],p[_[E]]);if(0!==N)return N}return bn(h.length,_.length)}(n.mapValue,e.mapValue);default:throw Mt()}}function eD(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return bn(n,e);const t=ju(n),i=ju(e),r=bn(t.seconds,i.seconds);return 0!==r?r:bn(t.nanos,i.nanos)}function Af(n){return tD(n)}function tD(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=ju(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?zd(n.bytesValue).toBase64():"referenceValue"in n?dt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const c of i.values||[])s?s=!1:r+=",",r+=tD(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",c=!0;for(const h of r)c?c=!1:s+=",",s+=`${h}:${tD(i.fields[h])}`;return s+"}"}(n.mapValue):Mt();var e}function xf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function nD(n){return!!n&&"integerValue"in n}function sy(n){return!!n&&"arrayValue"in n}function Fb(n){return!!n&&"nullValue"in n}function Em(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function oy(n){return!!n&&"mapValue"in n}function Tm(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return qd(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Tm(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Tm(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Lb(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Dm(n){return"nullValue"in n?Pb:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?xf(qc.empty(),dt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Mt()}function aM(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?xf(qc.empty(),dt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?XT:Mt()}function iD(n,e){return void 0===n?e:void 0===e||Wc(n,e)>0?n:e}function rD(n,e){return void 0===n?e:void 0===e||Wc(n,e)<0?n:e}class zs{constructor(e){this.value=e}static empty(){return new zs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!oy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tm(t)}setAll(e){let t=Kr.emptyPath(),i={},r=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,i,r),i={},r=[],t=h.popLast()}c?i[h.lastSegment()]=Tm(c):r.push(h.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());oy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ul(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];oy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){qd(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new zs(Tm(this.value))}}function sD(n){const e=[];return qd(n.fields,(t,i)=>{const r=new Kr([t]);if(oy(i)){const s=sD(i.mapValue).fields;if(0===s.length)e.push(r);else for(const c of s)e.push(r.child(c))}else e.push(r)}),new Df(e)}class Ai{constructor(e,t,i,r,s,c){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=s,this.documentState=c}static newInvalidDocument(e){return new Ai(e,0,tn.min(),tn.min(),zs.empty(),0)}static newFoundDocument(e,t,i){return new Ai(e,1,t,tn.min(),i,0)}static newNoDocument(e,t){return new Ai(e,2,t,tn.min(),zs.empty(),0)}static newUnknownDocument(e,t){return new Ai(e,3,t,tn.min(),zs.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ai&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ai(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ay{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function Vb(n){return n.fields.find(e=>2===e.kind)}function Va(n){return n.fields.filter(e=>2!==e.kind)}ay.UNKNOWN_ID=-1;class ly{constructor(e,t){this.fieldPath=e,this.kind=t}}class Mf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Mf(0,Zc.min())}}function oD(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=tn.fromTimestamp(1e9===i?new wn(t+1,0):new wn(t,i));return new Zc(r,dt.empty(),e)}function aD(n){return new Zc(n.readTime,n.key,-1)}class Zc{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Zc(tn.min(),dt.empty(),-1)}static max(){return new Zc(tn.max(),dt.empty(),-1)}}function lD(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=dt.comparator(n.documentKey,e.documentKey),0!==t?t:bn(n.largestBatchId,e.largestBatchId))}class lM{constructor(e,t=null,i=[],r=[],s=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=c,this.endAt=h,this.P=null}}function cy(n,e=null,t=[],i=[],r=null,s=null,c=null){return new lM(n,e,t,i,r,s,c)}function Wd(n){const e=mt(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+Af(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),cl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Af(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Af(i)).join(",")),e.P=t}return e.P}function kf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!fD(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!ul(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!mD(n.startAt,e.startAt)&&mD(n.endAt,e.endAt)}function uy(n){return dt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function dy(n,e){return n.filters.filter(t=>t instanceof Ss&&t.field.isEqual(e))}function uD(n,e,t){let i,r=!0;for(const s of dy(n,e)){let c,h=!0;switch(s.op){case"<":case"<=":c=Dm(s.value);break;case"==":case"in":case">=":c=s.value;break;case">":c=s.value,h=!1;break;case"!=":case"not-in":c=Pb}iD(i,c)===c&&(i=c,r=h)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const c=t.position[s];iD(i,c)===c&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}function hy(n,e,t){let i,r=!0;for(const s of dy(n,e)){let c,h=!0;switch(s.op){case">=":case">":c=aM(s.value),h=!1;break;case"==":case"in":case"<=":c=s.value;break;case"<":c=s.value,h=!1;break;case"!=":case"not-in":c=XT}rD(i,c)===c&&(i=c,r=h)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const c=t.position[s];rD(i,c)===c&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}class Ss extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,i):new dD(e,t,i):"array-contains"===t?new dM(e,i):"in"===t?new hM(e,i):"not-in"===t?new fM(e,i):"array-contains-any"===t?new pM(e,i):new Ss(e,t,i)}static V(e,t,i){return"in"===t?new cM(e,i):new uM(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Wc(t,this.value)):null!==t&&Gu(this.value)===Gu(t)&&this.v(Wc(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Mt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class dD extends Ss{constructor(e,t,i){super(e,t,i),this.key=dt.fromName(i.referenceValue)}matches(e){const t=dt.comparator(e.key,this.key);return this.v(t)}}class cM extends Ss{constructor(e,t){super(e,"in",t),this.keys=hD(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class uM extends Ss{constructor(e,t){super(e,"not-in",t),this.keys=hD(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function hD(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>dt.fromName(i.referenceValue))}class dM extends Ss{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return sy(t)&&Cm(t.arrayValue,this.value)}}class hM extends Ss{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Cm(this.value.arrayValue,t)}}class fM extends Ss{constructor(e,t){super(e,"not-in",t)}matches(e){if(Cm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Cm(this.value.arrayValue,t)}}class pM extends Ss{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!sy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Cm(this.value.arrayValue,i))}}class $u{constructor(e,t){this.position=e,this.inclusive=t}}class Zd{constructor(e,t="asc"){this.field=e,this.dir=t}}function fD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function pD(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],c=n.position[r];if(i=s.field.isKeyField()?dt.comparator(dt.fromName(c.referenceValue),t.key):Wc(c,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function mD(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ul(n.position[t],e.position[t]))return!1;return!0}class Kl{constructor(e,t=null,i=[],r=[],s=null,c="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=c,this.startAt=h,this.endAt=p,this.D=null,this.C=null}}function gD(n,e,t,i,r,s,c,h){return new Kl(n,e,t,i,r,s,c,h)}function Rf(n){return new Kl(n)}function fy(n){return!cl(n.limit)&&"F"===n.limitType}function Of(n){return!cl(n.limit)&&"L"===n.limitType}function Im(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function py(n){for(const e of n.filters)if(e.S())return e.field;return null}function Sm(n){return null!==n.collectionGroup}function Nf(n){const e=mt(n);if(null===e.D){e.D=[];const t=py(e),i=Im(e);if(null!==t&&null===i)t.isKeyField()||e.D.push(new Zd(t)),e.D.push(new Zd(Kr.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.D.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Zd(Kr.keyField(),s))}}}return e.D}function Ba(n){const e=mt(n);if(!e.C)if("F"===e.limitType)e.C=cy(e.path,e.collectionGroup,Nf(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Nf(e))t.push(new Zd(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new $u(e.endAt.position,!e.endAt.inclusive):null,r=e.startAt?new $u(e.startAt.position,!e.startAt.inclusive):null;e.C=cy(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.C}function my(n,e,t){return new Kl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Am(n,e){return kf(Ba(n),Ba(e))&&n.limitType===e.limitType}function Bb(n){return`${Wd(Ba(n))}|lt:${n.limitType}`}function Ub(n){return`Query(target=${function cD(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${Af(i.value)}`;var i}).join(", ")}]`),cl(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Af(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Af(t)).join(",")),`Target(${e})`}(Ba(n))}; limitType=${n.limitType})`}function gy(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):dt.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,c){const h=pD(r,s,c);return r.inclusive?h<=0:h<0}(t.startAt,Nf(t),i)||t.endAt&&!function(r,s,c){const h=pD(r,s,c);return r.inclusive?h>=0:h>0}(t.endAt,Nf(t),i)));var t,i}function _D(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Hb(n){return(e,t)=>{let i=!1;for(const r of Nf(n)){const s=VN(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function VN(n,e,t){const i=n.field.isKeyField()?dt.comparator(e.key,t.key):function(r,s,c){const h=s.data.field(r),p=c.data.field(r);return null!==h&&null!==p?Wc(h,p):Mt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Mt()}}function yD(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zc(e)?"-0":e}}function xm(n){return{integerValue:""+n}}function vD(n,e){return JT(e)?xm(e):yD(n,e)}class Yc{constructor(){this._=void 0}}function Mm(n,e,t){return n instanceof Yd?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof Kd?bD(n,e):n instanceof Qd?wD(n,e):function(i,r){const s=gM(i,r),c=jb(s)+jb(i.k);return nD(s)&&nD(i.k)?xm(c):yD(i.M,c)}(n,e)}function mM(n,e,t){return n instanceof Kd?bD(n,e):n instanceof Qd?wD(n,e):t}function gM(n,e){return n instanceof Jd?nD(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Yd extends Yc{}class Kd extends Yc{constructor(e){super(),this.elements=e}}function bD(n,e){const t=_y(e);for(const i of n.elements)t.some(r=>ul(r,i))||t.push(i);return{arrayValue:{values:t}}}class Qd extends Yc{constructor(e){super(),this.elements=e}}function wD(n,e){let t=_y(e);for(const i of n.elements)t=t.filter(r=>!ul(r,i));return{arrayValue:{values:t}}}class Jd extends Yc{constructor(e,t){super(),this.M=e,this.k=t}}function jb(n){return or(n.integerValue||n.doubleValue)}function _y(n){return sy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class qu{constructor(e,t){this.field=e,this.transform=t}}class _M{constructor(e,t){this.version=e,this.transformResults=t}}class br{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new br}static exists(e){return new br(void 0,e)}static updateTime(e){return new br(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rm(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class yy{}function yM(n,e,t){n instanceof Nm?function(i,r,s){const c=i.value.clone(),h=Xd(i.fieldTransforms,r,s.transformResults);c.setAll(h),r.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Ua?function(i,r,s){if(!Rm(i.precondition,r))return void r.convertToUnknownDocument(s.version);const c=Xd(i.fieldTransforms,r,s.transformResults),h=r.data;h.setAll(Gb(i)),h.setAll(c),r.convertToFoundDocument(s.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Om(n,e,t){var r;n instanceof Nm?function(i,r,s){if(!Rm(i.precondition,r))return;const c=i.value.clone(),h=wM(i.fieldTransforms,s,r);c.setAll(h),r.convertToFoundDocument(CD(r),c).setHasLocalMutations()}(n,e,t):n instanceof Ua?function(i,r,s){if(!Rm(i.precondition,r))return;const c=wM(i.fieldTransforms,s,r),h=r.data;h.setAll(Gb(i)),h.setAll(c),r.convertToFoundDocument(CD(r),h).setHasLocalMutations()}(n,e,t):Rm(n.precondition,r=e)&&r.convertToNoDocument(tn.min())}function vM(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=gM(i.transform,r||null);null!=s&&(null==t&&(t=zs.empty()),t.set(i.field,s))}return t||null}function bM(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&$c(t,i,(r,s)=>function km(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Kd&&i instanceof Kd||t instanceof Qd&&i instanceof Qd?$c(t.elements,i.elements,ul):t instanceof Jd&&i instanceof Jd?ul(t.k,i.k):t instanceof Yd&&i instanceof Yd);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}function CD(n){return n.isFoundDocument()?n.version:tn.min()}class Nm extends yy{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}}class Ua extends yy{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}}function Gb(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Xd(n,e,t){const i=new Map;rn(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],c=s.transform,h=e.data.field(s.field);i.set(s.field,mM(c,h,t[r]))}return i}function wM(n,e,t){const i=new Map;for(const r of n){const s=r.transform,c=t.data.field(r.field);i.set(r.field,Mm(s,c,e))}return i}class Pf extends yy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class $b extends yy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class BN{constructor(e){this.count=e}}var wr,ei;function qb(n){switch(n){default:return Mt();case De.CANCELLED:case De.UNKNOWN:case De.DEADLINE_EXCEEDED:case De.RESOURCE_EXHAUSTED:case De.INTERNAL:case De.UNAVAILABLE:case De.UNAUTHENTICATED:return!1;case De.INVALID_ARGUMENT:case De.NOT_FOUND:case De.ALREADY_EXISTS:case De.PERMISSION_DENIED:case De.FAILED_PRECONDITION:case De.ABORTED:case De.OUT_OF_RANGE:case De.UNIMPLEMENTED:case De.DATA_LOSS:return!0}}function vy(n){if(void 0===n)return vr("GRPC error has no .code"),De.UNKNOWN;switch(n){case wr.OK:return De.OK;case wr.CANCELLED:return De.CANCELLED;case wr.UNKNOWN:return De.UNKNOWN;case wr.DEADLINE_EXCEEDED:return De.DEADLINE_EXCEEDED;case wr.RESOURCE_EXHAUSTED:return De.RESOURCE_EXHAUSTED;case wr.INTERNAL:return De.INTERNAL;case wr.UNAVAILABLE:return De.UNAVAILABLE;case wr.UNAUTHENTICATED:return De.UNAUTHENTICATED;case wr.INVALID_ARGUMENT:return De.INVALID_ARGUMENT;case wr.NOT_FOUND:return De.NOT_FOUND;case wr.ALREADY_EXISTS:return De.ALREADY_EXISTS;case wr.PERMISSION_DENIED:return De.PERMISSION_DENIED;case wr.FAILED_PRECONDITION:return De.FAILED_PRECONDITION;case wr.ABORTED:return De.ABORTED;case wr.OUT_OF_RANGE:return De.OUT_OF_RANGE;case wr.UNIMPLEMENTED:return De.UNIMPLEMENTED;case wr.DATA_LOSS:return De.DATA_LOSS;default:return Mt()}}(ei=wr||(wr={}))[ei.OK=0]="OK",ei[ei.CANCELLED=1]="CANCELLED",ei[ei.UNKNOWN=2]="UNKNOWN",ei[ei.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ei[ei.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ei[ei.NOT_FOUND=5]="NOT_FOUND",ei[ei.ALREADY_EXISTS=6]="ALREADY_EXISTS",ei[ei.PERMISSION_DENIED=7]="PERMISSION_DENIED",ei[ei.UNAUTHENTICATED=16]="UNAUTHENTICATED",ei[ei.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ei[ei.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ei[ei.ABORTED=10]="ABORTED",ei[ei.OUT_OF_RANGE=11]="OUT_OF_RANGE",ei[ei.UNIMPLEMENTED=12]="UNIMPLEMENTED",ei[ei.INTERNAL=13]="INTERNAL",ei[ei.UNAVAILABLE=14]="UNAVAILABLE",ei[ei.DATA_LOSS=15]="DATA_LOSS";class zu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){qd(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return YT(this.inner)}size(){return this.innerSize}}class ar{constructor(e,t){this.comparator=e,this.root=t||As.EMPTY}insert(e,t){return new ar(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,As.BLACK,null,null))}remove(e){return new ar(this.comparator,this.root.remove(e,this.comparator).copy(null,null,As.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pm(this.root,e,this.comparator,!0)}}class Pm{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class As{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=null!=i?i:As.RED,this.left=null!=r?r:As.EMPTY,this.right=null!=s?s:As.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new As(null!=e?e:this.key,null!=t?t:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return As.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return As.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,As.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,As.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Mt();const e=this.left.check();if(e!==this.right.check())throw Mt();return e+(this.isRed()?0:1)}}As.EMPTY=null,As.RED=!0,As.BLACK=!1,As.EMPTY=new class{constructor(){this.size=0}get key(){throw Mt()}get value(){throw Mt()}get color(){throw Mt()}get left(){throw Mt()}get right(){throw Mt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new As(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fi{constructor(e){this.comparator=e,this.data=new ar(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ED(this.data.getIterator())}getIteratorFrom(e){return new ED(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Fi)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Fi(this.comparator);return t.data=e,t}}class ED{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ff(n){return n.hasNext()?n.getNext():void 0}const CM=new ar(dt.comparator);function Ha(){return CM}const EM=new ar(dt.comparator);function eh(){return EM}function Lf(){return new zu(n=>n.toString(),(n,e)=>n.isEqual(e))}const TD=new ar(dt.comparator),DD=new Fi(dt.comparator);function ai(...n){let e=DD;for(const t of n)e=e.add(t);return e}const ID=new Fi(bn);function Fm(){return ID}class Lm{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t){const i=new Map;return i.set(e,Vf.createSynthesizedTargetChangeForCurrentChange(e,t)),new Lm(tn.min(),i,Fm(),Ha(),ai())}}class Vf{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Vf(Qr.EMPTY_BYTE_STRING,t,ai(),ai(),ai())}}class Vm{constructor(e,t,i,r){this.O=e,this.removedTargetIds=t,this.key=i,this.F=r}}class zb{constructor(e,t){this.targetId=e,this.$=t}}class Wb{constructor(e,t,i=Qr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class SD{constructor(){this.B=0,this.L=by(),this.U=Qr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=ai(),t=ai(),i=ai();return this.L.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Mt()}}),new Vf(this.U,this.q,e,t,i)}J(){this.K=!1,this.L=by()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class Bm{constructor(e){this.nt=e,this.st=new Map,this.it=Ha(),this.rt=AD(),this.ot=new Fi(bn)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const i=this.lt(t);switch(e.state){case 0:this.ft(t)&&i.W(e.resumeToken);break;case 1:i.tt(),i.G||i.J(),i.W(e.resumeToken);break;case 2:i.tt(),i.G||this.removeTarget(t);break;case 3:this.ft(t)&&(i.et(),i.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),i.W(e.resumeToken));break;default:Mt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((i,r)=>{this.ft(r)&&t(r)})}_t(e){const t=e.targetId,i=e.$.count,r=this.wt(t);if(r){const s=r.target;if(uy(s))if(0===i){const c=new dt(s.path);this.ct(t,c,Ai.newNoDocument(c,tn.min()))}else rn(1===i);else this.gt(t)!==i&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((s,c)=>{const h=this.wt(c);if(h){if(s.current&&uy(h.target)){const p=new dt(h.target.path);null!==this.it.get(p)||this.It(c,p)||this.ct(c,p,Ai.newNoDocument(p,e))}s.j&&(t.set(c,s.H()),s.J())}});let i=ai();this.rt.forEach((s,c)=>{let h=!0;c.forEachWhile(p=>{const _=this.wt(p);return!_||2===_.purpose||(h=!1,!1)}),h&&(i=i.add(s))}),this.it.forEach((s,c)=>c.setReadTime(e));const r=new Lm(e,t,this.ot,this.it,i);return this.it=Ha(),this.rt=AD(),this.ot=new Fi(bn),r}at(e,t){if(!this.ft(e))return;const i=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,i),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,i){if(!this.ft(e))return;const r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),i&&(this.it=this.it.insert(t,i))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new SD,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Fi(bn),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||tt("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new SD),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function AD(){return new ar(dt.comparator)}function by(){return new ar(dt.comparator)}const Ql={asc:"ASCENDING",desc:"DESCENDING"},TM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Zb{constructor(e,t){this.databaseId=e,this.N=t}}function Kc(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xD(n,e){return n.N?e.toBase64():e.toUint8Array()}function DM(n,e){return Kc(n,e.toTimestamp())}function us(n){return rn(!!n),tn.fromTimestamp(function(e){const t=ju(e);return new wn(t.seconds,t.nanos)}(n))}function Bf(n,e){return(t=n,new $n(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Um(n){const e=$n.fromString(n);return rn(ew(e)),e}function Hm(n,e){return Bf(n.databaseId,e.path)}function Jl(n,e){const t=Um(e);if(t.get(1)!==n.databaseId.projectId)throw new ze(De.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ze(De.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new dt(Kb(t))}function wy(n,e){return Bf(n.databaseId,e)}function Yb(n){const e=Um(n);return 4===e.length?$n.emptyPath():Kb(e)}function th(n){return new $n(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Kb(n){return rn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function MD(n,e,t){return{name:Hm(n,e),fields:t.value.mapValue.fields}}function kD(n,e,t){const i=Jl(n,e.name),r=us(e.updateTime),s=new zs({mapValue:{fields:e.fields}}),c=Ai.newFoundDocument(i,r,s);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function nh(n,e){let t;if(e instanceof Nm)t={update:MD(n,e.key,e.value)};else if(e instanceof Pf)t={delete:Hm(n,e.key)};else if(e instanceof Ua)t={update:MD(n,e.key,e.data),updateMask:SM(e.fieldMask)};else{if(!(e instanceof $b))return Mt();t={verify:Hm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const c=s.transform;if(c instanceof Yd)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Kd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Qd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Jd)return{fieldPath:s.field.canonicalString(),increment:c.k};throw Mt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:DM(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:Mt()),t;var r}function Cy(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?br.updateTime(us(r.updateTime)):void 0!==r.exists?br.exists(r.exists):br.none():br.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,c){let h=null;"setToServerValue"in c?(rn("REQUEST_TIME"===c.setToServerValue),h=new Yd):"appendMissingElements"in c?h=new Kd(c.appendMissingElements.values||[]):"removeAllFromArray"in c?h=new Qd(c.removeAllFromArray.values||[]):"increment"in c?h=new Jd(s,c.increment):Mt();const p=Kr.fromServerFormat(c.fieldPath);return new qu(p,h)}(n,r)):[];var r;if(e.update){const r=Jl(n,e.update.name),s=new zs({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new Df((e.updateMask.fieldPaths||[]).map(_=>Kr.fromServerFormat(_)));return new Ua(r,s,c,t,i)}return new Nm(r,s,t,i)}if(e.delete){const r=Jl(n,e.delete);return new Pf(r,t)}if(e.verify){const r=Jl(n,e.verify);return new $b(r,t)}return Mt()}function Ey(n,e){return{documents:[wy(n,e.path)]}}function RD(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=wy(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=wy(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(p){if(0===p.length)return;const _=p.map(E=>function(S){if("=="===S.op){if(Em(S.value))return{unaryFilter:{field:ih(S.field),op:"IS_NAN"}};if(Fb(S.value))return{unaryFilter:{field:ih(S.field),op:"IS_NULL"}}}else if("!="===S.op){if(Em(S.value))return{unaryFilter:{field:ih(S.field),op:"IS_NOT_NAN"}};if(Fb(S.value))return{unaryFilter:{field:ih(S.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ih(S.field),op:Xb(S.op),value:S.value}}}(E));return 1===_.length?_[0]:{compositeFilter:{op:"AND",filters:_}}}(e.filters);r&&(t.structuredQuery.where=r);const s=function(p){if(0!==p.length)return p.map(_=>{return{field:ih((E=_).field),direction:PD(E.dir)};var E})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const c=(_=e.limit,n.N||cl(_)?_:{value:_});var _,h,p;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(p=e.endAt).inclusive,values:p.position}),t}function OD(n){let e=Yb(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){rn(1===i);const E=t.from[0];E.allDescendants?r=E.collectionId:e=e.child(E.collectionId)}let s=[];t.where&&(s=ND(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(E=>{return new Zd(rh((S=E).field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let h=null;t.limit&&(h=function(E){let S;return S="object"==typeof E?E.value:E,cl(S)?null:S}(t.limit));let p=null;var E;t.startAt&&(p=new $u((E=t.startAt).values||[],!!E.before));let _=null;return t.endAt&&(_=function(E){return new $u(E.values||[],!E.before)}(t.endAt)),gD(e,r,c,s,h,"F",p,_)}function ND(n){return n?void 0!==n.unaryFilter?[LD(n)]:void 0!==n.fieldFilter?[FD(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>ND(e)).reduce((e,t)=>e.concat(t)):Mt():[]}function PD(n){return Ql[n]}function Xb(n){return TM[n]}function ih(n){return{fieldPath:n.canonicalString()}}function rh(n){return Kr.fromServerFormat(n.fieldPath)}function FD(n){return Ss.create(rh(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Mt()}}(n.fieldFilter.op),n.fieldFilter.value)}function LD(n){switch(n.unaryFilter.op){case"IS_NAN":const e=rh(n.unaryFilter.field);return Ss.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=rh(n.unaryFilter.field);return Ss.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=rh(n.unaryFilter.field);return Ss.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=rh(n.unaryFilter.field);return Ss.create(r,"!=",{nullValue:"NULL_VALUE"});default:return Mt()}}function SM(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ew(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ws(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=tw(e)),e=AM(n.get(t),e);return tw(e)}function AM(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function tw(n){return n+"\x01\x01"}function dl(n){const e=n.length;if(rn(e>=2),2===e)return rn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),$n.emptyPath();const t=e-2,i=[];let r="";for(let s=0;s<e;){const c=n.indexOf("\x01",s);switch((c<0||c>t)&&Mt(),n.charAt(c+1)){case"\x01":const h=n.substring(s,c);let p;0===r.length?p=h:(r+=h,p=r,r=""),i.push(p);break;case"\x10":r+=n.substring(s,c),r+="\0";break;case"\x11":r+=n.substring(s,c+1);break;default:Mt()}s=c+2}return new $n(i)}const Zs=["userId","batchId"];function Qc(n,e){return[n,Ws(e)]}function VD(n,e,t){return[n,Ws(e),t]}const xM={},HN=["prefixPath","collectionGroup","readTime","documentId"],jm=["prefixPath","collectionGroup","documentId"],MM=["collectionGroup","readTime","prefixPath","documentId"],nw=["canonicalId","targetId"],kM=["targetId","path"],BD=["path","targetId"],RM=["collectionId","parent"],OM=["indexId","uid"],iw=["uid","sequenceNumber"],UD=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],HD=["indexId","uid","orderedDocumentKey"],Ty=["userId","collectionPath","documentId"],rw=["userId","collectionPath","largestBatchId"],jN=["userId","collectionGroup","largestBatchId"],sw=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],NM=[...sw,"documentOverlays"],ow=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Dy=[...ow,"indexConfiguration","indexState","indexEntries"],aw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ne((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ne?t:Ne.resolve(t)}catch(t){return Ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ne.reject(t)}static resolve(e){return new Ne((t,i)=>{t(e)})}static reject(e){return new Ne((t,i)=>{i(e)})}static waitFor(e){return new Ne((t,i)=>{let r=0,s=0,c=!1;e.forEach(h=>{++r,h.next(()=>{++s,c&&s===r&&t()},p=>i(p))}),c=!0,s===r&&t()})}static or(e){let t=Ne.resolve(!1);for(const i of e)t=t.next(r=>r?Ne.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}}class Uf{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new cs,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Gm(e,t.error)):this.At.resolve()},this.transaction.onerror=i=>{const r=Iy(i.target.error);this.At.reject(new Gm(e,r))}}static open(e,t,i,r){try{return new Uf(t,e.transaction(r,i))}catch(s){throw new Gm(t,s)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(tt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new GD(t)}}class Xl{constructor(e,t,i){this.name=e,this.version=t,this.bt=i,12.2===Xl.Vt((0,H.z$)())&&vr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return tt("SimpleDb","Removing database:",e),sh(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,H.hl)())return!1;if(Xl.St())return!0;const e=(0,H.z$)(),t=Xl.Vt(e),i=0<t&&t<10,r=Xl.Dt(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Nt(e){var t=this;return(0,Fe.Z)(function*(){return t.db||(tt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=c=>{i(c.target.result)},s.onblocked=()=>{r(new Gm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=c=>{const h=c.target.error;r("VersionError"===h.name?new ze(De.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new ze(De.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new Gm(e,h))},s.onupgradeneeded=c=>{tt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.bt.kt(c.target.result,s.transaction,c.oldVersion,t.version).next(()=>{tt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=i=>t.Mt(i)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var s=this;return(0,Fe.Z)(function*(){const c="readonly"===t;let h=0;for(;;){++h;try{s.db=yield s.Nt(e);const p=Uf.open(s.db,e,c?"readonly":"readwrite",i),_=r(p).next(E=>(p.Pt(),E)).catch(E=>(p.abort(E),Ne.reject(E))).toPromise();return _.catch(()=>{}),yield p.Rt,_}catch(p){const _="FirebaseError"!==p.name&&h<3;if(tt("SimpleDb","Transaction failed with error:",p.message,"Retrying:",_),s.close(),!_)return Promise.reject(p)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class PM{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return sh(this.Ft.delete())}}class Gm extends ze{constructor(e,t){super(De.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Wu(n){return"IndexedDbTransactionError"===n.name}class GD{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(tt("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(tt("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),sh(i)}add(e){return tt("SimpleDb","ADD",this.store.name,e,e),sh(this.store.add(e))}get(e){return sh(this.store.get(e)).next(t=>(void 0===t&&(t=null),tt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return tt("SimpleDb","DELETE",this.store.name,e),sh(this.store.delete(e))}count(){return tt("SimpleDb","COUNT",this.store.name),sh(this.store.count())}qt(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.Kt(r,(c,h)=>{s.push(h)}).next(()=>s)}{const r=this.store.getAll(i.range);return new Ne((s,c)=>{r.onerror=h=>{c(h.target.error)},r.onsuccess=h=>{s(h.target.result)}})}}Gt(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new Ne((r,s)=>{i.onerror=c=>{s(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}Qt(e,t){tt("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.jt=!1;const r=this.cursor(i);return this.Kt(r,(s,c,h)=>h.delete())}Wt(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.Kt(r,t)}zt(e){const t=this.cursor({});return new Ne((i,r)=>{t.onerror=s=>{const c=Iy(s.target.error);r(c)},t.onsuccess=s=>{const c=s.target.result;c?e(c.primaryKey,c.value).next(h=>{h?c.continue():i()}):i()}})}Kt(e,t){const i=[];return new Ne((r,s)=>{e.onerror=c=>{s(c.target.error)},e.onsuccess=c=>{const h=c.target.result;if(!h)return void r();const p=new PM(h),_=t(h.primaryKey,h.value,p);if(_ instanceof Ne){const E=_.catch(S=>(p.done(),Ne.reject(S)));i.push(E)}p.isDone?r():null===p.Lt?h.continue():h.continue(p.Lt)}}).next(()=>Ne.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.jt?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function sh(n){return new Ne((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=Iy(i.target.error);t(r)}})}let lw=!1;function Iy(n){const e=Xl.Vt((0,H.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new ze("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return lw||(lw=!0,setTimeout(()=>{throw i},0)),i}}return n}class $D extends jD{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function ds(n,e){const t=mt(n);return Xl.xt(t.Ht,e)}class Sy{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&yM(s,e,i[r])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Om(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Om(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const i=e.get(t.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(tn.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ai())}isEqual(e){return this.batchId===e.batchId&&$c(this.mutations,e.mutations,(t,i)=>bM(t,i))&&$c(this.baseMutations,e.baseMutations,(t,i)=>bM(t,i))}}class cw{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){rn(e.mutations.length===i.length);let r=TD;const s=e.mutations;for(let c=0;c<s.length;c++)r=r.insert(s[c].key,i[c].version);return new cw(e,t,i,r)}}class Ay{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Jc{constructor(e,t,i,r,s=tn.min(),c=tn.min(),h=Qr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h}withSequenceNumber(e){return new Jc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Jc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Jc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class uw{constructor(e){this.Jt=e}}function zD(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:xy(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Hm(r=n.Jt,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:Kc(r,s.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Hf(e.version)};else{if(!e.isUnknownDocument())return Mt();i.unknownDocument={path:t.path.toArray(),version:Hf(e.version)}}var r,s;return i}function xy(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Hf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Zu(n){const e=new wn(n.seconds,n.nanoseconds);return tn.fromTimestamp(e)}function $m(n,e){const t=(e.baseMutations||[]).map(s=>Cy(n.Jt,s));for(let s=0;s<e.mutations.length-1;++s){const c=e.mutations[s];s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(c.updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s)}const i=e.mutations.map(s=>Cy(n.Jt,s)),r=wn.fromMillis(e.localWriteTimeMs);return new Sy(e.batchId,r,t,i)}function My(n){const e=Zu(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Zu(n.lastLimboFreeSnapshotVersion):tn.min();let i;var r;return void 0!==n.query.documents?(rn(1===(r=n.query).documents.length),i=Ba(Rf(Yb(r.documents[0])))):i=Ba(OD(n.query)),new Jc(i,n.targetId,0,n.lastListenSequenceNumber,e,t,Qr.fromBase64String(n.resumeToken))}function FM(n,e){const t=Hf(e.snapshotVersion),i=Hf(e.lastLimboFreeSnapshotVersion);let r;r=uy(e.target)?Ey(n.Jt,e.target):RD(n.Jt,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Wd(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function dw(n){const e=OD({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?my(e,e.limit,"L"):e}function hw(n,e){return new Ay(e.largestBatchId,Cy(n.Jt,e.overlayMutation))}function LM(n,e){const t=e.path.lastSegment();return[n,Ws(e.path.popLast()),t]}class VM{getBundleMetadata(e,t){return BM(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Zu(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return BM(e).put({bundleId:(i=t).id,createTime:Hf(us(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return qm(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:dw(r.bundledQuery),readTime:Zu(r.readTime)};var r})}saveNamedQuery(e,t){return qm(e).put({name:(i=t).name,readTime:Hf(us(i.readTime)),bundledQuery:i.bundledQuery});var i}}function BM(n){return ds(n,"bundles")}function qm(n){return ds(n,"namedQueries")}class WD{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new WD(e,t.uid||"")}getOverlay(e,t){return jf(e).get(LM(this.userId,t)).next(i=>i?hw(this.M,i):null)}saveOverlays(e,t,i){const r=[];return i.forEach((s,c)=>{const h=new Ay(t,c);r.push(this.Xt(e,h))}),Ne.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(c=>r.add(Ws(c.getCollectionPath())));const s=[];return r.forEach(c=>{const h=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);s.push(jf(e).Qt("collectionPathOverlayIndex",h))}),Ne.waitFor(s)}getOverlaysForCollection(e,t,i){const r=Lf(),s=Ws(t),c=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return jf(e).qt("collectionPathOverlayIndex",c).next(h=>{for(const p of h){const _=hw(this.M,p);r.set(_.getKey(),_)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const s=Lf();let c;const h=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return jf(e).Wt({index:"collectionGroupOverlayIndex",range:h},(p,_,E)=>{const S=hw(this.M,_);s.size()<r||S.largestBatchId===c?(s.set(S.getKey(),S),c=S.largestBatchId):E.done()}).next(()=>s)}Xt(e,t){return jf(e).put(function(i,r,s){const[c,h,p]=LM(r,s.mutation.key);return{userId:r,collectionPath:h,documentId:p,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:nh(i.Jt,s.mutation)}}(this.M,this.userId,t))}}function jf(n){return ds(n,"documentOverlays")}class Xc{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(or(e.integerValue));else if("doubleValue"in e){const i=or(e.doubleValue);isNaN(i)?this.ne(t,13):(this.ne(t,15),zc(i)?t.se(0):t.se(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ne(t,20),"string"==typeof i?t.ie(i):(t.ie(`${i.seconds||""}`),t.se(i.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(zd(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?Lb(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Mt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const i=e.fields||{};this.ne(t,55);for(const r of Object.keys(i))this.re(r,t),this.te(i[r],t)}he(e,t){const i=e.values||[];this.ne(t,50);for(const r of i)this.te(r,t)}ae(e,t){this.ne(t,37),dt.fromName(e).path.forEach(i=>{this.ne(t,60),this.le(i,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function ZD(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function fw(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const s=ZD(255&t[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(e/8)}Xc.fe=new Xc;class GN{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this._e(i.value),i=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.ge(i.value),i=t.next();this.ye()}pe(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(t<"\ud800"||"\udbff"<t)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{const r=t.codePointAt(0);this._e(240|r>>>18),this._e(128|63&r>>>12),this._e(128|63&r>>>6),this._e(128|63&r)}}this.we()}Ie(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{const r=t.codePointAt(0);this.ge(240|r>>>18),this.ge(128|63&r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r)}}this.ye()}Te(e){const t=this.Ee(e),i=fw(t);this.Ae(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Re(e){const t=this.Ee(e),i=fw(t);this.Ae(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}_e(e){const t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class pw{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.Pe()}}class YD{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class zm{constructor(){this.De=new GN,this.Ce=new pw(this.De),this.xe=new YD(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class eu{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new eu(this.indexId,this.documentKey,this.arrayValue,i)}}function Gf(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=KD(n.arrayValue,e.arrayValue),0!==t?t:(t=KD(n.directionalValue,e.directionalValue),0!==t?t:dt.comparator(n.documentKey,e.documentKey)))}function KD(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class UM{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const i=t;i.S()?this.Fe=i:this.Oe.push(i)}}$e(e){const t=Vb(e);if(void 0!==t&&!this.Be(t))return!1;const i=Va(e);let r=0,s=0;for(;r<i.length&&this.Be(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Fe){const c=i[r];if(!this.Le(this.Fe,c)||!this.Ue(this.Me[s++],c))return!1;++r}for(;r<i.length;++r){const c=i[r];if(s>=this.Me.length||!this.Ue(this.Me[s++],c))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class mw{constructor(){this.qe=new gw}addToCollectionParentIndex(e,t){return this.qe.add(t),Ne.resolve()}getCollectionParents(e,t){return Ne.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return Ne.resolve()}deleteFieldIndex(e,t){return Ne.resolve()}getDocumentsMatchingTarget(e,t){return Ne.resolve(null)}getFieldIndex(e,t){return Ne.resolve(null)}getFieldIndexes(e,t){return Ne.resolve([])}getNextCollectionGroupToUpdate(e){return Ne.resolve(null)}updateCollectionGroup(e,t,i){return Ne.resolve()}updateIndexEntries(e,t){return Ne.resolve()}}class gw{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Fi($n.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Fi($n.comparator)).toArray()}}const Wm=new Uint8Array(0);class $N{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new gw,this.Ge=new zu(i=>Wd(i),(i,r)=>kf(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const s={collectionId:i,parent:Ws(r)};return HM(e).put(s)}return Ne.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[bm(t),""],!1,!0);return HM(e).qt(r).next(s=>{for(const c of s){if(c.collectionId!==t)break;i.push(dl(c.parent))}return i})}addFieldIndex(e,t){const i=ky(e),r={indexId:(s=t).indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var s;return delete r.indexId,i.add(r).next()}deleteFieldIndex(e,t){const i=ky(e),r=Ry(e),s=Zm(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=Zm(e);let r=!0;const s=new Map;return Ne.forEach(this.Qe(t),c=>this.getFieldIndex(e,c).next(h=>{r&&(r=!!h),s.set(c,h)})).next(()=>{if(r){let c=ai();const h=[];return Ne.forEach(s,(p,_)=>{var E;tt("IndexedDbIndexManager",`Using index ${E=p,`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(yt=>`${yt.fieldPath}:${yt.kind}`).join(",")}`} to execute ${Wd(t)}`);const S=function(yt,ht){const Xt=Vb(ht);if(void 0===Xt)return null;for(const ln of dy(yt,Xt.fieldPath))switch(ln.op){case"array-contains-any":return ln.value.arrayValue.values||[];case"array-contains":return[ln.value]}return null}(_,p),N=function(yt,ht){const Xt=new Map;for(const ln of Va(ht))for(const Wn of dy(yt,ln.fieldPath))switch(Wn.op){case"==":case"in":Xt.set(ln.fieldPath.canonicalString(),Wn.value);break;case"not-in":case"!=":return Xt.set(ln.fieldPath.canonicalString(),Wn.value),Array.from(Xt.values())}return null}(_,p),j=function(yt,ht){const Xt=[];let ln=!0;for(const Wn of Va(ht)){const Tr=0===Wn.kind?uD(yt,Wn.fieldPath,yt.startAt):hy(yt,Wn.fieldPath,yt.startAt);if(!Tr.value)return null;Xt.push(Tr.value),ln&&(ln=Tr.inclusive)}return new $u(Xt,ln)}(_,p),z=function(yt,ht){const Xt=[];let ln=!0;for(const Wn of Va(ht)){const Tr=0===Wn.kind?hy(yt,Wn.fieldPath,yt.endAt):uD(yt,Wn.fieldPath,yt.endAt);if(!Tr.value)return null;Xt.push(Tr.value),ln&&(ln=Tr.inclusive)}return new $u(Xt,ln)}(_,p),le=this.je(p,_,j),we=this.je(p,_,z),pt=this.We(p,_,N),_t=this.ze(p.indexId,S,le,!!j&&j.inclusive,we,!!z&&z.inclusive,pt);return Ne.forEach(_t,yt=>i.Gt(yt,t.limit).next(ht=>{ht.forEach(Xt=>{const ln=dt.fromSegments(Xt.documentKey);c.has(ln)||(c=c.add(ln),h.push(ln))})}))}).next(()=>h)}return Ne.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}ze(e,t,i,r,s,c,h){const p=(null!=t?t.length:1)*Math.max(null!=i?i.length:1,null!=s?s.length:1),_=p/(null!=t?t.length:1),E=[];for(let S=0;S<p;++S){const N=t?this.He(t[S/_]):Wm,j=i?this.Je(e,N,i[S%_],r):this.Ye(e),z=s?this.Xe(e,N,s[S%_],c):this.Ye(e+1);E.push(...this.createRange(j,z,h.map(le=>this.Je(e,N,le,!0))))}return E}Je(e,t,i,r){const s=new eu(e,dt.empty(),t,i);return r?s:s.ke()}Xe(e,t,i,r){const s=new eu(e,dt.empty(),t,i);return r?s.ke():s}Ye(e){return new eu(e,dt.empty(),Wm,Wm)}getFieldIndex(e,t){const i=new UM(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{const c=s.filter(h=>i.$e(h));return c.sort((h,p)=>p.fields.length-h.fields.length),c.length>0?c[0]:null})}Ze(e,t){const i=new zm;for(const r of Va(e)){const s=t.data.field(r.fieldPath);if(null==s)return null;const c=i.Ne(r.kind);Xc.fe.Zt(s,c)}return i.Se()}He(e){const t=new zm;return Xc.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const i=new zm;return Xc.fe.Zt(xf(this.databaseId,t),i.Ne(function(r){const s=Va(r);return 0===s.length?0:s[s.length-1].kind}(e))),i.Se()}We(e,t,i){if(null===i)return[];let r=[];r.push(new zm);let s=0;for(const c of Va(e)){const h=i[s++];for(const p of r)if(this.en(t,c.fieldPath)&&sy(h))r=this.nn(r,c,h);else{const _=p.Ne(c.kind);Xc.fe.Zt(h,_)}}return this.sn(r)}je(e,t,i){return null==i?null:this.We(e,t,i.position)}sn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Se();return t}nn(e,t,i){const r=[...e],s=[];for(const c of i.arrayValue.values||[])for(const h of r){const p=new zm;p.seed(h.Se()),Xc.fe.Zt(c,p.Ne(t.kind)),s.push(p)}return s}en(e,t){return!!e.filters.find(i=>i instanceof Ss&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=ky(e),r=Ry(e);return(t?i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.qt()).next(s=>{const c=[];return Ne.forEach(s,h=>r.get([h.indexId,this.uid]).next(p=>{c.push(function(_,E){const S=E?new Mf(E.sequenceNumber,new Zc(Zu(E.readTime),new dt(dl(E.documentKey)),E.largestBatchId)):Mf.empty(),N=_.fields.map(([j,z])=>new ly(Kr.fromServerFormat(j),z));return new ay(_.indexId,_.collectionGroup,N,S)}(h,p))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:bn(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=ky(e),s=Ry(e);return this.rn(e).next(c=>r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>Ne.forEach(h,p=>{return s.put({indexId:p.indexId,uid:this.user.uid||"",sequenceNumber:c,readTime:Hf((N=i).readTime),documentKey:Ws(N.documentKey.path),largestBatchId:N.largestBatchId});var N})))}updateIndexEntries(e,t){const i=new Map;return Ne.forEach(t,(r,s)=>{const c=i.get(r.collectionGroup);return(c?Ne.resolve(c):this.getFieldIndexes(e,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),Ne.forEach(h,p=>this.on(e,r,p).next(_=>{const E=this.un(s,p);return _.isEqual(E)?Ne.resolve():this.an(e,s,p,_,E)}))))})}cn(e,t,i,r){return Zm(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(i,t.key),documentKey:t.key.path.toArray()})}hn(e,t,i,r){return Zm(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(i,t.key),t.key.path.toArray()])}on(e,t,i){const r=Zm(e);let s=new Fi(Gf);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.tn(i,t)])},(c,h)=>{s=s.add(new eu(i.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>s)}un(e,t){let i=new Fi(Gf);const r=this.Ze(t,e);if(null==r)return i;const s=Vb(t);if(null!=s){const c=e.data.field(s.fieldPath);if(sy(c))for(const h of c.arrayValue.values||[])i=i.add(new eu(t.indexId,e.key,this.He(h),r))}else i=i.add(new eu(t.indexId,e.key,Wm,r));return i}an(e,t,i,r,s){tt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(h,p,_,E,S){const N=h.getIterator(),j=p.getIterator();let z=Ff(N),le=Ff(j);for(;z||le;){let we=!1,pt=!1;if(z&&le){const _t=_(z,le);_t<0?pt=!0:_t>0&&(we=!0)}else null!=z?pt=!0:we=!0;we?(E(le),le=Ff(j)):pt?(S(z),z=Ff(N)):(z=Ff(N),le=Ff(j))}}(r,s,Gf,h=>{c.push(this.cn(e,t,i,h))},h=>{c.push(this.hn(e,t,i,h))}),Ne.waitFor(c)}rn(e){let t=1;return Ry(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((c,h)=>Gf(c,h)).filter((c,h,p)=>!h||0!==Gf(c,p[h-1]));const r=[];r.push(e);for(const c of i){const h=Gf(c,e),p=Gf(c,t);if(0===h)r[0]=e.ke();else if(h>0&&p<0)r.push(c),r.push(c.ke());else if(p>0)break}r.push(t);const s=[];for(let c=0;c<r.length;c+=2)s.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,Wm,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,Wm,[]]));return s}}function HM(n){return ds(n,"collectionParents")}function Zm(n){return ds(n,"indexEntries")}function ky(n){return ds(n,"indexConfiguration")}function Ry(n){return ds(n,"indexState")}const jM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Vo{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Vo(e,Vo.DEFAULT_COLLECTION_PERCENTILE,Vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Oy(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],c=IDBKeyRange.only(t.batchId);let h=0;const p=i.Wt({range:c},(E,S,N)=>(h++,N.delete()));s.push(p.next(()=>{rn(1===h)}));const _=[];for(const E of t.mutations){const S=VD(e,E.key.path,t.batchId);s.push(r.delete(S)),_.push(E.key)}return Ne.waitFor(s).next(()=>_)}function Ny(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Mt();e=n.noDocument}return JSON.stringify(e).length}Vo.DEFAULT_COLLECTION_PERCENTILE=10,Vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vo.DEFAULT=new Vo(41943040,Vo.DEFAULT_COLLECTION_PERCENTILE,Vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vo.DISABLED=new Vo(-1,0,0);class ha{constructor(e,t,i,r){this.userId=e,this.M=t,this.indexManager=i,this.referenceDelegate=r,this.ln={}}static Yt(e,t,i,r){rn(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new ha(s,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ec(e).Wt({index:"userMutationsIndex",range:i},(r,s,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const s=$f(e),c=ec(e);return c.add({}).next(h=>{rn("number"==typeof h);const p=new Sy(h,t,i,r),_=function(N,j,z){const le=z.baseMutations.map(pt=>nh(N.Jt,pt)),we=z.mutations.map(pt=>nh(N.Jt,pt));return{userId:j,batchId:z.batchId,localWriteTimeMs:z.localWriteTime.toMillis(),baseMutations:le,mutations:we}}(this.M,this.userId,p),E=[];let S=new Fi((N,j)=>bn(N.canonicalString(),j.canonicalString()));for(const N of r){const j=VD(this.userId,N.key.path,h);S=S.add(N.key.path.popLast()),E.push(c.put(_)),E.push(s.put(j,xM))}return S.forEach(N=>{E.push(this.indexManager.addToCollectionParentIndex(e,N))}),e.addOnCommittedListener(()=>{this.ln[h]=p.keys()}),Ne.waitFor(E).next(()=>p)})}lookupMutationBatch(e,t){return ec(e).get(t).next(i=>i?(rn(i.userId===this.userId),$m(this.M,i)):null)}fn(e,t){return this.ln[t]?Ne.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.ln[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return ec(e).Wt({index:"userMutationsIndex",range:r},(c,h,p)=>{h.userId===this.userId&&(rn(h.batchId>=i),s=$m(this.M,h)),p.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return ec(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(r,s,c)=>{i=s.batchId,c.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ec(e).qt("userMutationsIndex",t).next(i=>i.map(r=>$m(this.M,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=Qc(this.userId,t.path),r=IDBKeyRange.lowerBound(i),s=[];return $f(e).Wt({range:r},(c,h,p)=>{const[_,E,S]=c,N=dl(E);if(_===this.userId&&t.path.isEqual(N))return ec(e).get(S).next(j=>{if(!j)throw Mt();rn(j.userId===this.userId),s.push($m(this.M,j))});p.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Fi(bn);const r=[];return t.forEach(s=>{const c=Qc(this.userId,s.path),h=IDBKeyRange.lowerBound(c),p=$f(e).Wt({range:h},(_,E,S)=>{const[N,j,z]=_,le=dl(j);N===this.userId&&s.path.isEqual(le)?i=i.add(z):S.done()});r.push(p)}),Ne.waitFor(r).next(()=>this.dn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,s=Qc(this.userId,i),c=IDBKeyRange.lowerBound(s);let h=new Fi(bn);return $f(e).Wt({range:c},(p,_,E)=>{const[S,N,j]=p,z=dl(N);S===this.userId&&i.isPrefixOf(z)?z.length===r&&(h=h.add(j)):E.done()}).next(()=>this.dn(e,h))}dn(e,t){const i=[],r=[];return t.forEach(s=>{r.push(ec(e).get(s).next(c=>{if(null===c)throw Mt();rn(c.userId===this.userId),i.push($m(this.M,c))}))}),Ne.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return Oy(e.Ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),Ne.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ne.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return $f(e).Wt({range:i},(s,c,h)=>{if(s[0]===this.userId){const p=dl(s[1]);r.push(p)}else h.done()}).next(()=>{rn(0===r.length)})})}containsKey(e,t){return QD(e,this.userId,t)}wn(e){return JD(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function QD(n,e,t){const i=Qc(e,t.path),r=i[1],s=IDBKeyRange.lowerBound(i);let c=!1;return $f(n).Wt({range:s,jt:!0},(h,p,_)=>{const[E,S,N]=h;E===e&&S===r&&(c=!0),_.done()}).next(()=>c)}function ec(n){return ds(n,"mutations")}function $f(n){return ds(n,"documentMutations")}function JD(n){return ds(n,"mutationQueues")}class tu{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new tu(0)}static yn(){return new tu(-1)}}class XD{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const i=new tu(t.highestTargetId);return t.highestTargetId=i.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>tn.fromTimestamp(new wn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.pn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.In(e,r)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(i=>(i.targetCount+=1,this.En(t,i),this.In(e,i))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>oh(e).delete(t.targetId)).next(()=>this.pn(e)).next(i=>(rn(i.targetCount>0),i.targetCount-=1,this.In(e,i)))}removeTargets(e,t,i){let r=0;const s=[];return oh(e).Wt((c,h)=>{const p=My(h);p.sequenceNumber<=t&&null===i.get(p.targetId)&&(r++,s.push(this.removeTargetData(e,p)))}).next(()=>Ne.waitFor(s)).next(()=>r)}forEachTarget(e,t){return oh(e).Wt((i,r)=>{const s=My(r);t(s)})}pn(e){return eI(e).get("targetGlobalKey").next(t=>(rn(null!==t),t))}In(e,t){return eI(e).put("targetGlobalKey",t)}Tn(e,t){return oh(e).put(FM(this.M,t))}En(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Wd(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return oh(e).Wt({range:r,index:"queryTargetsIndex"},(c,h,p)=>{const _=My(h);kf(t,_.target)&&(s=_,p.done())}).next(()=>s)}addMatchingKeys(e,t,i){const r=[],s=nu(e);return t.forEach(c=>{const h=Ws(c.path);r.push(s.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(e,i,c))}),Ne.waitFor(r)}removeMatchingKeys(e,t,i){const r=nu(e);return Ne.forEach(t,s=>{const c=Ws(s.path);return Ne.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){const i=nu(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=nu(e);let s=ai();return r.Wt({range:i,jt:!0},(c,h,p)=>{const _=dl(c[1]),E=new dt(_);s=s.add(E)}).next(()=>s)}containsKey(e,t){const i=Ws(t.path),r=IDBKeyRange.bound([i],[bm(i)],!1,!0);let s=0;return nu(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},([c,h],p,_)=>{0!==c&&(s++,_.done())}).next(()=>s>0)}Et(e,t){return oh(e).get(t).next(i=>i?My(i):null)}}function oh(n){return ds(n,"targets")}function eI(n){return ds(n,"targetGlobal")}function nu(n){return ds(n,"targetDocuments")}function ah(n){return _w.apply(this,arguments)}function _w(){return _w=(0,Fe.Z)(function*(n){if(n.code!==De.FAILED_PRECONDITION||n.message!==aw)throw n;tt("LocalStore","Unexpectedly lost primary lease")}),_w.apply(this,arguments)}function tI([n,e],[t,i]){const r=bn(n,t);return 0===r?bn(e,i):r}class yw{constructor(e){this.An=e,this.buffer=new Fi(tI),this.Rn=0}Pn(){return++this.Rn}bn(e){const t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();tI(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class hl{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const i=this.Vn?3e5:6e4;tt("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,Fe.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(r){Wu(r)?tt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield ah(r)}yield t.Sn(e)}))}}class GM{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return Ne.resolve(da.A);const i=new yw(t);return this.Dn.forEachTarget(e,r=>i.bn(r.sequenceNumber)).next(()=>this.Dn.xn(e,r=>i.bn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Dn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(tt("LruGarbageCollector","Garbage collection skipped; disabled"),Ne.resolve(jM)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(tt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jM):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let i,r,s,c,h,p,_;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(tt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),r=this.params.maximumSequenceNumbersToCollect):r=S,c=Date.now(),this.nthSequenceNumber(e,r))).next(S=>(i=S,h=Date.now(),this.removeTargets(e,i,t))).next(S=>(s=S,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(S=>(_=Date.now(),iy()<=Gr.in.DEBUG&&tt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-E}ms\n\tDetermined least recently used ${r} in `+(h-c)+`ms\n\tRemoved ${s} targets in `+(p-h)+`ms\n\tRemoved ${S} documents in `+(_-p)+`ms\nTotal Duration: ${_-E}ms`),Ne.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:S})))}}class qN{constructor(e,t){this.db=e,this.garbageCollector=new GM(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}kn(e){let t=0;return this.xn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(i,r)=>t(r))}addReference(e,t,i){return Py(e,i)}removeReference(e,t,i){return Py(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return Py(e,t)}On(e,t){return function(i,r){let s=!1;return JD(i).zt(c=>QD(i,c,r).next(h=>(h&&(s=!0),Ne.resolve(!h)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Mn(e,(c,h)=>{if(h<=t){const p=this.On(e,c).next(_=>{if(!_)return s++,i.getEntry(e,c).next(()=>(i.removeEntry(c,tn.min()),nu(e).delete([0,Ws(c.path)])))});r.push(p)}}).next(()=>Ne.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return Py(e,t)}Mn(e,t){const i=nu(e);let r,s=da.A;return i.Wt({index:"documentTargetsIndex"},([c,h],{path:p,sequenceNumber:_})=>{0===c?(s!==da.A&&t(new dt(dl(r)),s),s=_,r=p):s=da.A}).next(()=>{s!==da.A&&t(new dt(dl(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Py(n,e){return nu(n).put((i=n.currentSequenceNumber,{targetId:0,path:Ws(e.path),sequenceNumber:i}));var i}class vw{constructor(){this.changes=new zu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ai.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?Ne.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $M{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return lh(e).put(i)}removeEntry(e,t,i){return lh(e).delete(function(r,s){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],xy(s),c[c.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Fn(e,i)))}getEntry(e,t){let i=Ai.newInvalidDocument(t);return lh(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Fy(t))},(r,s)=>{i=this.$n(t,s)}).next(()=>i)}Bn(e,t){let i={size:0,document:Ai.newInvalidDocument(t)};return lh(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Fy(t))},(r,s)=>{i={document:this.$n(t,s),size:Ny(s)}}).next(()=>i)}getEntries(e,t){let i=Ha();return this.Ln(e,t,(r,s)=>{const c=this.$n(r,s);i=i.insert(r,c)}).next(()=>i)}Un(e,t){let i=Ha(),r=new ar(dt.comparator);return this.Ln(e,t,(s,c)=>{const h=this.$n(s,c);i=i.insert(s,h),r=r.insert(s,Ny(c))}).next(()=>({documents:i,qn:r}))}Ln(e,t,i){if(t.isEmpty())return Ne.resolve();let r=new Fi(nI);t.forEach(p=>r=r.add(p));const s=IDBKeyRange.bound(Fy(r.first()),Fy(r.last())),c=r.getIterator();let h=c.getNext();return lh(e).Wt({index:"documentKeyIndex",range:s},(p,_,E)=>{const S=dt.fromSegments([..._.prefixPath,_.collectionGroup,_.documentId]);for(;h&&nI(h,S)<0;)i(h,null),h=c.getNext();h&&h.isEqual(S)&&(i(h,_),h=c.hasNext()?c.getNext():null),h?E.Ut(Fy(h)):E.done()}).next(()=>{for(;h;)i(h,null),h=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),xy(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],s=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return lh(e).qt(IDBKeyRange.bound(r,s,!0)).next(c=>{let h=Ha();for(const p of c){const _=this.$n(dt.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);h=h.insert(_.key,_)}return h})}getAllFromCollectionGroup(e,t,i,r){let s=Ha();const c=ww(t,i),h=ww(t,Zc.max());return lh(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,h,!0)},(p,_,E)=>{const S=this.$n(dt.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);s=s.insert(S.key,S),s.size===r&&E.done()}).next(()=>s)}newChangeBuffer(e){return new qM(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return bw(e).get("remoteDocumentGlobalKey").next(t=>(rn(!!t),t))}Fn(e,t){return bw(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const i=function qD(n,e){let t;if(e.document)t=kD(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=dt.fromSegments(e.noDocument.path),r=Zu(e.noDocument.readTime);t=Ai.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Mt();{const i=dt.fromSegments(e.unknownDocument.path),r=Zu(e.unknownDocument.version);t=Ai.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new wn(i[0],i[1]);return tn.fromTimestamp(r)}(e.readTime)),t}(this.M,t);if(!i.isNoDocument()||!i.version.isEqual(tn.min()))return i}return Ai.newInvalidDocument(e)}}class qM extends vw{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new zu(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new Fi((s,c)=>bn(s.canonicalString(),c.canonicalString()));return this.changes.forEach((s,c)=>{const h=this.Gn.get(s);if(t.push(this.Kn.removeEntry(e,s,h.readTime)),c.isValidDocument()){const p=zD(this.Kn.M,c);r=r.add(s.path.popLast()),i+=Ny(p)-h.size,t.push(this.Kn.addEntry(e,s,p))}else if(i-=h.size,this.trackRemovals){const p=zD(this.Kn.M,c.convertToNoDocument(tn.min()));t.push(this.Kn.addEntry(e,s,p))}}),r.forEach(s=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.Kn.updateMetadata(e,i)),Ne.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(i=>(this.Gn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:i,qn:r})=>(r.forEach((s,c)=>{this.Gn.set(s,{size:c,readTime:i.get(s).readTime})}),i))}}function bw(n){return ds(n,"remoteDocumentGlobal")}function lh(n){return ds(n,"remoteDocumentsV14")}function Fy(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function ww(n,e){const t=e.documentKey.path.toArray();return[n,xy(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function nI(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let s=0;s<t.length-2&&s<i.length-2;++s)if(r=bn(t[s],i[s]),r)return r;return r=bn(t.length,i.length),r||(r=bn(t[t.length-2],i[i.length-2]),r||bn(t[t.length-1],i[i.length-1]))}class zM{constructor(e){this.M=e}kt(e,t,i,r){const s=new Uf("createOrUpgrade",t);var h;i<1&&r>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Zs,{unique:!0}),h.createObjectStore("documentMutations"),iI(e),function(h){h.createObjectStore("remoteDocuments")}(e));let c=Ne.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),iI(e)),c=c.next(()=>function(h){const p=h.store("targetGlobal"),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:tn.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",_)}(s))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(h,p){return p.store("mutations").qt().next(_=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Zs,{unique:!0});const E=p.store("mutations"),S=_.map(N=>E.put(N));return Ne.waitFor(S)})}(e,s))),c=c.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(c=c.next(()=>this.Qn(s))),i<6&&r>=6&&(c=c.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.jn(s)))),i<7&&r>=7&&(c=c.next(()=>this.Wn(s))),i<8&&r>=8&&(c=c.next(()=>this.zn(e,s))),i<9&&r>=9&&(c=c.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(c=c.next(()=>this.Hn(s))),i<11&&r>=11&&(c=c.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(c=c.next(()=>{!function(h){const p=h.createObjectStore("documentOverlays",{keyPath:Ty});p.createIndex("collectionPathOverlayIndex",rw,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",jN,{unique:!1})}(e)})),i<13&&r>=13&&(c=c.next(()=>function(h){const p=h.createObjectStore("remoteDocumentsV14",{keyPath:HN});p.createIndex("documentKeyIndex",jm),p.createIndex("collectionGroupIndex",MM)}(e)).next(()=>this.Jn(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>{!function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:OM}).createIndex("sequenceNumberIndex",iw,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:UD}).createIndex("documentKeyIndex",HD,{unique:!1})}(e)})),c}jn(e){let t=0;return e.store("remoteDocuments").Wt((i,r)=>{t+=Ny(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Qn(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.qt().next(r=>Ne.forEach(r,s=>{const c=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.qt("userMutationsIndex",c).next(h=>Ne.forEach(h,p=>{rn(p.userId===s.userId);const _=$m(this.M,p);return Oy(e,s.userId,_).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.Wt((c,h)=>{const p=new $n(c),_=[0,Ws(p)];s.push(t.get(_).next(E=>E?Ne.resolve():t.put({targetId:0,path:Ws(p),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Ne.waitFor(s))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:RM});const i=t.store("collectionParents"),r=new gw,s=c=>{if(r.add(c)){const h=c.lastSegment(),p=c.popLast();return i.put({collectionId:h,parent:Ws(p)})}};return t.store("remoteDocuments").Wt({jt:!0},(c,h)=>{const p=new $n(c);return s(p.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([c,h,p],_)=>{const E=dl(h);return s(E.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((i,r)=>{const s=My(r),c=FM(this.M,s);return t.put(c)})}Jn(e,t){const i=t.store("remoteDocuments"),r=[];return i.Wt((s,c)=>{const h=t.store("remoteDocumentsV14"),p=(_=c,_.document?new dt($n.fromString(_.document.name).popFirst(5)):_.noDocument?dt.fromSegments(_.noDocument.path):_.unknownDocument?dt.fromSegments(_.unknownDocument.path):Mt()).path.toArray();var _;const E={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(h.put(E))}).next(()=>Ne.waitFor(r))}}function iI(n){n.createObjectStore("targetDocuments",{keyPath:kM}).createIndex("documentTargetsIndex",BD,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",nw,{unique:!0}),n.createObjectStore("targetGlobal")}const Ly="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Ym{constructor(e,t,i,r,s,c,h,p,_,E,S=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Yn=s,this.window=c,this.document=h,this.Xn=_,this.Zn=E,this.ts=S,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=N=>Promise.resolve(),!Ym.vt())throw new ze(De.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new qN(this,r),this.hs=t+"main",this.M=new uw(p),this.ls=new Xl(this.hs,this.ts,new zM(this.M)),this.fs=new XD(this.referenceDelegate,this.M),this.ds=new $M(this.M),this._s=new VM,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===E&&vr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ze(De.FAILED_PRECONDITION,Ly);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new da(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var i=(0,Fe.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,Fe.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,Fe.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Km(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.Ps(e).next(()=>!0))).catch(e=>{if(Wu(e))return tt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return tt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return ch(e).get("owner").next(t=>Ne.resolve(this.bs(t)))}Vs(e){return Km(e).delete(this.clientId)}vs(){var e=this;return(0,Fe.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=ds(i,"clientMetadata");return r.qt().next(s=>{const c=e.Ds(s,18e5),h=s.filter(p=>-1===c.indexOf(p));return Ne.forEach(h,p=>r.delete(p.clientId)).next(()=>h)})}).catch(()=>[]);if(e.ws)for(const i of t)e.ws.removeItem(e.Cs(i.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?Ne.resolve(!0):ch(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new ze(De.FAILED_PRECONDITION,Ly);return!1}}return!(!this.networkEnabled||!this.inForeground)||Km(e).qt().next(i=>void 0===this.Ds(i,5e3).find(r=>{if(this.clientId!==r.clientId){const c=!this.inForeground&&r.inForeground,h=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||c&&h)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&tt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Fe.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new $D(t,da.A);return e.Rs(i).next(()=>e.Vs(i))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(i=>this.Ss(i.updateTimeMs,t)&&!this.xs(i.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>Km(e).qt().next(t=>this.Ds(t,18e5).map(i=>i.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return ha.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new $N(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return WD.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,i){tt("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",s=14===(c=this.ts)?Dy:13===c?ow:12===c?NM:11===c?sw:void Mt();var c;let h;return this.ls.runTransaction(e,r,s,p=>(h=new $D(p,this.es?this.es.next():da.A),"readwrite-primary"===t?this.Es(h).next(_=>!!_||this.As(h)).next(_=>{if(!_)throw vr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new ze(De.FAILED_PRECONDITION,aw);return i(h)}).next(_=>this.Ps(h).next(()=>_)):this.$s(h).next(()=>i(h)))).then(p=>(h.raiseOnCommittedEvent(),p))}$s(e){return ch(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.bs(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ze(De.FAILED_PRECONDITION,Ly)})}Ps(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ch(e).put("owner",t)}static vt(){return Xl.vt()}Rs(e){const t=ch(e);return t.get("owner").next(i=>this.bs(i)?(tt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ne.resolve())}Ss(e,t){const i=Date.now();return!(e<i-t||e>i&&(vr(`Detected an update time that is in the future: ${e} > ${i}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,H.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const i=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return tt("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return vr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){vr("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ch(n){return ds(n,"owner")}function Km(n){return ds(n,"clientMetadata")}function Cw(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class rI{constructor(e,t,i){this.ds=e,this.Bs=t,this.indexManager=i}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(i=>this.Us(e,t,i))}Us(e,t,i){return this.ds.getEntry(e,t).next(r=>{for(const s of i)s.applyToLocalView(r);return r})}qs(e,t){e.forEach((i,r)=>{for(const s of t)s.applyToLocalView(r)})}Ks(e,t){return this.ds.getEntries(e,t).next(i=>this.Gs(e,i).next(()=>i))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(i=>this.qs(t,i))}Qs(e,t,i){return dt.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.js(e,t.path):Sm(t)?this.Ws(e,t,i):this.zs(e,t,i);var r}js(e,t){return this.Ls(e,new dt(t)).next(i=>{let r=eh();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}Ws(e,t,i){const r=t.collectionGroup;let s=eh();return this.indexManager.getCollectionParents(e,r).next(c=>Ne.forEach(c,h=>{const p=(_=t,E=h.child(r),new Kl(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,E;return this.zs(e,p,i).next(_=>{_.forEach((E,S)=>{s=s.insert(E,S)})})}).next(()=>s))}zs(e,t,i){let r;return this.ds.getAllFromCollection(e,t.path,i).next(s=>(r=s,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(s=>{for(const c of s)for(const h of c.mutations){const p=h.key;let _=r.get(p);null==_&&(_=Ai.newInvalidDocument(p),r=r.insert(p,_)),Om(h,_,c.localWriteTime),_.isFoundDocument()||(r=r.remove(p))}}).next(()=>(r.forEach((s,c)=>{gy(t,c)||(r=r.remove(s))}),r))}}class Vy{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Hs=i,this.Js=r}static Ys(e,t){let i=ai(),r=ai();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Vy(e,t.fromCache,i,r)}}class sI{Xs(e){this.Zs=e}Qs(e,t,i,r){return 0===(s=t).filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())||i.isEqual(tn.min())?this.ti(e,t):this.Zs.Ks(e,r).next(s=>{const c=this.ei(t,s);return(fy(t)||Of(t))&&this.ni(t.limitType,c,r,i)?this.ti(e,t):(iy()<=Gr.in.DEBUG&&tt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ub(t)),this.Zs.Qs(e,t,oD(i,-1)).next(h=>(c.forEach(p=>{h=h.insert(p.key,p)}),h)))});var s}ei(e,t){let i=new Fi(Hb(e));return t.forEach((r,s)=>{gy(e,s)&&(i=i.add(s))}),i}ni(e,t,i,r){if(i.size!==t.size)return!0;const s="F"===e?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}ti(e,t){return iy()<=Gr.in.DEBUG&&tt("QueryEngine","Using full collection scan to execute query:",Ub(t)),this.Zs.Qs(e,t,Zc.min())}}class WM{constructor(e,t,i,r){this.persistence=e,this.si=t,this.M=r,this.ii=new ar(bn),this.ri=new zu(s=>Wd(s),kf),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(i)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new rI(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ii))}}function ZM(n,e,t,i){return new WM(n,e,t,i)}function YM(n,e){return By.apply(this,arguments)}function By(){return By=(0,Fe.Z)(function*(n,e){const t=mt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.Bs.getAllMutationBatches(i).next(s=>(r=s,t.ai(e),t.Bs.getAllMutationBatches(i))).next(s=>{const c=[],h=[];let p=ai();for(const _ of r){c.push(_.batchId);for(const E of _.mutations)p=p.add(E.key)}for(const _ of s){h.push(_.batchId);for(const E of _.mutations)p=p.add(E.key)}return t.ci.Ks(i,p).next(_=>({hi:_,removedBatchIds:c,addedBatchIds:h}))})})}),By.apply(this,arguments)}function KM(n,e){const t=mt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.ui.newChangeBuffer({trackRemovals:!0});return function(c,h,p,_){const E=p.batch,S=E.keys();let N=Ne.resolve();return S.forEach(j=>{N=N.next(()=>_.getEntry(h,j)).next(z=>{const le=p.docVersions.get(j);rn(null!==le),z.version.compareTo(le)<0&&(E.applyToRemoteDocument(z,p),z.isValidDocument()&&(z.setReadTime(p.commitVersion),_.addEntry(z)))})}),N.next(()=>c.Bs.removeMutationBatch(h,E))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.Bs.performConsistencyCheck(i)).next(()=>t.ci.Ks(i,r))})}function oI(n){const e=mt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function QM(n,e){const t=mt(n),i=e.snapshotVersion;let r=t.ii;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const c=t.ui.newChangeBuffer({trackRemovals:!0});r=t.ii;const h=[];e.targetChanges.forEach((_,E)=>{const S=r.get(E);if(!S)return;h.push(t.fs.removeMatchingKeys(s,_.removedDocuments,E).next(()=>t.fs.addMatchingKeys(s,_.addedDocuments,E)));let N=S.withSequenceNumber(s.currentSequenceNumber);var j,z,le;e.targetMismatches.has(E)?N=N.withResumeToken(Qr.EMPTY_BYTE_STRING,tn.min()).withLastLimboFreeSnapshotVersion(tn.min()):_.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(_.resumeToken,i)),r=r.insert(E,N),z=N,le=_,(0===(j=S).resumeToken.approximateByteSize()||z.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8||le.addedDocuments.size+le.modifiedDocuments.size+le.removedDocuments.size>0)&&h.push(t.fs.updateTargetData(s,N))});let p=Ha();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(s,_))}),h.push(JM(s,c,e.documentUpdates).next(_=>{p=_})),!i.isEqual(tn.min())){const _=t.fs.getLastRemoteSnapshotVersion(s).next(E=>t.fs.setTargetsMetadata(s,s.currentSequenceNumber,i));h.push(_)}return Ne.waitFor(h).next(()=>c.apply(s)).next(()=>t.ci.Gs(s,p)).next(()=>p)}).then(s=>(t.ii=r,s))}function JM(n,e,t){let i=ai();return t.forEach(r=>i=i.add(r)),e.getEntries(n,i).next(r=>{let s=Ha();return t.forEach((c,h)=>{const p=r.get(c);h.isNoDocument()&&h.version.isEqual(tn.min())?(e.removeEntry(c,h.readTime),s=s.insert(c,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||0===h.version.compareTo(p.version)&&p.hasPendingWrites?(e.addEntry(h),s=s.insert(c,h)):tt("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",h.version)}),s})}function zN(n,e){const t=mt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(i,e)))}function Qm(n,e){const t=mt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.fs.getTargetData(i,e).next(s=>s?(r=s,Ne.resolve(r)):t.fs.allocateTargetId(i).next(c=>(r=new Jc(e,c,0,i.currentSequenceNumber),t.fs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.ii.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ii=t.ii.insert(i.targetId,i),t.ri.set(e,i.targetId)),i})}function Jm(n,e,t){return aI.apply(this,arguments)}function aI(){return aI=(0,Fe.Z)(function*(n,e,t){const i=mt(n),r=i.ii.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!Wu(c))throw c;tt("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.ii=i.ii.remove(e),i.ri.delete(r.target)}),aI.apply(this,arguments)}function Uy(n,e,t){const i=mt(n);let r=tn.min(),s=ai();return i.persistence.runTransaction("Execute query","readonly",c=>function(h,p,_){const E=mt(h),S=E.ri.get(_);return void 0!==S?Ne.resolve(E.ii.get(S)):E.fs.getTargetData(p,_)}(i,c,Ba(e)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.fs.getMatchingKeysForTargetId(c,h.targetId).next(p=>{s=p})}).next(()=>i.si.Qs(c,e,t?r:tn.min(),t?s:ai())).next(h=>(cI(i,_D(e),h),{documents:h,li:s})))}function Xm(n,e){const t=mt(n),i=mt(t.fs),r=t.ii.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>i.Et(s,e).next(c=>c?c.target:null))}function lI(n,e){const t=mt(n),i=t.oi.get(e)||tn.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.ui.getAllFromCollectionGroup(r,e,oD(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(cI(t,e,r),r))}function cI(n,e,t){let i=tn.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.oi.set(e,i)}function iu(){return iu=(0,Fe.Z)(function*(n,e,t,i){const r=mt(n);let s=ai(),c=Ha();for(const _ of t){const E=e.fi(_.metadata.name);_.document&&(s=s.add(E));const S=e.di(_);S.setReadTime(e._i(_.metadata.readTime)),c=c.insert(E,S)}const h=r.ui.newChangeBuffer({trackRemovals:!0}),p=yield Qm(r,(_=i,Ba(Rf($n.fromString(`__bundle__/docs/${_}`)))));var _;return r.persistence.runTransaction("Apply bundle documents","readwrite",_=>JM(_,h,c).next(E=>(h.apply(_),E)).next(E=>r.fs.removeMatchingKeysForTargetId(_,p.targetId).next(()=>r.fs.addMatchingKeys(_,s,p.targetId)).next(()=>r.ci.Gs(_,E)).next(()=>E)))}),iu.apply(this,arguments)}function dI(n,e){return eg.apply(this,arguments)}function eg(){return eg=(0,Fe.Z)(function*(n,e,t=ai()){const i=yield Qm(n,Ba(dw(e.bundledQuery))),r=mt(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const c=us(e.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r._s.saveNamedQuery(s,e);const h=i.withResumeToken(Qr.EMPTY_BYTE_STRING,c);return r.ii=r.ii.insert(h.targetId,h),r.fs.updateTargetData(s,h).next(()=>r.fs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.fs.addMatchingKeys(s,t,i.targetId)).next(()=>r._s.saveNamedQuery(s,e))})}),eg.apply(this,arguments)}class Ew{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,t){return Ne.resolve(this.wi.get(t))}saveBundleMetadata(e,t){var i;return this.wi.set(t.id,{id:(i=t).id,version:i.version,createTime:us(i.createTime)}),Ne.resolve()}getNamedQuery(e,t){return Ne.resolve(this.mi.get(t))}saveNamedQuery(e,t){return this.mi.set(t.name,{name:(i=t).name,query:dw(i.bundledQuery),readTime:us(i.readTime)}),Ne.resolve();var i}}class XM{constructor(){this.overlays=new ar(dt.comparator),this.gi=new Map}getOverlay(e,t){return Ne.resolve(this.overlays.get(t))}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.Xt(e,t,s)}),Ne.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.gi.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.gi.delete(i)),Ne.resolve()}getOverlaysForCollection(e,t,i){const r=Lf(),s=t.length+1,c=new dt(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,_=p.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===s&&p.largestBatchId>i&&r.set(p.getKey(),p)}return Ne.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new ar((_,E)=>_-E);const c=this.overlays.getIterator();for(;c.hasNext();){const _=c.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>i){let E=s.get(_.largestBatchId);null===E&&(E=Lf(),s=s.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const h=Lf(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,E)=>h.set(_,E)),!(h.size()>=r)););return Ne.resolve(h)}Xt(e,t,i){if(null===i)return;const r=this.overlays.get(i.key);if(null!==r){const c=this.gi.get(r.largestBatchId).delete(i.key);this.gi.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new Ay(t,i));let s=this.gi.get(t);void 0===s&&(s=ai(),this.gi.set(t,s)),this.gi.set(t,s.add(i.key))}}class tg{constructor(){this.yi=new Fi(Pr.pi),this.Ii=new Fi(Pr.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,t){const i=new Pr(e,t);this.yi=this.yi.add(i),this.Ii=this.Ii.add(i)}Ei(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Ai(new Pr(e,t))}Ri(e,t){e.forEach(i=>this.removeReference(i,t))}Pi(e){const t=new dt(new $n([])),i=new Pr(t,e),r=new Pr(t,e+1),s=[];return this.Ii.forEachInRange([i,r],c=>{this.Ai(c),s.push(c.key)}),s}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const t=new dt(new $n([])),i=new Pr(t,e),r=new Pr(t,e+1);let s=ai();return this.Ii.forEachInRange([i,r],c=>{s=s.add(c.key)}),s}containsKey(e){const t=new Pr(e,0),i=this.yi.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Pr{constructor(e,t){this.key=e,this.vi=t}static pi(e,t){return dt.comparator(e.key,t.key)||bn(e.vi,t.vi)}static Ti(e,t){return bn(e.vi,t.vi)||dt.comparator(e.key,t.key)}}class Hy{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.Si=1,this.Di=new Fi(Pr.pi)}checkEmpty(e){return Ne.resolve(0===this.Bs.length)}addMutationBatch(e,t,i,r){const s=this.Si;this.Si++;const c=new Sy(s,t,i,r);this.Bs.push(c);for(const h of r)this.Di=this.Di.add(new Pr(h.key,s)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Ne.resolve(c)}lookupMutationBatch(e,t){return Ne.resolve(this.Ci(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.xi(t+1),s=r<0?0:r;return Ne.resolve(this.Bs.length>s?this.Bs[s]:null)}getHighestUnacknowledgedBatchId(){return Ne.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return Ne.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Pr(t,0),r=new Pr(t,Number.POSITIVE_INFINITY),s=[];return this.Di.forEachInRange([i,r],c=>{const h=this.Ci(c.vi);s.push(h)}),Ne.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Fi(bn);return t.forEach(r=>{const s=new Pr(r,0),c=new Pr(r,Number.POSITIVE_INFINITY);this.Di.forEachInRange([s,c],h=>{i=i.add(h.vi)})}),Ne.resolve(this.Ni(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;dt.isDocumentKey(s)||(s=s.child(""));const c=new Pr(new dt(s),0);let h=new Fi(bn);return this.Di.forEachWhile(p=>{const _=p.key.path;return!!i.isPrefixOf(_)&&(_.length===r&&(h=h.add(p.vi)),!0)},c),Ne.resolve(this.Ni(h))}Ni(e){const t=[];return e.forEach(i=>{const r=this.Ci(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){rn(0===this.ki(t.batchId,"removed")),this.Bs.shift();let i=this.Di;return Ne.forEach(t.mutations,r=>{const s=new Pr(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Di=i})}_n(e){}containsKey(e,t){const i=new Pr(t,0),r=this.Di.firstAfterOrEqual(i);return Ne.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return Ne.resolve()}ki(e,t){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class WN{constructor(e){this.Mi=e,this.docs=new ar(dt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,c=this.Mi(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Ne.resolve(i?i.document.mutableCopy():Ai.newInvalidDocument(t))}getEntries(e,t){let i=Ha();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Ai.newInvalidDocument(r))}),Ne.resolve(i)}getAllFromCollection(e,t,i){let r=Ha();const s=new dt(t.child("")),c=this.docs.getIteratorFrom(s);for(;c.hasNext();){const{key:h,value:{document:p}}=c.getNext();if(!t.isPrefixOf(h.path))break;h.path.length>t.length+1||lD(aD(p),i)<=0||(r=r.insert(p.key,p.mutableCopy()))}return Ne.resolve(r)}getAllFromCollectionGroup(e,t,i,r){Mt()}Oi(e,t){return Ne.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new ZN(this)}getSize(e){return Ne.resolve(this.size)}}class ZN extends vw{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Kn.addEntry(e,r)):this.Kn.removeEntry(i)}),Ne.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class YN{constructor(e){this.persistence=e,this.Fi=new zu(t=>Wd(t),kf),this.lastRemoteSnapshotVersion=tn.min(),this.highestTargetId=0,this.$i=0,this.Bi=new tg,this.targetCount=0,this.Li=tu.gn()}forEachTarget(e,t){return this.Fi.forEach((i,r)=>t(r)),Ne.resolve()}getLastRemoteSnapshotVersion(e){return Ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ne.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),Ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$i&&(this.$i=t),Ne.resolve()}Tn(e){this.Fi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Li=new tu(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,Ne.resolve()}updateTargetData(e,t){return this.Tn(t),Ne.resolve()}removeTargetData(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,Ne.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.Fi.forEach((c,h)=>{h.sequenceNumber<=t&&null===i.get(h.targetId)&&(this.Fi.delete(c),s.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)}),Ne.waitFor(s).next(()=>r)}getTargetCount(e){return Ne.resolve(this.targetCount)}getTargetData(e,t){const i=this.Fi.get(t)||null;return Ne.resolve(i)}addMatchingKeys(e,t,i){return this.Bi.Ei(t,i),Ne.resolve()}removeMatchingKeys(e,t,i){this.Bi.Ri(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(c=>{s.push(r.markPotentiallyOrphaned(e,c))}),Ne.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Bi.Pi(t),Ne.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Bi.Vi(t);return Ne.resolve(i)}containsKey(e,t){return Ne.resolve(this.Bi.containsKey(t))}}class KN{constructor(e,t){this.Ui={},this.overlays={},this.es=new da(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new YN(this),this.indexManager=new mw,this.ds=new WN(i=>this.referenceDelegate.qi(i)),this.M=new uw(t),this._s=new Ew(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new XM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Ui[e.toKey()];return i||(i=new Hy(t,this.referenceDelegate),this.Ui[e.toKey()]=i),i}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,i){tt("MemoryPersistence","Starting transaction:",e);const r=new hI(this.es.next());return this.referenceDelegate.Ki(),i(r).next(s=>this.referenceDelegate.Gi(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Qi(e,t){return Ne.or(Object.values(this.Ui).map(i=>()=>i.containsKey(e,t)))}}class hI extends jD{constructor(e){super(),this.currentSequenceNumber=e}}class Tw{constructor(e){this.persistence=e,this.ji=new tg,this.Wi=null}static zi(e){return new Tw(e)}get Hi(){if(this.Wi)return this.Wi;throw Mt()}addReference(e,t,i){return this.ji.addReference(i,t),this.Hi.delete(i.toString()),Ne.resolve()}removeReference(e,t,i){return this.ji.removeReference(i,t),this.Hi.add(i.toString()),Ne.resolve()}markPotentiallyOrphaned(e,t){return this.Hi.add(t.toString()),Ne.resolve()}removeTarget(e,t){this.ji.Pi(t.targetId).forEach(r=>this.Hi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Hi.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}Ki(){this.Wi=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ne.forEach(this.Hi,i=>{const r=dt.fromPath(i);return this.Ji(e,r).next(s=>{s||t.removeEntry(r,tn.min())})}).next(()=>(this.Wi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ji(e,t).next(i=>{i?this.Hi.delete(t.toString()):this.Hi.add(t.toString())})}qi(e){return 0}Ji(e,t){return Ne.or([()=>Ne.resolve(this.ji.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Qi(e,t)])}}function fI(n,e){return`firestore_clients_${n}_${e}`}function pI(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function Dw(n,e){return`firestore_targets_${n}_${e}`}class ng{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Yi(e,t,i){const r=JSON.parse(i);let s,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(s=new ze(r.error.code,r.error.message))),c?new ng(e,t,r.state,s):(vr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class qf{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Yi(e,t){const i=JSON.parse(t);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new ze(i.error.code,i.error.message))),s?new qf(e,i.state,r):(vr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ig{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Yi(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=Fm();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=JT(i.activeTargetIds[c]),s=s.add(i.activeTargetIds[c]);return r?new ig(e,s):(vr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Iw{constructor(e,t){this.clientId=e,this.onlineState=t}static Yi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Iw(t.clientId,t.onlineState):(vr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Sw{constructor(){this.activeTargetIds=Fm()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jy{constructor(e,t,i,r,s){this.window=e,this.Yn=t,this.persistenceKey=i,this.er=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new ar(bn),this.started=!1,this.rr=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ur=fI(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new Sw),this.cr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Fe.Z)(function*(){const t=yield e.syncEngine.Fs();for(const r of t){if(r===e.er)continue;const s=e.getItem(fI(e.persistenceKey,r));if(s){const c=ig.Yi(r,s);c&&(e.ir=e.ir.insert(c.clientId,c))}}e.wr();const i=e.storage.getItem(e.dr);if(i){const r=e.mr(i);r&&e.gr(r)}for(const r of e.rr)e.sr(r);e.rr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(e){let t=!1;return this.ir.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.pr(e,"pending")}updateMutationState(e,t,i){this.pr(e,t,i),this.Ir(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(Dw(this.persistenceKey,e));if(i){const r=qf.Yi(e,i);r&&(t=r.state)}}return this.Tr.Zi(e),this.wr(),t}removeLocalQueryTarget(e){this.Tr.tr(e),this.wr()}isLocalQueryTarget(e){return this.Tr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Dw(this.persistenceKey,e))}updateQueryState(e,t,i){this.Er(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Ir(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Ar(e)}notifyBundleLoaded(e){this.Rr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return tt("SharedClientState","READ",e,t),t}setItem(e,t){tt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){tt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}sr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(tt("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ur)return void vr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,Fe.Z)(function*(){if(t.started){if(null!==i.key)if(t.cr.test(i.key)){if(null==i.newValue){const r=t.Pr(i.key);return t.br(r,null)}{const r=t.Vr(i.key,i.newValue);if(r)return t.br(r.clientId,r)}}else if(t.hr.test(i.key)){if(null!==i.newValue){const r=t.vr(i.key,i.newValue);if(r)return t.Sr(r)}}else if(t.lr.test(i.key)){if(null!==i.newValue){const r=t.Dr(i.key,i.newValue);if(r)return t.Cr(r)}}else if(i.key===t.dr){if(null!==i.newValue){const r=t.mr(i.newValue);if(r)return t.gr(r)}}else if(i.key===t.ar){const r=function(s){let c=da.A;if(null!=s)try{const h=JSON.parse(s);rn("number"==typeof h),c=h}catch(h){vr("SharedClientState","Failed to read sequence number from WebStorage",h)}return c}(i.newValue);r!==da.A&&t.sequenceNumberHandler(r)}else if(i.key===t._r){const r=t.Nr(i.newValue);yield Promise.all(r.map(s=>t.syncEngine.kr(s)))}}else t.rr.push(i)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(e,t,i){const r=new ng(this.currentUser,e,t,i),s=pI(this.persistenceKey,this.currentUser,e);this.setItem(s,r.Xi())}Ir(e){const t=pI(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ar(e){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:e}))}Er(e,t,i){const r=Dw(this.persistenceKey,e),s=new qf(e,t,i);this.setItem(r,s.Xi())}Rr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}Pr(e){const t=this.cr.exec(e);return t?t[1]:null}Vr(e,t){const i=this.Pr(e);return ig.Yi(i,t)}vr(e,t){const i=this.hr.exec(e),r=Number(i[1]);return ng.Yi(new Is(void 0!==i[2]?i[2]:null),r,t)}Dr(e,t){const i=this.lr.exec(e),r=Number(i[1]);return qf.Yi(r,t)}mr(e){return Iw.Yi(e)}Nr(e){return JSON.parse(e)}Sr(e){var t=this;return(0,Fe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Mr(e.batchId,e.state,e.error);tt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Cr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const i=t?this.ir.insert(e,t):this.ir.remove(e),r=this.yr(this.ir),s=this.yr(i),c=[],h=[];return s.forEach(p=>{r.has(p)||c.push(p)}),r.forEach(p=>{s.has(p)||h.push(p)}),this.syncEngine.Fr(c,h).then(()=>{this.ir=i})}gr(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}yr(e){let t=Fm();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class Gy{constructor(){this.$r=new Sw,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,t,i){this.Br[e]=t}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new Sw,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class QN{Lr(e){}shutdown(){}}class Aw{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){tt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){tt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const xw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class ek{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class tk extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.io=(e.ssl?"https":"http")+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,t,i,r,s){const c=this.uo(e,t);tt("RestConnection","Sending: ",c,i);const h={};return this.ao(h,r,s),this.co(e,c,h,i).then(p=>(tt("RestConnection","Received: ",p),p),p=>{throw Ef("RestConnection",`${e} failed with error: `,p,"url: ",c,"request:",i),p})}ho(e,t,i,r,s){return this.oo(e,t,i,r,s)}ao(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Cf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}uo(e,t){return`${this.io}/v1/${t}:${xw[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,i,r){return new Promise((s,c)=>{const h=new iM;h.listenOnce(eM.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Mb.NO_ERROR:const _=h.getResponseJson();tt("Connection","XHR received:",JSON.stringify(_)),s(_);break;case Mb.TIMEOUT:tt("Connection",'RPC "'+e+'" timed out'),c(new ze(De.DEADLINE_EXCEEDED,"Request time out"));break;case Mb.HTTP_ERROR:const E=h.getStatus();if(tt("Connection",'RPC "'+e+'" failed with status:',E,"response text:",h.getResponseText()),E>0){const S=h.getResponseJson().error;if(S&&S.status&&S.message){const N=function(j){const z=j.toLowerCase().replace(/_/g,"-");return Object.values(De).indexOf(z)>=0?z:De.UNKNOWN}(S.status);c(new ze(N,S.message))}else c(new ze(De.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new ze(De.UNAVAILABLE,"Connection failed."));break;default:Mt()}}finally{tt("Connection",'RPC "'+e+'" completed.')}});const p=JSON.stringify(r);h.send(t,"POST",p,i,15)})}lo(e,t,i){const r=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Jx(),c=Xx(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new nM({})),this.ao(h.initMessageHeaders,t,i),(0,H.uI)()||(0,H.b$)()||(0,H.d)()||(0,H.w1)()||(0,H.Mn)()||(0,H.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const p=r.join("");tt("Connection","Creating WebChannel: "+p,h);const _=s.createWebChannel(p,h);let E=!1,S=!1;const N=new ek({Wr:z=>{S?tt("Connection","Not sending because WebChannel is closed:",z):(E||(tt("Connection","Opening WebChannel transport."),_.open(),E=!0),tt("Connection","WebChannel sending:",z),_.send(z))},zr:()=>_.close()}),j=(z,le,we)=>{z.listen(le,pt=>{try{we(pt)}catch(_t){setTimeout(()=>{throw _t},0)}})};return j(_,ny.EventType.OPEN,()=>{S||tt("Connection","WebChannel transport opened.")}),j(_,ny.EventType.CLOSE,()=>{S||(S=!0,tt("Connection","WebChannel transport closed"),N.no())}),j(_,ny.EventType.ERROR,z=>{S||(S=!0,Ef("Connection","WebChannel transport errored:",z),N.no(new ze(De.UNAVAILABLE,"The operation could not be completed")))}),j(_,ny.EventType.MESSAGE,z=>{var le;if(!S){const we=z.data[0];rn(!!we);const pt=we,_t=pt.error||(null===(le=pt[0])||void 0===le?void 0:le.error);if(_t){tt("Connection","WebChannel received error:",_t);const yt=_t.status;let ht=function(ln){const Wn=wr[ln];if(void 0!==Wn)return vy(Wn)}(yt),Xt=_t.message;void 0===ht&&(ht=De.INTERNAL,Xt="Unknown error status: "+yt+" with message "+_t.message),S=!0,N.no(new ze(ht,Xt)),_.close()}else tt("Connection","WebChannel received:",we),N.so(we)}}),j(c,tM.STAT_EVENT,z=>{z.stat===$T.PROXY?tt("Connection","Detected buffering proxy"):z.stat===$T.NOPROXY&&tt("Connection","Detected no buffering proxy")}),setTimeout(()=>{N.eo()},0),N}}function nk(){return"undefined"!=typeof window?window:null}function Mw(){return"undefined"!=typeof document?document:null}function rg(n){return new Zb(n,!0)}class kw{constructor(e,t,i=1e3,r=1.5,s=6e4){this.Yn=e,this.timerId=t,this.fo=i,this._o=r,this.wo=s,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const t=Math.floor(this.mo+this.Eo()),i=Math.max(0,Date.now()-this.po),r=Math.max(0,t-i);r>0&&tt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.mo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,r,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class ik{constructor(e,t,i,r,s,c,h,p){this.Yn=e,this.Ro=i,this.Po=r,this.bo=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new kw(e,t)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var e=this;return(0,Fe.Z)(function*(){e.Co()&&(yield e.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}Oo(){var e=this;return(0,Fe.Z)(function*(){if(e.xo())return e.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(e,t){var i=this;return(0,Fe.Z)(function*(){i.$o(),i.Bo(),i.Do.cancel(),i.Vo++,4!==e?i.Do.reset():t&&t.code===De.RESOURCE_EXHAUSTED?(vr(t.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),i.Do.Io()):t&&t.code===De.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Lo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Yr(t)})()}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Vo===t&&this.qo(i,r)},i=>{e(()=>{const r=new ze(De.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Ko(r)})})}qo(e,t){const i=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr(()=>{i(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(r=>{i(()=>this.Ko(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}No(){var e=this;this.state=5,this.Do.To((0,Fe.Z)(function*(){e.state=0,e.start()}))}Ko(e){return tt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Yn.enqueueAndForget(()=>this.Vo===e?t():(tt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JN extends ik{constructor(e,t,i,r,s,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,c),this.M=s}Go(e,t){return this.bo.lo("Listen",e,t)}onMessage(e){this.Do.reset();const t=function Qb(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(p=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:Mt(),r=e.targetChange.targetIds||[],s=function(p,_){return p.N?(rn(void 0===_||"string"==typeof _),Qr.fromBase64String(_||"")):(rn(void 0===_||_ instanceof Uint8Array),Qr.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(p){const _=void 0===p.code?De.UNKNOWN:vy(p.code);return new ze(_,p.message||"")}(c);t=new Wb(i,r,s,h||null)}else if("documentChange"in e){const i=e.documentChange,r=Jl(n,i.document.name),s=us(i.document.updateTime),c=new zs({mapValue:{fields:i.document.fields}}),h=Ai.newFoundDocument(r,s,c);t=new Vm(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in e){const i=e.documentDelete,r=Jl(n,i.document),s=i.readTime?us(i.readTime):tn.min(),c=Ai.newNoDocument(r,s);t=new Vm([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const i=e.documentRemove,r=Jl(n,i.document);t=new Vm([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return Mt();{const i=e.filter,s=new BN(i.count||0);t=new zb(i.targetId,s)}}var p;return t}(this.M,e),i=function(r){if(!("targetChange"in r))return tn.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?tn.min():s.readTime?us(s.readTime):tn.min()}(e);return this.listener.Qo(t,i)}jo(e){const t={};t.database=th(this.M),t.addTarget=function(r,s){let c;const h=s.target;return c=uy(h)?{documents:Ey(r,h)}:{query:RD(r,h)},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?c.resumeToken=xD(r,s.resumeToken):s.snapshotVersion.compareTo(tn.min())>0&&(c.readTime=Kc(r,s.snapshotVersion.toTimestamp())),c}(this.M,e);const i=function IM(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Mt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Fo(t)}Wo(e){const t={};t.database=th(this.M),t.removeTarget=e,this.Fo(t)}}class XN extends ik{constructor(e,t,i,r,s,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,c),this.M=s,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,t){return this.bo.lo("Write",e,t)}onMessage(e){if(rn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const t=function Jb(n,e){return n&&n.length>0?(rn(void 0!==e),n.map(t=>function(i,r){let s=us(i.updateTime?i.updateTime:r);return s.isEqual(tn.min())&&(s=us(r)),new _M(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=us(e.commitTime);return this.listener.Yo(i,t)}return rn(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=th(this.M),this.Fo(e)}Jo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>nh(this.M,i))};this.Fo(t)}}class eP extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=i,this.M=r,this.tu=!1}eu(){if(this.tu)throw new ze(De.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,t,i){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.bo.oo(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===De.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ze(De.UNKNOWN,r.toString())})}ho(e,t,i){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.bo.ho(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===De.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ze(De.UNKNOWN,r.toString())})}terminate(){this.tu=!0}}class tP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(vr(t),this.iu=!1):tt("OnlineStateTracker",t)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class rk{constructor(e,t,i,r,s){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=s,this._u.Lr(h=>{i.enqueueAndForget((0,Fe.Z)(function*(){var p;v(c)&&(tt("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,Fe.Z)(function*(_){const E=mt(_);E.fu.add(4),yield sg(E),E.wu.set("Unknown"),E.fu.delete(4),yield $y(E)}),function(_){return p.apply(this,arguments)})(c))}))}),this.wu=new tP(i,r)}}function $y(n){return mI.apply(this,arguments)}function mI(){return mI=(0,Fe.Z)(function*(n){if(v(n))for(const e of n.du)yield e(!0)}),mI.apply(this,arguments)}function sg(n){return gI.apply(this,arguments)}function gI(){return gI=(0,Fe.Z)(function*(n){for(const e of n.du)yield e(!1)}),gI.apply(this,arguments)}function o(n,e){const t=mt(n);t.lu.has(e.targetId)||(t.lu.set(e.targetId,e),m(t)?f(t):zy(t).xo()&&u(t,e))}function l(n,e){const t=mt(n),i=zy(t);t.lu.delete(e),i.xo()&&d(t,e),0===t.lu.size&&(i.xo()?i.Mo():v(t)&&t.wu.set("Unknown"))}function u(n,e){n.mu.Z(e.targetId),zy(n).jo(e)}function d(n,e){n.mu.Z(e),zy(n).Wo(e)}function f(n){n.mu=new Bm({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.lu.get(e)||null}),zy(n).start(),n.wu.ru()}function m(n){return v(n)&&!zy(n).Co()&&n.lu.size>0}function v(n){return 0===mt(n).fu.size}function T(n){n.mu=void 0}function x(n){return P.apply(this,arguments)}function P(){return P=(0,Fe.Z)(function*(n){n.lu.forEach((e,t)=>{u(n,e)})}),P.apply(this,arguments)}function V(n,e){return Y.apply(this,arguments)}function Y(){return Y=(0,Fe.Z)(function*(n,e){T(n),m(n)?(n.wu.au(e),f(n)):n.wu.set("Unknown")}),Y.apply(this,arguments)}function ie(n,e,t){return he.apply(this,arguments)}function he(){return he=(0,Fe.Z)(function*(n,e,t){if(n.wu.set("Online"),e instanceof Wb&&2===e.state&&e.cause)try{yield(i=(0,Fe.Z)(function*(r,s){const c=s.cause;for(const h of s.targetIds)r.lu.has(h)&&(yield r.remoteSyncer.rejectListen(h,c),r.lu.delete(h),r.mu.removeTarget(h))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){tt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Le(n,i)}else if(e instanceof Vm?n.mu.ut(e):e instanceof zb?n.mu._t(e):n.mu.ht(e),!t.isEqual(tn.min()))try{const i=yield oI(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const c=r.mu.yt(s);return c.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const _=r.lu.get(p);_&&r.lu.set(p,_.withResumeToken(h.resumeToken,s))}}),c.targetMismatches.forEach(h=>{const p=r.lu.get(h);if(!p)return;r.lu.set(h,p.withResumeToken(Qr.EMPTY_BYTE_STRING,p.snapshotVersion)),d(r,h);const _=new Jc(p.target,h,1,p.sequenceNumber);u(r,_)}),r.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(i){tt("RemoteStore","Failed to raise snapshot:",i),yield Le(n,i)}var i}),he.apply(this,arguments)}function Le(n,e,t){return nt.apply(this,arguments)}function nt(){return nt=(0,Fe.Z)(function*(n,e,t){if(!Wu(e))throw e;n.fu.add(1),yield sg(n),n.wu.set("Offline"),t||(t=()=>oI(n.localStore)),n.asyncQueue.enqueueRetryable((0,Fe.Z)(function*(){tt("RemoteStore","Retrying IndexedDB access"),yield t(),n.fu.delete(1),yield $y(n)}))}),nt.apply(this,arguments)}function ut(n,e){return e().catch(t=>Le(n,t,e))}function Et(n){return $e.apply(this,arguments)}function $e(){return $e=(0,Fe.Z)(function*(n){const e=mt(n),t=zf(e);let i=e.hu.length>0?e.hu[e.hu.length-1].batchId:-1;for(;Ht(e);)try{const r=yield zN(e.localStore,i);if(null===r){0===e.hu.length&&t.Mo();break}i=r.batchId,Pn(e,r)}catch(r){yield Le(e,r)}li(e)&&Bo(e)}),$e.apply(this,arguments)}function Ht(n){return v(n)&&n.hu.length<10}function Pn(n,e){n.hu.push(e);const t=zf(n);t.xo()&&t.Ho&&t.Jo(e.mutations)}function li(n){return v(n)&&!zf(n).Co()&&n.hu.length>0}function Bo(n){zf(n).start()}function uh(n){return og.apply(this,arguments)}function og(){return og=(0,Fe.Z)(function*(n){zf(n).Zo()}),og.apply(this,arguments)}function Rw(n){return ag.apply(this,arguments)}function ag(){return ag=(0,Fe.Z)(function*(n){const e=zf(n);for(const t of n.hu)e.Jo(t.mutations)}),ag.apply(this,arguments)}function Ow(n,e,t){return lg.apply(this,arguments)}function lg(){return lg=(0,Fe.Z)(function*(n,e,t){const i=n.hu.shift(),r=cw.from(i,e,t);yield ut(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Et(n)}),lg.apply(this,arguments)}function Nw(n,e){return cg.apply(this,arguments)}function cg(){return cg=(0,Fe.Z)(function*(n,e){var t;e&&zf(n).Ho&&(yield(t=(0,Fe.Z)(function*(i,r){if(qb(s=r.code)&&s!==De.ABORTED){const c=i.hu.shift();zf(i).ko(),yield ut(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield Et(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),li(n)&&Bo(n)}),cg.apply(this,arguments)}function qy(n,e){return ug.apply(this,arguments)}function ug(){return ug=(0,Fe.Z)(function*(n,e){const t=mt(n);t.asyncQueue.verifyOperationInProgress(),tt("RemoteStore","RemoteStore received new credentials");const i=v(t);t.fu.add(3),yield sg(t),i&&t.wu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.fu.delete(3),yield $y(t)}),ug.apply(this,arguments)}function sk(n,e){return ok.apply(this,arguments)}function ok(){return ok=(0,Fe.Z)(function*(n,e){const t=mt(n);e?(t.fu.delete(2),yield $y(t)):e||(t.fu.add(2),yield sg(t),t.wu.set("Unknown"))}),ok.apply(this,arguments)}function zy(n){return n.gu||(n.gu=function(e,t,i){const r=mt(e);return r.eu(),new JN(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Hr:x.bind(null,n),Yr:V.bind(null,n),Qo:ie.bind(null,n)}),n.du.push(function(){var e=(0,Fe.Z)(function*(t){t?(n.gu.ko(),m(n)?f(n):n.wu.set("Unknown")):(yield n.gu.stop(),T(n))});return function(t){return e.apply(this,arguments)}}())),n.gu}function zf(n){return n.yu||(n.yu=function(e,t,i){const r=mt(e);return r.eu(),new XN(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Hr:uh.bind(null,n),Yr:Nw.bind(null,n),Xo:Rw.bind(null,n),Yo:Ow.bind(null,n)}),n.du.push(function(){var e=(0,Fe.Z)(function*(t){t?(n.yu.ko(),yield Et(n)):(yield n.yu.stop(),n.hu.length>0&&(tt("RemoteStore",`Stopping write stream with ${n.hu.length} pending writes`),n.hu=[]))});return function(t){return e.apply(this,arguments)}}())),n.yu}class ak{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,i,r,s){const c=Date.now()+i,h=new ak(e,t,c,r,s);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ze(De.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wy(n,e){if(vr("AsyncQueue",`${e}: ${n}`),Wu(n))return new ze(De.UNAVAILABLE,`${e}: ${n}`);throw n}class Zy{constructor(e){this.comparator=e?(t,i)=>e(t,i)||dt.comparator(t.key,i.key):(t,i)=>dt.comparator(t.key,i.key),this.keyedMap=eh(),this.sortedSet=new ar(this.comparator)}static emptySet(e){return new Zy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Zy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Zy;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class nP{constructor(){this.pu=new ar(dt.comparator)}track(e){const t=e.doc.key,i=this.pu.get(t);i?0!==e.type&&3===i.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==i.type?this.pu=this.pu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.pu=this.pu.remove(t):1===e.type&&2===i.type?this.pu=this.pu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):Mt():this.pu=this.pu.insert(t,e)}Iu(){const e=[];return this.pu.inorderTraversal((t,i)=>{e.push(i)}),e}}class Yy{constructor(e,t,i,r,s,c,h,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p}static fromInitialDocuments(e,t,i,r){const s=[];return t.forEach(c=>{s.push({type:0,doc:c})}),new Yy(e,t,Zy.emptySet(t),s,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Am(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class ij{constructor(){this.Tu=void 0,this.listeners=[]}}class rj{constructor(){this.queries=new zu(e=>Bb(e),Am),this.onlineState="Unknown",this.Eu=new Set}}function lk(n,e){return ck.apply(this,arguments)}function ck(){return ck=(0,Fe.Z)(function*(n,e){const t=mt(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new ij),r)try{s.Tu=yield t.onListen(i)}catch(c){const h=Wy(c,`Initialization of query '${Ub(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,s),s.listeners.push(e),e.Au(t.onlineState),s.Tu&&e.Ru(s.Tu)&&hk(t)}),ck.apply(this,arguments)}function uk(n,e){return dk.apply(this,arguments)}function dk(){return dk=(0,Fe.Z)(function*(n,e){const t=mt(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const c=s.listeners.indexOf(e);c>=0&&(s.listeners.splice(c,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),dk.apply(this,arguments)}function sj(n,e){const t=mt(n);let i=!1;for(const r of e){const c=t.queries.get(r.query);if(c){for(const h of c.listeners)h.Ru(r)&&(i=!0);c.Tu=r}}i&&hk(t)}function oj(n,e,t){const i=mt(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function hk(n){n.Eu.forEach(e=>{e.next()})}class fk{constructor(e,t,i){this.query=e,this.Pu=t,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=i||{}}Ru(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Yy(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),t=!0):this.Su(e,this.onlineState)&&(this.Du(e),t=!0),this.Vu=e,t}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}Su(e,t){return!e.fromCache||!(this.options.Cu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(e){e=Yy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class aj{constructor(e,t){this.payload=e,this.byteLength=t}xu(){return"metadata"in this.payload}}class iP{constructor(e){this.M=e}fi(e){return Jl(this.M,e)}di(e){return e.metadata.exists?kD(this.M,e.document,!1):Ai.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}_i(e){return us(e)}}class lj{constructor(e,t,i){this.Nu=e,this.localStore=t,this.M=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=rP(e)}ku(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const i=$n.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,i=new iP(this.M);for(const r of e)if(r.metadata.queries){const s=i.fi(r.metadata.name);for(const c of r.metadata.queries){const h=(t.get(c)||ai()).add(s);t.set(c,h)}}return t}complete(){var e=this;return(0,Fe.Z)(function*(){const t=yield function uI(n,e,t,i){return iu.apply(this,arguments)}(e.localStore,new iP(e.M),e.documents,e.Nu.id),i=e.Mu(e.documents);for(const r of e.queries)yield dI(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Fu:t}})()}}function rP(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class sP{constructor(e){this.key=e}}class oP{constructor(e){this.key=e}}class aP{constructor(e,t){this.query=e,this.$u=t,this.Bu=null,this.current=!1,this.Lu=ai(),this.mutatedKeys=ai(),this.Uu=Hb(e),this.qu=new Zy(this.Uu)}get Ku(){return this.$u}Gu(e,t){const i=t?t.Qu:new nP,r=t?t.qu:this.qu;let s=t?t.mutatedKeys:this.mutatedKeys,c=r,h=!1;const p=fy(this.query)&&r.size===this.query.limit?r.last():null,_=Of(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((E,S)=>{const N=r.get(E),j=gy(this.query,S)?S:null,z=!!N&&this.mutatedKeys.has(N.key),le=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let we=!1;N&&j?N.data.isEqual(j.data)?z!==le&&(i.track({type:3,doc:j}),we=!0):this.ju(N,j)||(i.track({type:2,doc:j}),we=!0,(p&&this.Uu(j,p)>0||_&&this.Uu(j,_)<0)&&(h=!0)):!N&&j?(i.track({type:0,doc:j}),we=!0):N&&!j&&(i.track({type:1,doc:N}),we=!0,(p||_)&&(h=!0)),we&&(j?(c=c.add(j),s=le?s.add(E):s.delete(E)):(c=c.delete(E),s=s.delete(E)))}),fy(this.query)||Of(this.query))for(;c.size>this.query.limit;){const E=fy(this.query)?c.last():c.first();c=c.delete(E.key),s=s.delete(E.key),i.track({type:1,doc:E})}return{qu:c,Qu:i,ni:h,mutatedKeys:s}}ju(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const s=e.Qu.Iu();s.sort((_,E)=>function(S,N){const j=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mt()}};return j(S)-j(N)}(_.type,E.type)||this.Uu(_.doc,E.doc)),this.Wu(i);const c=t?this.zu():[],h=0===this.Lu.size&&this.current?1:0,p=h!==this.Bu;return this.Bu=h,0!==s.length||p?{snapshot:new Yy(this.query,e.qu,r,s,e.mutatedKeys,0===h,p,!1),Hu:c}:{Hu:c}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new nP,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(t=>this.$u=this.$u.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.$u=this.$u.delete(t)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=ai(),this.qu.forEach(i=>{this.Ju(i.key)&&(this.Lu=this.Lu.add(i.key))});const t=[];return e.forEach(i=>{this.Lu.has(i)||t.push(new oP(i))}),this.Lu.forEach(i=>{e.has(i)||t.push(new sP(i))}),t}Yu(e){this.$u=e.li,this.Lu=ai();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Xu(){return Yy.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class cj{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class uj{constructor(e){this.key=e,this.Zu=!1}}class dj{constructor(e,t,i,r,s,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.ta={},this.ea=new zu(h=>Bb(h),Am),this.na=new Map,this.sa=new Set,this.ia=new ar(dt.comparator),this.ra=new Map,this.oa=new tg,this.ua={},this.aa=new Map,this.ca=tu.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function hj(n,e){return pk.apply(this,arguments)}function pk(){return pk=(0,Fe.Z)(function*(n,e){const t=Lk(n);let i,r;const s=t.ea.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.Xu();else{const c=yield Qm(t.localStore,Ba(e));t.isPrimaryClient&&o(t.remoteStore,c);const h=t.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield mk(t,e,i,"current"===h)}return r}),pk.apply(this,arguments)}function mk(n,e,t,i){return gk.apply(this,arguments)}function gk(){return gk=(0,Fe.Z)(function*(n,e,t,i){n.la=(E,S,N)=>{return(j=(0,Fe.Z)(function*(z,le,we,pt){let _t=le.view.Gu(we);_t.ni&&(_t=yield Uy(z.localStore,le.query,!1).then(({documents:Xt})=>le.view.Gu(Xt,_t)));const yt=pt&&pt.targetChanges.get(le.targetId),ht=le.view.applyChanges(_t,z.isPrimaryClient,yt);return Ik(z,le.targetId,ht.Hu),ht.snapshot}),function(z,le,we,pt){return j.apply(this,arguments)})(n,E,S,N);var j};const r=yield Uy(n.localStore,e,!0),s=new aP(e,r.li),c=s.Gu(r.documents),h=Vf.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState),p=s.applyChanges(c,n.isPrimaryClient,h);Ik(n,t,p.Hu);const _=new cj(e,t,s);return n.ea.set(e,_),n.na.has(t)?n.na.get(t).push(e):n.na.set(t,[e]),p.snapshot}),gk.apply(this,arguments)}function fj(n,e){return _k.apply(this,arguments)}function _k(){return _k=(0,Fe.Z)(function*(n,e){const t=mt(n),i=t.ea.get(e),r=t.na.get(i.targetId);if(r.length>1)return t.na.set(i.targetId,r.filter(s=>!Am(s,e))),void t.ea.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Jm(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),l(t.remoteStore,i.targetId),Ky(t,i.targetId)}).catch(ah))):(Ky(t,i.targetId),yield Jm(t.localStore,i.targetId,!0))}),_k.apply(this,arguments)}function yk(){return yk=(0,Fe.Z)(function*(n,e,t){const i=Vk(n);try{const r=yield function(s,c){const h=mt(s),p=wn.now(),_=c.reduce((S,N)=>S.add(N.key),ai());let E;return h.persistence.runTransaction("Locally write mutations","readwrite",S=>h.ci.Ks(S,_).next(N=>{E=N;const j=[];for(const z of c){const le=vM(z,E.get(z.key));null!=le&&j.push(new Ua(z.key,le,sD(le.value.mapValue),br.exists(!0)))}return h.Bs.addMutationBatch(S,p,j,c)})).then(S=>(S.applyToLocalDocumentSet(E),{batchId:S.batchId,changes:E}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,c,h){let p=s.ua[s.currentUser.toKey()];p||(p=new ar(bn)),p=p.insert(c,h),s.ua[s.currentUser.toKey()]=p}(i,r.batchId,t),yield dh(i,r.changes),yield Et(i.remoteStore)}catch(r){const s=Wy(r,"Failed to persist write");t.reject(s)}}),yk.apply(this,arguments)}function lP(n,e){return vk.apply(this,arguments)}function vk(){return vk=(0,Fe.Z)(function*(n,e){const t=mt(n);try{const i=yield QM(t.localStore,e);e.targetChanges.forEach((r,s)=>{const c=t.ra.get(s);c&&(rn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.Zu=!0:r.modifiedDocuments.size>0?rn(c.Zu):r.removedDocuments.size>0&&(rn(c.Zu),c.Zu=!1))}),yield dh(t,i,e)}catch(i){yield ah(i)}}),vk.apply(this,arguments)}function cP(n,e,t){const i=mt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ea.forEach((s,c)=>{const h=c.view.Au(e);h.snapshot&&r.push(h.snapshot)}),function(s,c){const h=mt(s);h.onlineState=c;let p=!1;h.queries.forEach((_,E)=>{for(const S of E.listeners)S.Au(c)&&(p=!0)}),p&&hk(h)}(i.eventManager,e),r.length&&i.ta.Qo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function mj(n,e,t){return bk.apply(this,arguments)}function bk(){return bk=(0,Fe.Z)(function*(n,e,t){const i=mt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.ra.get(e),s=r&&r.key;if(s){let c=new ar(dt.comparator);c=c.insert(s,Ai.newNoDocument(s,tn.min()));const h=ai().add(s),p=new Lm(tn.min(),new Map,new Fi(bn),c,h);yield lP(i,p),i.ia=i.ia.remove(s),i.ra.delete(e),Sk(i)}else yield Jm(i.localStore,e,!1).then(()=>Ky(i,e,t)).catch(ah)}),bk.apply(this,arguments)}function gj(n,e){return wk.apply(this,arguments)}function wk(){return wk=(0,Fe.Z)(function*(n,e){const t=mt(n),i=e.batch.batchId;try{const r=yield KM(t.localStore,e);Dk(t,i,null),Tk(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield dh(t,r)}catch(r){yield ah(r)}}),wk.apply(this,arguments)}function _j(n,e,t){return Ck.apply(this,arguments)}function Ck(){return Ck=(0,Fe.Z)(function*(n,e,t){const i=mt(n);try{const r=yield function(s,c){const h=mt(s);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return h.Bs.lookupMutationBatch(p,c).next(E=>(rn(null!==E),_=E.keys(),h.Bs.removeMutationBatch(p,E))).next(()=>h.Bs.performConsistencyCheck(p)).next(()=>h.ci.Ks(p,_))})}(i.localStore,e);Dk(i,e,t),Tk(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield dh(i,r)}catch(r){yield ah(r)}}),Ck.apply(this,arguments)}function Ek(){return Ek=(0,Fe.Z)(function*(n,e){const t=mt(n);v(t.remoteStore)||tt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const c=mt(s);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>c.Bs.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===i)return void e.resolve();const r=t.aa.get(i)||[];r.push(e),t.aa.set(i,r)}catch(i){const r=Wy(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),Ek.apply(this,arguments)}function Tk(n,e){(n.aa.get(e)||[]).forEach(t=>{t.resolve()}),n.aa.delete(e)}function Dk(n,e,t){const i=mt(n);let r=i.ua[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.ua[i.currentUser.toKey()]=r}}function Ky(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.na.get(e))n.ea.delete(i),t&&n.ta.fa(i,t);n.na.delete(e),n.isPrimaryClient&&n.oa.Pi(e).forEach(i=>{n.oa.containsKey(i)||uP(n,i)})}function uP(n,e){n.sa.delete(e.path.canonicalString());const t=n.ia.get(e);null!==t&&(l(n.remoteStore,t),n.ia=n.ia.remove(e),n.ra.delete(t),Sk(n))}function Ik(n,e,t){for(const i of t)i instanceof sP?(n.oa.addReference(i.key,e),vj(n,i)):i instanceof oP?(tt("SyncEngine","Document no longer in limbo: "+i.key),n.oa.removeReference(i.key,e),n.oa.containsKey(i.key)||uP(n,i.key)):Mt()}function vj(n,e){const t=e.key,i=t.path.canonicalString();n.ia.get(t)||n.sa.has(i)||(tt("SyncEngine","New document in limbo: "+t),n.sa.add(i),Sk(n))}function Sk(n){for(;n.sa.size>0&&n.ia.size<n.maxConcurrentLimboResolutions;){const e=n.sa.values().next().value;n.sa.delete(e);const t=new dt($n.fromString(e)),i=n.ca.next();n.ra.set(i,new uj(t)),n.ia=n.ia.insert(t,i),o(n.remoteStore,new Jc(Ba(Rf(t.path)),i,2,da.A))}}function dh(n,e,t){return Ak.apply(this,arguments)}function Ak(){return Ak=(0,Fe.Z)(function*(n,e,t){const i=mt(n),r=[],s=[],c=[];var h;i.ea.isEmpty()||(i.ea.forEach((h,p)=>{c.push(i.la(p,e,t).then(_=>{if(_){i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,_.fromCache?"not-current":"current"),r.push(_);const E=Vy.Ys(p.targetId,_);s.push(E)}}))}),yield Promise.all(c),i.ta.Qo(r),yield(h=(0,Fe.Z)(function*(p,_){const E=mt(p);try{yield E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>Ne.forEach(_,N=>Ne.forEach(N.Hs,j=>E.persistence.referenceDelegate.addReference(S,N.targetId,j)).next(()=>Ne.forEach(N.Js,j=>E.persistence.referenceDelegate.removeReference(S,N.targetId,j)))))}catch(S){if(!Wu(S))throw S;tt("LocalStore","Failed to update sequence numbers: "+S)}for(const S of _){const N=S.targetId;if(!S.fromCache){const j=E.ii.get(N),le=j.withLastLimboFreeSnapshotVersion(j.snapshotVersion);E.ii=E.ii.insert(N,le)}}}),function(p,_){return h.apply(this,arguments)})(i.localStore,s))}),Ak.apply(this,arguments)}function bj(n,e){return xk.apply(this,arguments)}function xk(){return xk=(0,Fe.Z)(function*(n,e){const t=mt(n);if(!t.currentUser.isEqual(e)){tt("SyncEngine","User change. New user:",e.toKey());const i=yield YM(t.localStore,e);t.currentUser=e,(r=t).aa.forEach(c=>{c.forEach(h=>{h.reject(new ze(De.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.aa.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield dh(t,i.hi)}var r}),xk.apply(this,arguments)}function wj(n,e){const t=mt(n),i=t.ra.get(e);if(i&&i.Zu)return ai().add(i.key);{let r=ai();const s=t.na.get(e);if(!s)return r;for(const c of s){const h=t.ea.get(c);r=r.unionWith(h.view.Ku)}return r}}function Cj(n,e){return Mk.apply(this,arguments)}function Mk(){return Mk=(0,Fe.Z)(function*(n,e){const t=mt(n),i=yield Uy(t.localStore,e.query,!0),r=e.view.Yu(i);return t.isPrimaryClient&&Ik(t,e.targetId,r.Hu),r}),Mk.apply(this,arguments)}function Ej(n,e){return kk.apply(this,arguments)}function kk(){return kk=(0,Fe.Z)(function*(n,e){const t=mt(n);return lI(t.localStore,e).then(i=>dh(t,i))}),kk.apply(this,arguments)}function Tj(n,e,t,i){return Rk.apply(this,arguments)}function Rk(){return Rk=(0,Fe.Z)(function*(n,e,t,i){const r=mt(n),s=yield function(c,h){const p=mt(c),_=mt(p.Bs);return p.persistence.runTransaction("Lookup mutation documents","readonly",E=>_.fn(E,h).next(S=>S?p.ci.Ks(E,S):Ne.resolve(null)))}(r.localStore,e);var h;null!==s?("pending"===t?yield Et(r.remoteStore):"acknowledged"===t||"rejected"===t?(Dk(r,e,i||null),Tk(r,e),h=e,mt(mt(r.localStore).Bs)._n(h)):Mt(),yield dh(r,s)):tt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Rk.apply(this,arguments)}function Ok(){return Ok=(0,Fe.Z)(function*(n,e){const t=mt(n);if(Lk(t),Vk(t),!0===e&&!0!==t.ha){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield dP(t,i.toArray());t.ha=!0,yield sk(t.remoteStore,!0);for(const s of r)o(t.remoteStore,s)}else if(!1===e&&!1!==t.ha){const i=[];let r=Promise.resolve();t.na.forEach((s,c)=>{t.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(Ky(t,c),Jm(t.localStore,c,!0))),l(t.remoteStore,c)}),yield r,yield dP(t,i),function(s){const c=mt(s);c.ra.forEach((h,p)=>{l(c.remoteStore,p)}),c.oa.bi(),c.ra=new Map,c.ia=new ar(dt.comparator)}(t),t.ha=!1,yield sk(t.remoteStore,!1)}}),Ok.apply(this,arguments)}function dP(n,e,t){return Nk.apply(this,arguments)}function Nk(){return Nk=(0,Fe.Z)(function*(n,e,t){const i=mt(n),r=[],s=[];for(const c of e){let h;const p=i.na.get(c);if(p&&0!==p.length){h=yield Qm(i.localStore,Ba(p[0]));for(const _ of p){const E=i.ea.get(_),S=yield Cj(i,E);S.snapshot&&s.push(S.snapshot)}}else{const _=yield Xm(i.localStore,c);h=yield Qm(i.localStore,_),yield mk(i,hP(_),c,!1)}r.push(h)}return i.ta.Qo(s),r}),Nk.apply(this,arguments)}function hP(n){return gD(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Ij(n){const e=mt(n);return mt(mt(e.localStore).persistence).Fs()}function Sj(n,e,t,i){return Pk.apply(this,arguments)}function Pk(){return Pk=(0,Fe.Z)(function*(n,e,t,i){const r=mt(n);if(r.ha)return void tt("SyncEngine","Ignoring unexpected query state notification.");const s=r.na.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const c=yield lI(r.localStore,_D(s[0])),h=Lm.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield dh(r,c,h);break}case"rejected":yield Jm(r.localStore,e,!0),Ky(r,e,i);break;default:Mt()}}),Pk.apply(this,arguments)}function Aj(n,e,t){return Fk.apply(this,arguments)}function Fk(){return Fk=(0,Fe.Z)(function*(n,e,t){const i=Lk(n);if(i.ha){for(const r of e){if(i.na.has(r)){tt("SyncEngine","Adding an already active target "+r);continue}const s=yield Xm(i.localStore,r),c=yield Qm(i.localStore,s);yield mk(i,hP(s),c.targetId,!1),o(i.remoteStore,c)}for(const r of t)i.na.has(r)&&(yield Jm(i.localStore,r,!1).then(()=>{l(i.remoteStore,r),Ky(i,r)}).catch(ah))}}),Fk.apply(this,arguments)}function Lk(n){const e=mt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=lP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mj.bind(null,e),e.ta.Qo=sj.bind(null,e.eventManager),e.ta.fa=oj.bind(null,e.eventManager),e}function Vk(n){const e=mt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_j.bind(null,e),e}class fP{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Fe.Z)(function*(){t.M=rg(e.databaseInfo.databaseId),t.sharedClientState=t._a(e),t.persistence=t.wa(e),yield t.persistence.start(),t.gcScheduler=t.ma(e),t.localStore=t.ga(e)})()}ma(e){return null}ga(e){return ZM(this.persistence,new sI,e.initialUser,this.M)}wa(e){return new KN(Tw.zi,this.M)}_a(e){return new Gy}terminate(){var e=this;return(0,Fe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class pP extends fP{constructor(e,t,i){super(),this.ya=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,Fe.Z)(function*(){yield t().call(i,e),yield i.ya.initialize(i,e),yield Vk(i.ya.syncEngine),yield Et(i.ya.remoteStore),yield i.persistence.Ts(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}ga(e){return ZM(this.persistence,new sI,e.initialUser,this.M)}ma(e){return new hl(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}wa(e){const t=Cw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Vo.withCacheSize(this.cacheSizeBytes):Vo.DEFAULT;return new Ym(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,nk(),Mw(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(e){return new Gy}}class Mj extends pP{constructor(e,t){super(e,t,!1),this.ya=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,Fe.Z)(function*(){yield t().call(i,e);const r=i.ya.syncEngine;i.sharedClientState instanceof jy&&(i.sharedClientState.syncEngine={Mr:Tj.bind(null,r),Or:Sj.bind(null,r),Fr:Aj.bind(null,r),Fs:Ij.bind(null,r),kr:Ej.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ts(function(){var s=(0,Fe.Z)(function*(c){yield function Dj(n,e){return Ok.apply(this,arguments)}(i.ya.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):c||i.gcScheduler.stop())});return function(c){return s.apply(this,arguments)}}())})()}_a(e){const t=nk();if(!jy.vt(t))throw new ze(De.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=Cw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new jy(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class Bk{initialize(e,t){var i=this;return(0,Fe.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>cP(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=bj.bind(null,i.syncEngine),yield sk(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new rj}createDatastore(e){const t=rg(e.databaseInfo.databaseId),i=new tk(e.databaseInfo);return new eP(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=h=>cP(this.syncEngine,h,0),c=Aw.vt()?new Aw:new QN,new rk(t,i,r,s,c);var t,i,r,s,c}createSyncEngine(e,t){return function(i,r,s,c,h,p,_){const E=new dj(i,r,s,c,h,p);return _&&(E.ha=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Fe.Z)(function*(t){const i=mt(t);tt("RemoteStore","RemoteStore shutting down."),i.fu.add(5),yield sg(i),i._u.shutdown(),i.wu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function mP(n,e=10240){let t=0;return{read:()=>(0,Fe.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,Fe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class _I{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class kj{constructor(e,t){this.Ta=e,this.M=t,this.metadata=new cs,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(i=>{i&&i.xu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ta.cancel()}getMetadata(){var e=this;return(0,Fe.Z)(function*(){return e.metadata.promise})()}da(){var e=this;return(0,Fe.Z)(function*(){return yield e.getMetadata(),e.Aa()})()}Aa(){var e=this;return(0,Fe.Z)(function*(){const t=yield e.Ra();if(null===t)return null;const i=e.Ea.decode(t),r=Number(i);isNaN(r)&&e.Pa(`length string (${i}) is not valid number`);const s=yield e.ba(r);return new aj(JSON.parse(s),t.length+r)})()}Va(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ra(){var e=this;return(0,Fe.Z)(function*(){for(;e.Va()<0&&!(yield e.va()););if(0===e.buffer.length)return null;const t=e.Va();t<0&&e.Pa("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}ba(e){var t=this;return(0,Fe.Z)(function*(){for(;t.buffer.length<e;)(yield t.va())&&t.Pa("Reached the end of bundle when more is expected.");const i=t.Ea.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Pa(e){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${e}`)}va(){var e=this;return(0,Fe.Z)(function*(){const t=yield e.Ta.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class Rj{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Fe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new ze(De.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Fe.Z)(function*(s,c){const h=mt(s),p=th(h.M)+"/documents",_={documents:c.map(j=>Hm(h.M,j))},E=yield h.ho("BatchGetDocuments",p,_),S=new Map;E.forEach(j=>{const z=function UN(n,e){return"found"in e?function(t,i){rn(!!i.found);const r=Jl(t,i.found.name),s=us(i.found.updateTime),c=new zs({mapValue:{fields:i.found.fields}});return Ai.newFoundDocument(r,s,c)}(n,e):"missing"in e?function(t,i){rn(!!i.missing),rn(!!i.readTime);const r=Jl(t,i.missing),s=us(i.readTime);return Ai.newNoDocument(r,s)}(n,e):Mt()}(h.M,j);S.set(z.key.toString(),z)});const N=[];return c.forEach(j=>{const z=S.get(j.toString());rn(!!z),N.push(z)}),N}),function(s,c){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Pf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Fe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const s=dt.fromPath(r);e.mutations.push(new $b(s,e.precondition(s)))}),yield(i=(0,Fe.Z)(function*(r,s){const c=mt(r),h=th(c.M)+"/documents",p={writes:s.map(_=>nh(c.M,_))};yield c.oo("Commit",h,p)}),function(r,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Mt();t=tn.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new ze(De.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?br.updateTime(t):br.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(tn.min()))throw new ze(De.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return br.updateTime(t)}return br.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Oj{constructor(e,t,i,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=i,this.deferred=r,this.Sa=5,this.Do=new kw(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var e=this;this.Do.To((0,Fe.Z)(function*(){const t=new Rj(e.datastore),i=e.Ca(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(s=>{e.xa(s)}))}).catch(r=>{e.xa(r)})}))}Ca(e){try{const t=this.updateFunction(e);return!cl(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}xa(e){this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(e)}Na(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!qb(t)}return!1}}class Nj{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Is.UNAUTHENTICATED,this.clientId=vm.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,Fe.Z)(function*(h){tt("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(tt("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Fe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ze(De.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Fe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Wy(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function gP(n,e){return Uk.apply(this,arguments)}function Uk(){return Uk=(0,Fe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),tt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,Fe.Z)(function*(s){i.isEqual(s)||(yield YM(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Uk.apply(this,arguments)}function _P(n,e){return Hk.apply(this,arguments)}function Hk(){return Hk=(0,Fe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield jk(n);tt("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>qy(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>qy(e.remoteStore,s)),n.onlineComponents=e}),Hk.apply(this,arguments)}function jk(n){return Gk.apply(this,arguments)}function Gk(){return Gk=(0,Fe.Z)(function*(n){return n.offlineComponents||(tt("FirestoreClient","Using default OfflineComponentProvider"),yield gP(n,new fP)),n.offlineComponents}),Gk.apply(this,arguments)}function yI(n){return $k.apply(this,arguments)}function $k(){return $k=(0,Fe.Z)(function*(n){return n.onlineComponents||(tt("FirestoreClient","Using default OnlineComponentProvider"),yield _P(n,new Bk)),n.onlineComponents}),$k.apply(this,arguments)}function yP(n){return jk(n).then(e=>e.persistence)}function qk(n){return jk(n).then(e=>e.localStore)}function vP(n){return yI(n).then(e=>e.remoteStore)}function zk(n){return yI(n).then(e=>e.syncEngine)}function Qy(n){return Wk.apply(this,arguments)}function Wk(){return Wk=(0,Fe.Z)(function*(n){const e=yield yI(n),t=e.eventManager;return t.onListen=hj.bind(null,e.syncEngine),t.onUnlisten=fj.bind(null,e.syncEngine),t}),Wk.apply(this,arguments)}function bP(n,e,t={}){const i=new cs;return n.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return function(r,s,c,h,p){const _=new _I({next:S=>{s.enqueueAndForget(()=>uk(r,E));const N=S.docs.has(c);!N&&S.fromCache?p.reject(new ze(De.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&S.fromCache&&h&&"server"===h.source?p.reject(new ze(De.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(S)},error:S=>p.reject(S)}),E=new fk(Rf(c.path),_,{includeMetadataChanges:!0,Cu:!0});return lk(r,E)}(yield Qy(n),n.asyncQueue,e,t,i)})),i.promise}function wP(n,e,t={}){const i=new cs;return n.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return function(r,s,c,h,p){const _=new _I({next:S=>{s.enqueueAndForget(()=>uk(r,E)),S.fromCache&&"server"===h.source?p.reject(new ze(De.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(S)},error:S=>p.reject(S)}),E=new fk(c,_,{includeMetadataChanges:!0,Cu:!0});return lk(r,E)}(yield Qy(n),n.asyncQueue,e,t,i)})),i.promise}const CP=new Map;function Zk(n,e,t){if(!t)throw new ze(De.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function EP(n,e,t,i){if(!0===e&&!0===i)throw new ze(De.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function TP(n){if(!dt.isDocumentKey(n))throw new ze(De.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function DP(n){if(dt.isDocumentKey(n))throw new ze(De.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function vI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Mt()}function ti(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ze(De.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vI(n);throw new ze(De.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function IP(n,e){if(e<=0)throw new ze(De.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class SP{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ze(De.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ze(De.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,EP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pw{constructor(e,t,i){this._authCredentials=t,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new SP({}),this._settingsFrozen=!1,e instanceof qc?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ze(De.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qc(r.options.projectId)}(e))}get app(){if(!this._app)throw new ze(De.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ze(De.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new SP(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new PN;switch(t.type){case"gapi":const i=t.client;return rn(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new ZT(i,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new ze(De.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=CP.get(e);t&&(tt("ComponentProvider","Removing Datastore"),CP.delete(e),t.terminate())}(this),Promise.resolve()}}class Qi{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qi(this.firestore,e,this._key)}}class Uo{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Uo(this.firestore,e,this._query)}}class Yu extends Uo{constructor(e,t,i){super(e,t,Rf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qi(this.firestore,null,new dt(e))}withConverter(e){return new Yu(this.firestore,e,this._path)}}function AP(n,e,...t){if(n=(0,H.m9)(n),Zk("collection","path",e),n instanceof Pw){const i=$n.fromString(e,...t);return DP(i),new Yu(n,null,i)}{if(!(n instanceof Qi||n instanceof Yu))throw new ze(De.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child($n.fromString(e,...t));return DP(i),new Yu(n.firestore,null,i)}}function bI(n,e,...t){if(n=(0,H.m9)(n),1===arguments.length&&(e=vm.R()),Zk("doc","path",e),n instanceof Pw){const i=$n.fromString(e,...t);return TP(i),new Qi(n,null,new dt(i))}{if(!(n instanceof Qi||n instanceof Yu))throw new ze(De.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child($n.fromString(e,...t));return TP(i),new Qi(n.firestore,n instanceof Yu?n.converter:null,new dt(i))}}function xP(n,e){return n=(0,H.m9)(n),e=(0,H.m9)(e),(n instanceof Qi||n instanceof Yu)&&(e instanceof Qi||e instanceof Yu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function MP(n,e){return n=(0,H.m9)(n),e=(0,H.m9)(e),n instanceof Uo&&e instanceof Uo&&n.firestore===e.firestore&&Am(n._query,e._query)&&n.converter===e.converter}class qj{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new kw(this,"async_queue_retry"),this.qa=()=>{const t=Mw();t&&tt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Do.Ao()};const e=Mw();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const t=Mw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const t=new cs;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}Qa(){var e=this;return(0,Fe.Z)(function*(){if(0!==e.Ma.length){try{yield e.Ma[0](),e.Ma.shift(),e.Do.reset()}catch(t){if(!Wu(t))throw t;tt("AsyncQueue","Operation failed with retryable error: "+t)}e.Ma.length>0&&e.Do.To(()=>e.Qa())}})()}Ga(e){const t=this.ka.then(()=>(this.Ba=!0,e().catch(i=>{throw this.$a=i,this.Ba=!1,vr("INTERNAL UNHANDLED ERROR: ",function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),c}(i)),i}).then(i=>(this.Ba=!1,i))));return this.ka=t,t}enqueueAfterDelay(e,t,i){this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);const r=ak.createAndSchedule(this,e,t,i,s=>this.ja(s));return this.Fa.push(r),r}Ka(){this.$a&&Mt()}verifyOperationInProgress(){}Wa(){var e=this;return(0,Fe.Z)(function*(){let t;do{t=e.ka,yield t}while(t!==e.ka)})()}za(e){for(const t of this.Fa)if(t.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Fa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}function Yk(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class zj{constructor(){this._progressObserver={},this._taskCompletionResolver=new cs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class lr extends Pw{constructor(e,t,i){super(e,t,i),this.type="firestore",this._queue=new qj,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||kP(this),this._firestoreClient.terminate()}}function hs(n){return n._firestoreClient||kP(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function kP(n){var e;const t=n._freezeSettings(),i=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new QT(n._databaseId,s,n._persistenceKey,(h=t).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var s,h;n._firestoreClient=new Nj(n._authCredentials,n._appCheckCredentials,n._queue,i)}function RP(n,e,t){const i=new cs;return n.asyncQueue.enqueue((0,Fe.Z)(function*(){try{yield gP(n,t),yield _P(n,e),i.resolve()}catch(r){if(!("FirebaseError"===(s=r).name?s.code===De.FAILED_PRECONDITION||s.code===De.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var s})).then(()=>i.promise)}function OP(n){if(n._initialized||n._terminated)throw new ze(De.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class hh{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ze(De.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ku{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ku(Qr.fromBase64String(e))}catch(t){throw new ze(De.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ku(Qr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class dg{constructor(e){this._methodName=e}}class wI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ze(De.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ze(De.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return bn(this._lat,e._lat)||bn(this._long,e._long)}}const n3=/^__.*__$/;class r3{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Ua(e,this.data,this.fieldMask,t,this.fieldTransforms):new Nm(e,this.data,t,this.fieldTransforms)}}class NP{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ua(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function PP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mt()}}class CI{constructor(e,t,i,r,s,c){this.settings=e,this.databaseId=t,this.M=i,this.ignoreUndefinedProperties=r,void 0===s&&this.Ya(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new CI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:i,ec:!1});return r.nc(e),r}sc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:i,ec:!1});return r.Ya(),r}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return DI(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(PP(this.Xa)&&n3.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class s3{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=i||rg(e)}ac(e,t,i,r=!1){return new CI({Xa:e,methodName:t,uc:i,path:Kr.emptyPath(),ec:!1,oc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function hg(n){const e=n._freezeSettings(),t=rg(n._databaseId);return new s3(n._databaseId,!!e.ignoreUndefinedProperties,t)}function EI(n,e,t,i,r,s={}){const c=n.ac(s.merge||s.mergeFields?2:0,e,t,r);Xk("Data must be an object, but it was:",c,i);const h=VP(i,c);let p,_;if(s.merge)p=new Df(c.fieldMask),_=c.fieldTransforms;else if(s.mergeFields){const E=[];for(const S of s.mergeFields){const N=eR(e,S,t);if(!c.contains(N))throw new ze(De.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);UP(E,N)||E.push(N)}p=new Df(E),_=c.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,_=c.fieldTransforms;return new r3(new zs(h),p,_)}class Fw extends dg{_toFieldTransform(e){if(2!==e.Xa)throw e.rc(1===e.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fw}}function FP(n,e,t){return new CI({Xa:3,uc:e.settings.uc,methodName:n._methodName,ec:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class Kk extends dg{_toFieldTransform(e){return new qu(e.path,new Yd)}isEqual(e){return e instanceof Kk}}class o3 extends dg{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=FP(this,e,!0),i=this.cc.map(s=>fg(s,t)),r=new Kd(i);return new qu(e.path,r)}isEqual(e){return this===e}}class a3 extends dg{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=FP(this,e,!0),i=this.cc.map(s=>fg(s,t)),r=new Qd(i);return new qu(e.path,r)}isEqual(e){return this===e}}class l3 extends dg{constructor(e,t){super(e),this.hc=t}_toFieldTransform(e){const t=new Jd(e.M,vD(e.M,this.hc));return new qu(e.path,t)}isEqual(e){return this===e}}function Qk(n,e,t,i){const r=n.ac(1,e,t);Xk("Data must be an object, but it was:",r,i);const s=[],c=zs.empty();qd(i,(p,_)=>{const E=TI(e,p,t);_=(0,H.m9)(_);const S=r.sc(E);if(_ instanceof Fw)s.push(E);else{const N=fg(_,S);null!=N&&(s.push(E),c.set(E,N))}});const h=new Df(s);return new NP(c,h,r.fieldTransforms)}function Jk(n,e,t,i,r,s){const c=n.ac(1,e,t),h=[eR(e,i,t)],p=[r];if(s.length%2!=0)throw new ze(De.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<s.length;N+=2)h.push(eR(e,s[N])),p.push(s[N+1]);const _=[],E=zs.empty();for(let N=h.length-1;N>=0;--N)if(!UP(_,h[N])){const j=h[N];let z=p[N];z=(0,H.m9)(z);const le=c.sc(j);if(z instanceof Fw)_.push(j);else{const we=fg(z,le);null!=we&&(_.push(j),E.set(j,we))}}const S=new Df(_);return new NP(E,S,c.fieldTransforms)}function LP(n,e,t,i=!1){return fg(t,n.ac(i?4:3,e))}function fg(n,e){if(BP(n=(0,H.m9)(n)))return Xk("Unsupported field value:",e,n),VP(n,e);if(n instanceof dg)return function(t,i){if(!PP(i.Xa))throw i.rc(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.rc(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ec&&4!==e.Xa)throw e.rc("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const c of t){let h=fg(c,i.ic(s));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,H.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return vD(i.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=wn.fromDate(t);return{timestampValue:Kc(i.M,r)}}if(t instanceof wn){const r=new wn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Kc(i.M,r)}}if(t instanceof wI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ku)return{bytesValue:xD(i.M,t._byteString)};if(t instanceof Qi){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i.rc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Bf(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.rc(`Unsupported field value: ${vI(t)}`)}(n,e)}function VP(n,e){const t={};return YT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qd(n,(i,r)=>{const s=fg(r,e.tc(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function BP(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof wn||n instanceof wI||n instanceof Ku||n instanceof Qi||n instanceof dg)}function Xk(n,e,t){if(!BP(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=vI(t);throw e.rc("an object"===i?n+" a custom object":n+" "+i)}var i}function eR(n,e,t){if((e=(0,H.m9)(e))instanceof hh)return e._internalPath;if("string"==typeof e)return TI(n,e);throw DI("Field path arguments must be of type string or ",n,!1,void 0,t)}const c3=new RegExp("[~\\*/\\[\\]]");function TI(n,e,t){if(e.search(c3)>=0)throw DI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new hh(...e.split("."))._internalPath}catch(i){throw DI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function DI(n,e,t,i,r){const s=i&&!i.isEmpty(),c=void 0!==r;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(s||c)&&(p+=" (found",s&&(p+=` in field ${i}`),c&&(p+=` in document ${r}`),p+=")"),new ze(De.INVALID_ARGUMENT,h+n+p)}function UP(n,e){return n.some(t=>t.isEqual(e))}class Lw{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Qi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new u3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(II("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class u3 extends Lw{data(){return super.data()}}function II(n,e){return"string"==typeof e?TI(n,e):e instanceof hh?e._internalPath:e._delegate._internalPath}class pg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fh extends Lw{constructor(e,t,i,r,s,c){super(e,t,i,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Vw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(II("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Vw extends fh{data(e={}){return super.data(e)}}class Wf{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new pg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Vw(this._firestore,this._userDataWriter,i.key,i,new pg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ze(De.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new Vw(i._firestore,i._userDataWriter,c.doc.key,c.doc,new pg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const h=new Vw(i._firestore,i._userDataWriter,c.doc.key,c.doc,new pg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,_=-1;return 0!==c.type&&(p=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),1!==c.type&&(s=s.add(c.doc),_=s.indexOf(c.doc.key)),{type:d3(c.type),doc:h,oldIndex:p,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function d3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mt()}}function HP(n,e){return n instanceof fh&&e instanceof fh?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Wf&&e instanceof Wf&&n._firestore===e._firestore&&MP(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function jP(n){if(Of(n)&&0===n.explicitOrderBy.length)throw new ze(De.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bw{}function Zf(n,...e){for(const t of e)n=t._apply(n);return n}class h3 extends Bw{constructor(e,t,i){super(),this.lc=e,this.fc=t,this.dc=i,this.type="where"}_apply(e){const t=hg(e.firestore),i=function(r,s,c,h,p,_,E){let S;if(p.isKeyField()){if("array-contains"===_||"array-contains-any"===_)throw new ze(De.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if("in"===_||"not-in"===_){ZP(E,_);const j=[];for(const z of E)j.push(WP(h,r,z));S={arrayValue:{values:j}}}else S=WP(h,r,E)}else"in"!==_&&"not-in"!==_&&"array-contains-any"!==_||ZP(E,_),S=LP(c,"where",E,"in"===_||"not-in"===_);const N=Ss.create(p,_,S);return function(j,z){if(z.S()){const we=py(j);if(null!==we&&!we.isEqual(z.field))throw new ze(De.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${we.toString()}' and '${z.field.toString()}'`);const pt=Im(j);null!==pt&&YP(0,z.field,pt)}const le=function(we,pt){for(const _t of we.filters)if(pt.indexOf(_t.op)>=0)return _t.op;return null}(j,function(we){switch(we){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(z.op));if(null!==le)throw new ze(De.INVALID_ARGUMENT,le===z.op?`Invalid query. You cannot use more than one '${z.op.toString()}' filter.`:`Invalid query. You cannot use '${z.op.toString()}' filters with '${le.toString()}' filters.`)}(r,N),N}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new Uo(e.firestore,e.converter,function(r,s){const c=r.filters.concat([s]);return new Kl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),c,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class p3 extends Bw{constructor(e,t){super(),this.lc=e,this._c=t,this.type="orderBy"}_apply(e){const t=function(i,r,s){if(null!==i.startAt)throw new ze(De.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new ze(De.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Zd(r,s);return function(h,p){if(null===Im(h)){const _=py(h);null!==_&&YP(0,_,p.field)}}(i,c),c}(e._query,this.lc,this._c);return new Uo(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new Kl(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class GP extends Bw{constructor(e,t,i){super(),this.type=e,this.wc=t,this.mc=i}_apply(e){return new Uo(e.firestore,e.converter,my(e._query,this.wc,this.mc))}}class $P extends Bw{constructor(e,t,i){super(),this.type=e,this.gc=t,this.yc=i}_apply(e){const t=zP(e,this.type,this.gc,this.yc);return new Uo(e.firestore,e.converter,(r=t,new Kl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class qP extends Bw{constructor(e,t,i){super(),this.type=e,this.gc=t,this.yc=i}_apply(e){const t=zP(e,this.type,this.gc,this.yc);return new Uo(e.firestore,e.converter,(r=t,new Kl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function zP(n,e,t,i){if(t[0]=(0,H.m9)(t[0]),t[0]instanceof Lw)return function(r,s,c,h,p){if(!h)throw new ze(De.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const _=[];for(const E of Nf(r))if(E.field.isKeyField())_.push(xf(s,h.key));else{const S=h.data.field(E.field);if(If(S))throw new ze(De.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const N=E.field.canonicalString();throw new ze(De.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${N}' (used as the orderBy) does not exist.`)}_.push(S)}return new $u(_,p)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=hg(n.firestore);return function(s,c,h,p,_,E){const S=s.explicitOrderBy;if(_.length>S.length)throw new ze(De.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const N=[];for(let j=0;j<_.length;j++){const z=_[j];if(S[j].field.isKeyField()){if("string"!=typeof z)throw new ze(De.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof z}`);if(!Sm(s)&&-1!==z.indexOf("/"))throw new ze(De.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${z}' contains a slash.`);const le=s.path.child($n.fromString(z));if(!dt.isDocumentKey(le))throw new ze(De.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${le}' is not because it contains an odd number of segments.`);const we=new dt(le);N.push(xf(c,we))}else{const le=LP(h,p,z);N.push(le)}}return new $u(N,E)}(n._query,n.firestore._databaseId,r,e,t,i)}}function WP(n,e,t){if("string"==typeof(t=(0,H.m9)(t))){if(""===t)throw new ze(De.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sm(e)&&-1!==t.indexOf("/"))throw new ze(De.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child($n.fromString(t));if(!dt.isDocumentKey(i))throw new ze(De.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return xf(n,new dt(i))}if(t instanceof Qi)return xf(n,t._key);throw new ze(De.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vI(t)}.`)}function ZP(n,e){if(!Array.isArray(n)||0===n.length)throw new ze(De.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new ze(De.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function YP(n,e,t){if(!t.isEqual(e))throw new ze(De.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class tR{convertValue(e,t="none"){switch(Gu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return or(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(zd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Mt()}}convertObject(e,t){const i={};return qd(e.fields,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new wI(or(e.latitude),or(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Nb(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Sf(e));default:return null}}convertTimestamp(e){const t=ju(e);return new wn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=$n.fromString(e);rn(ew(i));const r=new qc(i.get(1),i.get(3)),s=new dt(i.popFirst(5));return r.isEqual(t)||vr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function SI(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class C3 extends tR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ku(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qi(this.firestore,null,t)}}class KP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=hg(e)}set(e,t,i){this._verifyNotCommitted();const r=Yf(e,this._firestore),s=SI(r.converter,t,i),c=EI(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,br.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const s=Yf(e,this._firestore);let c;return c="string"==typeof(t=(0,H.m9)(t))||t instanceof hh?Jk(this._dataReader,"WriteBatch.update",s._key,t,i,r):Qk(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(c.toMutation(s._key,br.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Yf(e,this._firestore);return this._mutations=this._mutations.concat(new Pf(t._key,br.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ze(De.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Yf(n,e){if((n=(0,H.m9)(n)).firestore!==e)throw new ze(De.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class mg extends tR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ku(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qi(this.firestore,null,t)}}function QP(n,e,t){n=ti(n,Qi);const i=ti(n.firestore,lr),r=SI(n.converter,e,t);return Jy(i,[EI(hg(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,br.none())])}function JP(n,e,t,...i){n=ti(n,Qi);const r=ti(n.firestore,lr),s=hg(r);let c;return c="string"==typeof(e=(0,H.m9)(e))||e instanceof hh?Jk(s,"updateDoc",n._key,e,t,i):Qk(s,"updateDoc",n._key,e),Jy(r,[c.toMutation(n._key,br.exists(!0))])}function XP(n,...e){var t,i,r;n=(0,H.m9)(n);let s={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||Yk(e[c])||(s=e[c],c++);const h={includeMetadataChanges:s.includeMetadataChanges};if(Yk(e[c])){const S=e[c];e[c]=null===(t=S.next)||void 0===t?void 0:t.bind(S),e[c+1]=null===(i=S.error)||void 0===i?void 0:i.bind(S),e[c+2]=null===(r=S.complete)||void 0===r?void 0:r.bind(S)}let p,_,E;if(n instanceof Qi)_=ti(n.firestore,lr),E=Rf(n._key.path),p={next:S=>{e[c]&&e[c](nR(_,n,S))},error:e[c+1],complete:e[c+2]};else{const S=ti(n,Uo);_=ti(S.firestore,lr),E=S._query;const N=new mg(_);p={next:j=>{e[c]&&e[c](new Wf(_,N,S,j))},error:e[c+1],complete:e[c+2]},jP(n._query)}return function(S,N,j,z){const le=new _I(z),we=new fk(N,le,j);return S.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return lk(yield Qy(S),we)})),()=>{le.Ia(),S.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return uk(yield Qy(S),we)}))}}(hs(_),E,h,p)}function Jy(n,e){return function(t,i){const r=new cs;return t.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return function pj(n,e,t){return yk.apply(this,arguments)}(yield zk(t),i,r)})),r.promise}(hs(n),e)}function nR(n,e,t){const i=t.docs.get(e._key),r=new mg(n);return new fh(n,r,e._key,i,new pg(t.hasPendingWrites,t.fromCache),e.converter)}class R3 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=hg(e)}get(e){const t=Yf(e,this._firestore),i=new C3(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return Mt();const s=r[0];if(s.isFoundDocument())return new Lw(this._firestore,i,s.key,s,t.converter);if(s.isNoDocument())return new Lw(this._firestore,i,t._key,null,t.converter);throw Mt()})}set(e,t,i){const r=Yf(e,this._firestore),s=SI(r.converter,t,i),c=EI(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(e,t,i,...r){const s=Yf(e,this._firestore);let c;return c="string"==typeof(t=(0,H.m9)(t))||t instanceof hh?Jk(this._dataReader,"Transaction.update",s._key,t,i,r):Qk(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,c),this}delete(e){const t=Yf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Yf(e,this._firestore),i=new mg(this._firestore);return super.get(e).then(r=>new fh(this._firestore,i,t._key,r._document,new pg(!1,!1),t.converter))}}function iR(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ze("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function tF(){if("undefined"==typeof Uint8Array)throw new ze("unimplemented","Uint8Arrays are not available in this environment.")}function nF(){if(!function oM(){return"undefined"!=typeof atob}())throw new ze("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Cf=oi.SDK_VERSION,(0,oi._registerComponent)(new kr.wA("firestore",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),s=new lr(r,new FN(t.getProvider("auth-internal")),new Wt(t.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC")),(0,oi.registerVersion)(qT,"3.4.8",n),(0,oi.registerVersion)(qT,"3.4.8","esm2017")}();class Uw{constructor(e){this._delegate=e}static fromBase64String(e){return nF(),new Uw(Ku.fromBase64String(e))}static fromUint8Array(e){return tF(),new Uw(Ku.fromUint8Array(e))}toBase64(){return nF(),this._delegate.toBase64()}toUint8Array(){return tF(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function rR(n){return function H3(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class j3{enableIndexedDbPersistence(e,t){return function Zj(n,e){OP(n=ti(n,lr));const t=hs(n),i=n._freezeSettings(),r=new Bk;return RP(t,r,new pP(r,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Yj(n){OP(n=ti(n,lr));const e=hs(n),t=n._freezeSettings(),i=new Bk;return RP(e,i,new Mj(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Kj(n){if(n._initialized&&!n._terminated)throw new ze(De.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new cs;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Fe.Z)(function*(){try{yield(t=(0,Fe.Z)(function*(i){if(!Xl.vt())return Promise.resolve();const r=i+"main";yield Xl.delete(r)}),function(i){return t.apply(this,arguments)})(Cw(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class iF{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof qc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ef("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function Gj(n,e,t,i={}){var r;const s=(n=ti(n,Pw))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Ef("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let c,h;if("string"==typeof i.mockUserToken)c=i.mockUserToken,h=Is.MOCK_USER;else{c=(0,H.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new ze(De.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Is(p)}n._authCredentials=new Rb(new $d(c,h))}}(this._delegate,e,t,i)}enableNetwork(){return function Jj(n){return function Pj(n){return n.asyncQueue.enqueue((0,Fe.Z)(function*(){const e=yield yP(n),t=yield vP(n);return e.setNetworkEnabled(!0),function(i){const r=mt(i);return r.fu.delete(0),$y(r)}(t)}))}(hs(n=ti(n,lr)))}(this._delegate)}disableNetwork(){return function Xj(n){return function Fj(n){return n.asyncQueue.enqueue((0,Fe.Z)(function*(){const e=yield yP(n),t=yield vP(n);return e.setNetworkEnabled(!1),(i=(0,Fe.Z)(function*(r){const s=mt(r);s.fu.add(0),yield sg(s),s.wu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(hs(n=ti(n,lr)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,EP("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Qj(n){return function(e){const t=new cs;return e.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return function yj(n,e){return Ek.apply(this,arguments)}(yield zk(e),t)})),t.promise}(hs(n=ti(n,lr)))}(this._delegate)}onSnapshotsInSync(e){return function k3(n,e){return function Bj(n,e){const t=new _I(e);return n.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return i=yield Qy(n),r=t,mt(i).Eu.add(r),void r.next();var i,r})),()=>{t.Ia(),n.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return i=yield Qy(n),r=t,void mt(i).Eu.delete(r);var i,r}))}}(hs(n=ti(n,lr)),Yk(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ze("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Xy(this,AP(this._delegate,e))}catch(t){throw fa(t,"collection()","Firestore.collection()")}}doc(e){try{return new tc(this,bI(this._delegate,e))}catch(t){throw fa(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new pa(this,function $j(n,e){if(n=ti(n,Pw),Zk("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ze(De.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Uo(n,null,(t=e,new Kl($n.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw fa(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function O3(n,e){return function Uj(n,e){const t=new cs;return n.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){const i=yield(r=n,yI(r).then(s=>s.datastore));var r;new Oj(n.asyncQueue,i,e,t).run()})),t.promise}(hs(n=ti(n,lr)),t=>e(new R3(n,t)))}(this._delegate,t=>e(new rF(this,t)))}batch(){return hs(this._delegate),new sF(new KP(this._delegate,e=>Jy(this._delegate,e)))}loadBundle(e){return function e3(n,e){const t=hs(n=ti(n,lr)),i=new zj;return function Hj(n,e,t,i){const r=function(s,c){let h;return h="string"==typeof s?(new TextEncoder).encode(s):s,p=function(p,_){if(p instanceof Uint8Array)return mP(p,_);if(p instanceof ArrayBuffer)return mP(new Uint8Array(p),_);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new kj(p,c);var p}(t,rg(e));n.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){!function xj(n,e,t){const i=mt(n);var r;(r=(0,Fe.Z)(function*(s,c,h){try{const p=yield c.getMetadata();if(yield function(N,j){const z=mt(N),le=us(j.createTime);return z.persistence.runTransaction("hasNewerBundle","readonly",we=>z._s.getBundleMetadata(we,j.id)).then(we=>!!we&&we.createTime.compareTo(le)>=0)}(s.localStore,p))return yield c.close(),h._completeWith({taskState:"Success",documentsLoaded:(N=p).totalDocuments,bytesLoaded:N.totalBytes,totalDocuments:N.totalDocuments,totalBytes:N.totalBytes}),Promise.resolve(new Set);h._updateProgress(rP(p));const _=new lj(p,s.localStore,c.M);let E=yield c.da();for(;E;){const N=yield _.ku(E);N&&h._updateProgress(N),E=yield c.da()}const S=yield _.complete();return yield dh(s,S.Fu,void 0),yield function(N,j){const z=mt(N);return z.persistence.runTransaction("Save bundle","readwrite",le=>z._s.saveBundleMetadata(le,j))}(s.localStore,p),h._completeWith(S.progress),Promise.resolve(S.Ou)}catch(p){return Ef("SyncEngine",`Loading bundle failed with ${p}`),h._failWith(p),Promise.resolve(new Set)}var N}),function(s,c,h){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield zk(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function t3(n,e){return function jj(n,e){return n.asyncQueue.enqueue((0,Fe.Z)(function*(){return function(t,i){const r=mt(t);return r.persistence.runTransaction("Get named query","readonly",s=>r._s.getNamedQuery(s,i))}(yield qk(n),e)}))}(hs(n=ti(n,lr)),e).then(t=>t?new Uo(n,null,t.query):null)}(this._delegate,e).then(t=>t?new pa(this,t):null)}}class AI extends tR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uw(new Ku(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return tc.forKey(t,this.firestore,null)}}class rF{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new AI(e)}get(e){const t=_g(e);return this._delegate.get(t).then(i=>new Hw(this._firestore,new fh(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=_g(e);return i?(iR("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=_g(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=_g(e);return this._delegate.delete(t),this}}class sF{constructor(e){this._delegate=e}set(e,t,i){const r=_g(e);return i?(iR("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=_g(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=_g(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class gg{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Vw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new jw(this._firestore,i),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=gg.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new gg(e,new AI(e),t),r.set(t,s)),s}}gg.INSTANCES=new WeakMap;class tc{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new AI(e)}static forPath(e,t,i){if(e.length%2!=0)throw new ze("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new tc(t,new Qi(t._delegate,i,new dt(e)))}static forKey(e,t,i){return new tc(t,new Qi(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Xy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Xy(this.firestore,AP(this._delegate,e))}catch(t){throw fa(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,H.m9)(e))instanceof Qi&&xP(this._delegate,e)}set(e,t){t=iR("DocumentReference.set",t);try{return t?QP(this._delegate,e,t):QP(this._delegate,e)}catch(i){throw fa(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?JP(this._delegate,e):JP(this._delegate,e,t,...i)}catch(r){throw fa(r,"updateDoc()","DocumentReference.update()")}}delete(){return function x3(n){return Jy(ti(n.firestore,lr),[new Pf(n._key,br.none())])}(this._delegate)}onSnapshot(...e){const t=oF(e),i=aF(e,r=>new Hw(this.firestore,new fh(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return XP(this._delegate,t,i)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function T3(n){n=ti(n,Qi);const e=ti(n.firestore,lr),t=hs(e),i=new mg(e);return function Lj(n,e){const t=new cs;return n.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return(i=(0,Fe.Z)(function*(r,s,c){try{const h=yield function(p,_){const E=mt(p);return E.persistence.runTransaction("read document","readonly",S=>E.ci.Ls(S,_))}(r,s);h.isFoundDocument()?c.resolve(h):h.isNoDocument()?c.resolve(null):c.reject(new ze(De.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const p=Wy(h,`Failed to get document '${s} from cache`);c.reject(p)}}),function(r,s,c){return i.apply(this,arguments)})(yield qk(n),e,t);var i})),t.promise}(t,n._key).then(r=>new fh(e,i,n._key,r,new pg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function D3(n){n=ti(n,Qi);const e=ti(n.firestore,lr);return bP(hs(e),n._key,{source:"server"}).then(t=>nR(e,n,t))}(this._delegate):function E3(n){n=ti(n,Qi);const e=ti(n.firestore,lr);return bP(hs(e),n._key).then(t=>nR(e,n,t))}(this._delegate),t.then(i=>new Hw(this.firestore,new fh(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new tc(this.firestore,this._delegate.withConverter(e?gg.getInstance(this.firestore,e):null))}}function fa(n,e,t){return n.message=n.message.replace(e,t),n}function oF(n){for(const e of n)if("object"==typeof e&&!rR(e))return e;return{}}function aF(n,e){var t,i;let r;return r=rR(n[0])?n[0]:rR(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Hw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new tc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return HP(this._delegate,e._delegate)}}class jw extends Hw{data(e){const t=this._delegate.data(e);return function kb(n,e){n||Mt()}(void 0!==t),t}}class pa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new AI(e)}where(e,t,i){try{return new pa(this.firestore,Zf(this._delegate,function f3(n,e,t){const i=e,r=II("where",n);return new h3(r,i,t)}(e,t,i)))}catch(r){throw fa(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new pa(this.firestore,Zf(this._delegate,function m3(n,e="asc"){const t=e,i=II("orderBy",n);return new p3(i,t)}(e,t)))}catch(i){throw fa(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new pa(this.firestore,Zf(this._delegate,function g3(n){return IP("limit",n),new GP("limit",n,"F")}(e)))}catch(t){throw fa(t,"limit()","Query.limit()")}}limitToLast(e){try{return new pa(this.firestore,Zf(this._delegate,function _3(n){return IP("limitToLast",n),new GP("limitToLast",n,"L")}(e)))}catch(t){throw fa(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new pa(this.firestore,Zf(this._delegate,function y3(...n){return new $P("startAt",n,!0)}(...e)))}catch(t){throw fa(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new pa(this.firestore,Zf(this._delegate,function v3(...n){return new $P("startAfter",n,!1)}(...e)))}catch(t){throw fa(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new pa(this.firestore,Zf(this._delegate,function b3(...n){return new qP("endBefore",n,!1)}(...e)))}catch(t){throw fa(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new pa(this.firestore,Zf(this._delegate,function w3(...n){return new qP("endAt",n,!0)}(...e)))}catch(t){throw fa(t,"endAt()","Query.endAt()")}}isEqual(e){return MP(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function S3(n){n=ti(n,Uo);const e=ti(n.firestore,lr),t=hs(e),i=new mg(e);return function Vj(n,e){const t=new cs;return n.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return(i=(0,Fe.Z)(function*(r,s,c){try{const h=yield Uy(r,s,!0),p=new aP(s,h.li),_=p.Gu(h.documents),E=p.applyChanges(_,!1);c.resolve(E.snapshot)}catch(h){const p=Wy(h,`Failed to execute query '${s} against cache`);c.reject(p)}}),function(r,s,c){return i.apply(this,arguments)})(yield qk(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Wf(e,i,n,r))}(this._delegate):"server"===(null==e?void 0:e.source)?function A3(n){n=ti(n,Uo);const e=ti(n.firestore,lr),t=hs(e),i=new mg(e);return wP(t,n._query,{source:"server"}).then(r=>new Wf(e,i,n,r))}(this._delegate):function I3(n){n=ti(n,Uo);const e=ti(n.firestore,lr),t=hs(e),i=new mg(e);return jP(n._query),wP(t,n._query).then(r=>new Wf(e,i,n,r))}(this._delegate),t.then(i=>new sR(this.firestore,new Wf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=oF(e),i=aF(e,r=>new sR(this.firestore,new Wf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return XP(this._delegate,t,i)}withConverter(e){return new pa(this.firestore,this._delegate.withConverter(e?gg.getInstance(this.firestore,e):null))}}class $3{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new jw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class sR{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new pa(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new jw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new $3(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new jw(this._firestore,i))})}isEqual(e){return HP(this._delegate,e._delegate)}}class Xy extends pa{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new tc(this.firestore,e):null}doc(e){try{return new tc(this.firestore,void 0===e?bI(this._delegate):bI(this._delegate,e))}catch(t){throw fa(t,"doc()","CollectionReference.doc()")}}add(e){return function M3(n,e){const t=ti(n.firestore,lr),i=bI(n),r=SI(n.converter,e);return Jy(t,[EI(hg(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,br.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new tc(this.firestore,t))}isEqual(e){return xP(this._delegate,e._delegate)}withConverter(e){return new Xy(this.firestore,this._delegate.withConverter(e?gg.getInstance(this.firestore,e):null))}}function _g(n){return ti(n,Qi)}class oR{constructor(...e){this._delegate=new hh(...e)}static documentId(){return new oR(Kr.keyField().canonicalString())}isEqual(e){return(e=(0,H.m9)(e))instanceof hh&&this._delegate._internalPath.isEqual(e._internalPath)}}class yg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function P3(){return new Kk("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new yg(e)}static delete(){const e=function N3(){return new Fw("deleteField")}();return e._methodName="FieldValue.delete",new yg(e)}static arrayUnion(...e){const t=function F3(...n){return new o3("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new yg(t)}static arrayRemove(...e){const t=function L3(...n){return new a3("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new yg(t)}static increment(e){const t=function V3(n){return new l3("increment",n)}(e);return t._methodName="FieldValue.increment",new yg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const q3={Firestore:iF,GeoPoint:wI,Timestamp:wn,Blob:Uw,Transaction:rF,WriteBatch:sF,DocumentReference:tc,DocumentSnapshot:Hw,Query:pa,QueryDocumentSnapshot:jw,QuerySnapshot:sR,CollectionReference:Xy,FieldPath:oR,FieldValue:yg,setLogLevel:function G3(n){!function zT(n){Gc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function lF(n,e){return function Z3(n,e=ca.z){return new ji.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=i&&i()}})}(n,e)}function aR(n,e){return lF(n,e).pipe((0,M.U)(t=>({payload:t,type:"query"})))}function xI(n,e){return aR(n,e).pipe(Lc(void 0),Qh(),(0,M.U)(([t,i])=>{const r=i.payload.docChanges(),s=r.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,h)=>{const p=r.find(E=>E.doc.ref.isEqual(c.ref)),_=null==t?void 0:t.payload.docs.find(E=>E.ref.isEqual(c.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(c.metadata)||!p&&_&&JSON.stringify(_.metadata)===JSON.stringify(c.metadata)||s.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:c}})}),s}))}function cF(n,e,t){return xI(n,t).pipe(ir((i,r)=>function K3(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function Q3(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return lR(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return lR(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return lR(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),e),[]),D_(),(0,M.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function lR(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function uF(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function W3(n){(function z3(n,e){n.INTERNAL.registerComponent(new kr.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},q3)))})(n,(e,t)=>new iF(e,t,new j3)),n.registerVersion("@firebase/firestore-compat","0.1.17")}(Jh.Z);class dF{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=xI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,M.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Lc(void 0),Qh(),ae(([i,r])=>r.length>0||!i),(0,M.U)(([i,r])=>r),Gt.iC)}auditTrail(e){return this.stateChanges(e).pipe(ir((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=uF(e);return cF(this.query,t,this.afs.schedulers.outsideAngular).pipe(Gt.iC)}valueChanges(e={}){return aR(this.query,this.afs.schedulers.outsideAngular).pipe((0,M.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Gt.iC)}get(e){return(0,$t.D)(this.query.get(e)).pipe(Gt.iC)}add(e){return this.ref.add(e)}doc(e){return new hF(this.ref.doc(e),this.afs)}}class hF{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:s}=mF(i,t);return new dF(r,s,this.afs)}snapshotChanges(){return function Y3(n,e){return lF(n,e).pipe(Lc(void 0),Qh(),(0,M.U)(([t,i])=>i.exists?(null==t?void 0:t.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Gt.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,M.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,$t.D)(this.ref.get(e)).pipe(Gt.iC)}}class J3{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?xI(this.query,this.afs.schedulers.outsideAngular).pipe((0,M.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),ae(t=>t.length>0),Gt.iC):xI(this.query,this.afs.schedulers.outsideAngular).pipe(Gt.iC)}auditTrail(e){return this.stateChanges(e).pipe(ir((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=uF(e);return cF(this.query,t,this.afs.schedulers.outsideAngular).pipe(Gt.iC)}valueChanges(e={}){return aR(this.query,this.afs.schedulers.outsideAngular).pipe((0,M.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),Gt.iC)}get(e){return(0,$t.D)(this.query.get(e)).pipe(Gt.iC)}}const fF=new a.OlP("angularfire2.enableFirestorePersistence"),pF=new a.OlP("angularfire2.firestore.persistenceSettings"),X3=new a.OlP("angularfire2.firestore.settings"),eG=new a.OlP("angularfire2.firestore.use-emulator");function mF(n,e=(t=>t)){return{query:e(n),ref:n}}let cR=(()=>{class n{constructor(t,i,r,s,c,h,p,_,E,S,N,j,z,le,we,pt,_t){this.schedulers=p;const yt=(0,pi.on)(t,h,i),ht=E;S&&Ip(yt,h,N,z,le,we,j,pt),[this.firestore,this.persistenceEnabled$]=(0,pi.cc)(`${yt.name}.firestore`,"AngularFirestore",yt.name,()=>{const Xt=h.runOutsideAngular(()=>yt.firestore());if(s&&Xt.settings(s),ht&&Xt.useEmulator(...ht),r&&!wo(c)){const ln=()=>{try{return(0,$t.D)(Xt.enablePersistence(_||void 0).then(()=>!0,()=>!1))}catch(Wn){return"undefined"!=typeof console&&console.warn(Wn),bt(!1)}};return[Xt,h.runOutsideAngular(ln)]}return[Xt,bt(!1)]},[s,ht,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:c}=mF(r,i),h=this.schedulers.ngZone.run(()=>s);return new dF(h,c,this)}collectionGroup(t,i){const r=i||(c=>c),s=this.firestore.collectionGroup(t);return new J3(r(s),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new hF(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(pi.Dh),a.LFG(pi.xv,8),a.LFG(fF,8),a.LFG(X3,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Gt.HU),a.LFG(pF,8),a.LFG(eG,8),a.LFG(Ad,8),a.LFG(Ii,8),a.LFG(ra,8),a.LFG(el,8),a.LFG(Gl,8),a.LFG(xu,8),a.LFG(Pc,8),a.LFG(Sd,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),tG=(()=>{class n{constructor(){Vt.Z.registerVersion("angularfire",Gt.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:fF,useValue:!0},{provide:pF,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[cR]}),n})(),vg=(()=>{class n{constructor(t,i,r,s){this.afAuth=t,this.router=i,this.ngZone=r,this.afs=s,this.signInOut()}signInOut(){this.afAuth.authState.subscribe(t=>{t?this.afs.doc(`users/${t.uid}`).valueChanges().subscribe(r=>{console.log(r,"fsd afsadf sdafsad fsda fsdfsd"),localStorage.setItem("user",JSON.stringify(r))}):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}get isLoggedIn(){this.signInOut();const t=JSON.parse(localStorage.getItem("user"));return console.log(t,"user"),null!==t}GoogleAuth(){return this.AuthLogin(new wu.N)}AuthLogin(t){return this.afAuth.signInWithPopup(t).then(i=>{console.log(i,"result"),this.ngZone.run(()=>{this.router.navigate(["home"])})}).catch(i=>{window.alert(i)})}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate(["sign-in"])})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Ad),a.LFG(Ts),a.LFG(a.R0b),a.LFG(cR))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gF=(()=>{class n{constructor(t,i){this.authService=t,this.router=i}canActivate(t,i){return this.authService.isLoggedIn&&(console.log(this.authService.isLoggedIn,"this.authService.isLoggedIn"),window.alert("Access Denied"),this.router.navigate(["home"])),!0}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(vg),a.LFG(Ts))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MI=(()=>{class n{constructor(t,i){this.authService=t,this.router=i}canActivate(t,i){return!0!==this.authService.isLoggedIn&&(window.alert("Access Denied, Login is Required to Access This Page!"),this.router.navigate(["sign-in"])),!0}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(vg),a.LFG(Ts))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _F(n,e=ca.z){return(0,vn.e)((t,i)=>{let r=null,s=null,c=null;const h=()=>{if(r){r.unsubscribe(),r=null;const _=s;s=null,i.next(_)}};function p(){const _=c+n,E=e.now();if(E<_)return r=this.schedule(void 0,_-E),void i.add(r);h()}t.subscribe((0,Xn.x)(i,_=>{s=_,c=e.now(),r||(r=e.schedule(p,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{s=r=null}))})}const yF="firebasestorage.googleapis.com",vF="storageBucket";class Fr extends H.ZR{constructor(e,t){super(uR(e),`Firebase Storage: ${t} (${uR(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Fr.prototype)}_codeEquals(e){return uR(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function uR(n){return"storage/"+n}function dR(){return new Fr("unknown","An unknown error occurred, please check the error payload for server response.")}function bF(){return new Fr("canceled","User canceled the upload/download.")}function wF(){return new Fr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function ev(n){return new Fr("invalid-argument",n)}function CF(){return new Fr("app-deleted","The Firebase app was deleted.")}function EF(n){return new Fr("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Gw(n,e){return new Fr("invalid-format","String does not match format '"+n+"': "+e)}function $w(n){throw new Fr("internal-error","Internal error: "+n)}class Ho{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Ho.makeFromUrl(e,t)}catch(r){return new Ho(e,"")}if(""===i.path)return i;throw function dG(n){return new Fr("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+r+"(/(.*))?$","i");function _(ht){ht.path_=decodeURIComponent(ht.path)}const S=t.replace(/[.]/g,"\\."),yt=[{regex:h,indices:{bucket:1,path:3},postModify:function s(ht){"/"===ht.path.charAt(ht.path.length-1)&&(ht.path_=ht.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${S}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:_},{regex:new RegExp(`^https?://${t===yF?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:_}];for(let ht=0;ht<yt.length;ht++){const Xt=yt[ht],ln=Xt.regex.exec(e);if(ln){let Tr=ln[Xt.indices.path];Tr||(Tr=""),i=new Ho(ln[Xt.indices.bucket],Tr),Xt.postModify(i);break}}if(null==i)throw function uG(n){return new Fr("invalid-url","Invalid URL '"+n+"'.")}(e);return i}}class mG{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function kI(n){return"string"==typeof n||n instanceof String}function TF(n){return hR()&&n instanceof Blob}function hR(){return"undefined"!=typeof Blob}function fR(n,e,t,i){if(i<e)throw ev(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw ev(`Invalid value for '${n}'. Expected ${t} or less.`)}function ph(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function DF(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var Kf=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Kf||(Kf={})),Kf))();class wG{constructor(e,t,i,r,s,c,h,p,_,E,S){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=p,this.timeout_=_,this.progressCallback_=E,this.connectionFactory_=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,j)=>{this.resolve_=N,this.reject_=j,this.start_()})}start_(){const t=(i,r)=>{const s=this.resolve_,c=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const p=this.callback_(h,h.getResponse());!function yG(n){return void 0!==n}(p)?s():s(p)}catch(p){c(p)}else if(null!==h){const p=dR();p.serverResponse=h.getErrorText(),c(this.errorCallback_?this.errorCallback_(h,p):p)}else c(r.canceled?this.appDelete_?CF():bF():function cG(){return new Fr("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new RI(!1,null,!0)):this.backoffId_=function gG(n,e,t){let i=1,r=null,s=null,c=!1,h=0;function p(){return 2===h}let _=!1;function E(...we){_||(_=!0,e.apply(null,we))}function S(we){r=setTimeout(()=>{r=null,n(j,p())},we)}function N(){s&&clearTimeout(s)}function j(we,...pt){if(_)return void N();if(we)return N(),void E.call(null,we,...pt);if(p()||c)return N(),void E.call(null,we,...pt);let yt;i<64&&(i*=2),1===h?(h=2,yt=0):yt=1e3*(i+Math.random()),S(yt)}let z=!1;function le(we){z||(z=!0,N(),!_&&(null!==r?(we||(h=2),clearTimeout(r),S(0)):we||(h=1)))}return S(0),s=setTimeout(()=>{c=!0,le(!0)},t),le}((i,r)=>{if(r)return void i(!1,new RI(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const c=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const h=s.getErrorCode()===Kf.NO_ERROR,p=s.getStatus();if(!h||this.isRetryStatusCode_(p)){const E=s.getErrorCode()===Kf.ABORT;return void i(!1,new RI(!1,null,E))}const _=-1!==this.successCodes_.indexOf(p);i(!0,new RI(_,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function _G(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,r=-1!==[408,429].indexOf(e),s=-1!==this.additionalRetryCodes_.indexOf(e);return t||r||s}}class RI{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function AG(...n){const e=function SG(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(hR())return new Blob(n);throw new Fr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const fl={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class pR{constructor(e,t){this.data=e,this.contentType=t||null}}function mR(n,e){switch(n){case fl.RAW:return new pR(IF(e));case fl.BASE64:case fl.BASE64URL:return new pR(SF(n,e));case fl.DATA_URL:return new pR(function RG(n){const e=new AF(n);return e.base64?SF(fl.BASE64,e.rest):function kG(n){let e;try{e=decodeURIComponent(n)}catch(t){throw Gw(fl.DATA_URL,"Malformed data URL.")}return IF(e)}(e.rest)}(e),function OG(n){return new AF(n).contentType}(e))}throw dR()}function IF(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function SF(n,e){switch(n){case fl.BASE64:{const r=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(r||s)throw Gw(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case fl.BASE64URL:{const r=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(r||s)throw Gw(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function MG(n){return atob(n)}(e)}catch(r){throw Gw(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class AF{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Gw(fl.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function NG(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class Qu{constructor(e,t){let i=0,r="";TF(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(TF(this.data_)){const r=function xG(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new Qu(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Qu(i,!0)}}static getBlob(...e){if(hR()){const t=e.map(i=>i instanceof Qu?i.data_:i);return new Qu(AG.apply(null,t))}{const t=e.map(c=>kI(c)?mR(fl.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const r=new Uint8Array(i);let s=0;return t.forEach(c=>{for(let h=0;h<c.length;h++)r[s++]=c[h]}),new Qu(r,!0)}}uploadData(){return this.data_}}function gR(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function bG(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function xF(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function LG(n,e){return e}class ma{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||LG}}let OI=null;function qw(){if(OI)return OI;const n=[];n.push(new ma("bucket")),n.push(new ma("generation")),n.push(new ma("metageneration")),n.push(new ma("name","fullPath",!0));const t=new ma("name");t.xform=function e(s,c){return function VG(n){return!kI(n)||n.length<2?n:xF(n)}(c)},n.push(t);const r=new ma("size");return r.xform=function i(s,c){return void 0!==c?Number(c):c},n.push(r),n.push(new ma("timeCreated")),n.push(new ma("updated")),n.push(new ma("md5Hash",null,!0)),n.push(new ma("cacheControl",null,!0)),n.push(new ma("contentDisposition",null,!0)),n.push(new ma("contentEncoding",null,!0)),n.push(new ma("contentLanguage",null,!0)),n.push(new ma("contentType",null,!0)),n.push(new ma("metadata","customMetadata",!0)),OI=n,OI}function MF(n,e,t){const i=gR(e);return null===i?null:function UG(n,e,t){const i={type:"file"},r=t.length;for(let s=0;s<r;s++){const c=t[s];i[c.local]=c.xform(i,e[c.server])}return function BG(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new Ho(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(i,n),i}(n,i,t)}function _R(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const kF="prefixes";class Ju{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Xu(n){if(!n)throw dR()}function NI(n,e){return function t(i,r){const s=MF(n,r,e);return Xu(null!==s),s}}function tv(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function aG(){return new Fr("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function oG(){return new Fr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function sG(n){return new Fr("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function lG(n){return new Fr("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.serverResponse=i.serverResponse,r}}function zw(n){const e=tv(n);return function t(i,r){let s=e(i,r);return 404===i.getStatus()&&(s=function rG(n){return new Fr("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function OF(n,e,t){const r=ph(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,h=new Ju(r,"GET",NI(n,t),c);return h.errorHandler=zw(e),h}function zG(n,e,t,i,r){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),i&&(s.pageToken=i),r&&(s.maxResults=r);const h=ph(e.bucketOnlyServerUrl(),n.host,n._protocol),_=n.maxOperationRetryTime,E=new Ju(h,"GET",function $G(n,e){return function t(i,r){const s=function GG(n,e,t){const i=gR(t);return null===i?null:function jG(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[kF])for(const r of t[kF]){const s=r.replace(/\/$/,""),c=n._makeStorageReference(new Ho(e,s));i.prefixes.push(c)}if(t.items)for(const r of t.items){const s=n._makeStorageReference(new Ho(e,r.name));i.items.push(s)}return i}(n,e,i)}(n,e,r);return Xu(null!==s),s}}(n,e.bucket),_);return E.urlParams=s,E.errorHandler=tv(e),E}function PF(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function KG(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}class PI{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function yR(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(r){Xu(!1)}return Xu(!!t&&-1!==(e||["active"]).indexOf(t)),t}const e6={STATE_CHANGED:"state_changed"},ga={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function vR(n){switch(n){case"running":case"pausing":case"canceling":return ga.RUNNING;case"paused":return ga.PAUSED;case"success":return ga.SUCCESS;case"canceled":return ga.CANCELED;default:return ga.ERROR}}class t6{constructor(e,t,i){if(function vG(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=i?i:void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function nv(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class i6 extends class n6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Kf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Kf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Kf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw $w("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw $w("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw $w("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw $w("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw $w("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function ru(){return new i6}class BF{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=qw(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=r,this._transition("error"))},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function QG(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),c=PF(e,i,r),h={name:c.fullPath},p=ph(s,n.host,n._protocol),E={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},S=_R(c,t),z=new Ju(p,"POST",function j(le){let we;yR(le);try{we=le.getResponseHeader("X-Goog-Upload-URL")}catch(pt){Xu(!1)}return Xu(kI(we)),we},n.maxUploadRetryTime);return z.urlParams=h,z.headers=E,z.body=S,z.errorHandler=tv(e),z}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,ru,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=function JG(n,e,t,i){const p=new Ju(t,"POST",function s(_){const E=yR(_,["active","final"]);let S=null;try{S=_.getResponseHeader("X-Goog-Upload-Size-Received")}catch(j){Xu(!1)}S||Xu(!1);const N=Number(S);return Xu(!isNaN(N)),new PI(N,i.size(),"final"===E)},n.maxUploadRetryTime);return p.headers={"X-Goog-Upload-Command":"query"},p.errorHandler=tv(e),p}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,ru,t,i);this._request=s,s.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new PI(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let c;try{c=function XG(n,e,t,i,r,s,c,h){const p=new PI(0,0);if(c?(p.current=c.current,p.total=c.total):(p.current=0,p.total=i.size()),i.size()!==p.total)throw function fG(){return new Fr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const _=p.total-p.current;let E=_;r>0&&(E=Math.min(E,r));const S=p.current,z={"X-Goog-Upload-Command":E===_?"upload, finalize":"upload","X-Goog-Upload-Offset":`${p.current}`},le=i.slice(S,S+E);if(null===le)throw wF();const yt=new Ju(t,"POST",function we(ht,Xt){const ln=yR(ht,["active","final"]),Wn=p.current+E,Tr=i.size();let vl;return vl="final"===ln?NI(e,s)(ht,Xt):null,new PI(Wn,Tr,"final"===ln,vl)},e.maxUploadRetryTime);return yt.headers=z,yt.body=le.uploadData(),yt.progressCallback=h||null,yt.errorHandler=tv(n),yt}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(p){return this._error=p,void this._transition("error")}const h=this._ref.storage._makeRequest(c,ru,r,s);this._request=h,h.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=OF(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,ru,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function FF(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},p=function h(){let yt="";for(let ht=0;ht<2;ht++)yt+=Math.random().toString().slice(2);return yt}();c["Content-Type"]="multipart/related; boundary="+p;const _=PF(e,i,r),E=_R(_,t),j=Qu.getBlob("--"+p+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+E+"\r\n--"+p+"\r\nContent-Type: "+_.contentType+"\r\n\r\n",i,"\r\n--"+p+"--");if(null===j)throw wF();const z={name:_.fullPath},le=ph(s,n.host,n._protocol),pt=n.maxUploadRetryTime,_t=new Ju(le,"POST",NI(n,t),pt);return _t.urlParams=z,_t.headers=c,_t.body=j.uploadData(),_t.errorHandler=tv(e),_t}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,ru,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=bF(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=vR(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const s=new t6(t||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(vR(this._state)){case ga.SUCCESS:nv(this._resolve.bind(null,this.snapshot))();break;case ga.CANCELED:case ga.ERROR:nv(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(vR(this._state)){case ga.RUNNING:case ga.PAUSED:e.next&&nv(e.next.bind(e,this.snapshot))();break;case ga.SUCCESS:e.complete&&nv(e.complete.bind(e))();break;default:e.error&&nv(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class bg{constructor(e,t){this._service=e,this._location=t instanceof Ho?t:Ho.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new bg(e,t)}get root(){const e=new Ho(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return xF(this._location.path)}get storage(){return this._service}get parent(){const e=function PG(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Ho(this._location.bucket,e);return new bg(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw EF(e)}}function HF(n,e,t){return bR.apply(this,arguments)}function bR(){return bR=(0,Fe.Z)(function*(n,e,t){const r=yield jF(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield HF(n,e,r.nextPageToken))}),bR.apply(this,arguments)}function jF(n,e){null!=e&&"number"==typeof e.maxResults&&fR("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=zG(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,ru)}function m6(n){n._throwIfRoot("getDownloadURL");const e=function WG(n,e,t){const r=ph(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,h=new Ju(r,"GET",function qG(n,e){return function t(i,r){const s=MF(n,r,e);return Xu(null!==s),function HG(n,e,t,i){const r=gR(e);if(null===r||!kI(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const c=encodeURIComponent;return s.split(",").map(_=>{const S=n.fullPath;return ph("/b/"+c(n.bucket)+"/o/"+c(S),t,i)+DF({alt:"media",token:_})})[0]}(s,r,n.host,n._protocol)}}(n,t),c);return h.errorHandler=zw(e),h}(n.storage,n._location,qw());return n.storage.makeRequestWithTokens(e,ru).then(t=>{if(null===t)throw function pG(){return new Fr("no-download-url","The given file does not have any download URLs.")}();return t})}function GF(n,e){const t=function FG(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new Ho(n._location.bucket,t);return new bg(n.storage,i)}function $F(n,e){if(n instanceof wR){const t=n;if(null==t._bucket)throw function hG(){return new Fr("no-default-bucket","No default bucket found. Did you set the '"+vF+"' property when initializing the app?")}();const i=new bg(t,t._bucket);return null!=e?$F(i,e):i}return void 0!==e?GF(n,e):n}function v6(n,e){if(e&&function _6(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof wR)return function y6(n,e){return new bg(n,e)}(n,e);throw ev("To use ref(service, url), the first argument must be a Storage instance.")}return $F(n,e)}function qF(n,e){const t=null==e?void 0:e[vF];return null==t?null:Ho.makeFromBucketSpec(t,n)}class wR{constructor(e,t,i,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=yF,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Ho.makeFromBucketSpec(r,this._host):qF(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Ho.makeFromBucketSpec(this._url,e):qF(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){fR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){fR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Fe.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Fe.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new bg(this,e)}_makeRequest(e,t,i,r){if(this._deleted)return new mG(CF());{const s=function IG(n,e,t,i,r,s){const c=DF(n.urlParams),h=n.url+c,p=Object.assign({},n.headers);return function TG(n,e){e&&(n["X-Firebase-GMPID"]=e)}(p,e),function CG(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(p,t),function EG(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(p,s),function DG(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(p,i),new wG(h,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(e,this._appId,i,r,t,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){var i=this;return(0,Fe.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,s).getPromise()})()}}const zF="@firebase/storage";function YF(n,e){return v6(n=(0,H.m9)(n),e)}function M6(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new wR(t,i,r,e,oi.SDK_VERSION)}!function k6(){(0,oi._registerComponent)(new kr.wA("storage",M6,"PUBLIC").setMultipleInstances(!0)),(0,oi.registerVersion)(zF,"0.9.5",""),(0,oi.registerVersion)(zF,"0.9.5","esm2017")}();class FI{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class KF{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new FI(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new FI(i,this,this._ref))},t)}on(e,t,i,r){let s;return t&&(s="function"==typeof t?c=>t(new FI(c,this,this._ref)):{next:t.next?c=>t.next(new FI(c,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,i||void 0,r||void 0)}}class QF{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new mh(e,this._service))}get items(){return this._delegate.items.map(e=>new mh(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class mh{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function A6(n,e){return GF(n,e)}(this._delegate,e);return new mh(t,this.storage)}get root(){return new mh(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new mh(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new KF(function w6(n,e,t){return function u6(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new BF(n,new Qu(e),t)}(n=(0,H.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=fl.RAW,i){this._throwIfRoot("putString");const r=mR(t,e),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new KF(new BF(this._delegate,new Qu(r.data,!0),s),this)}listAll(){return function D6(n){return function h6(n){const e={prefixes:[],items:[]};return HF(n,e).then(()=>e)}(n=(0,H.m9)(n))}(this._delegate).then(e=>new QF(e,this.storage))}list(e){return function T6(n,e){return jF(n=(0,H.m9)(n),e)}(this._delegate,e||void 0).then(t=>new QF(t,this.storage))}getMetadata(){return function C6(n){return function f6(n){n._throwIfRoot("getMetadata");const e=OF(n.storage,n._location,qw());return n.storage.makeRequestWithTokens(e,ru)}(n=(0,H.m9)(n))}(this._delegate)}updateMetadata(e){return function E6(n,e){return function p6(n,e){n._throwIfRoot("updateMetadata");const t=function ZG(n,e,t,i){const s=ph(e.fullServerUrl(),n.host,n._protocol),h=_R(t,i),_=n.maxOperationRetryTime,E=new Ju(s,"PATCH",NI(n,i),_);return E.headers={"Content-Type":"application/json; charset=utf-8"},E.body=h,E.errorHandler=zw(e),E}(n.storage,n._location,e,qw());return n.storage.makeRequestWithTokens(t,ru)}(n=(0,H.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function I6(n){return m6(n=(0,H.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function S6(n){return function g6(n){n._throwIfRoot("deleteObject");const e=function YG(n,e){const i=ph(e.fullServerUrl(),n.host,n._protocol),h=new Ju(i,"DELETE",function c(p,_){},n.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=zw(e),h}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,ru)}(n=(0,H.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw EF(e)}}class JF{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(XF(e))throw ev("ref() expected a child path but got a URL, use refFromURL instead.");return new mh(YF(this._delegate,e),this)}refFromURL(e){if(!XF(e))throw ev("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ho.makeFromUrl(e,this._delegate.host)}catch(t){throw ev("refFromUrl() expected a valid full URL but got an invalid one.")}return new mh(YF(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){!function x6(n,e,t,i={}){!function b6(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,H.Sg)(r,n.app.options.projectId))}(n,e,t,i)}(this._delegate,e,t,i)}}function XF(n){return/^[A-Za-z]+:\/\//.test(n)}function P6(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new JF(t,i)}function eL(n){const e=function L6(n){return new ji.y(e=>{const t=c=>e.next(c);t(n.snapshot);const s=n.on("state_changed",t);return n.then(c=>{t(c),e.complete()},c=>{t(n.snapshot),(c=>{e.error(c)})(c)}),function(){s()}}).pipe(_F(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,M.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function LI(n){return{getDownloadURL:()=>bt(void 0).pipe(Gt.fc,C(()=>n.getDownloadURL()),Gt.iC),getMetadata:()=>bt(void 0).pipe(Gt.fc,C(()=>n.getMetadata()),Gt.iC),delete:()=>(0,$t.D)(n.delete()),child:e=>LI(n.child(e)),updateMetadata:e=>(0,$t.D)(n.updateMetadata(e)),put:(e,t)=>eL(n.put(e,t)),putString:(e,t,i)=>eL(n.putString(e,t,i)),list:e=>(0,$t.D)(n.list(e)),listAll:()=>(0,$t.D)(n.listAll())}}!function F6(n){const e={TaskState:ga,TaskEvent:e6,StringFormat:fl,Storage:JF,Reference:mh};n.INTERNAL.registerComponent(new kr.wA("storage-compat",P6,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.13")}(Jh.Z);const V6=new a.OlP("angularfire2.storageBucket"),B6=new a.OlP("angularfire2.storage.maxUploadRetryTime"),U6=new a.OlP("angularfire2.storage.maxOperationRetryTime"),H6=new a.OlP("angularfire2.storage.use-emulator");let j6=(()=>{class n{constructor(t,i,r,s,c,h,p,_,E,S){const N=(0,pi.on)(t,c,i);this.storage=(0,pi.cc)(`${N.name}.storage.${r}`,"AngularFireStorage",N.name,()=>{const j=c.runOutsideAngular(()=>N.storage(r||void 0)),z=E;return z&&j.useEmulator(...z),p&&j.setMaxUploadRetryTime(p),_&&j.setMaxOperationRetryTime(_),j},[p,_])}ref(t){return LI(this.storage.ref(t))}refFromURL(t){return LI(this.storage.refFromURL(t))}upload(t,i,r){return LI(this.storage.ref(t)).put(i,r)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(pi.Dh),a.LFG(pi.xv,8),a.LFG(V6,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Gt.HU),a.LFG(B6,8),a.LFG(U6,8),a.LFG(H6,8),a.LFG(Sd,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),G6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),$6=(()=>{class n{constructor(){Vt.Z.registerVersion("angularfire",Gt.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[j6],imports:[G6]}),n})();var tL=G(5032);const nL="@firebase/database";let CR="";function rL(n){CR=n}class W6{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,H.Pz)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,H.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Z6{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,H.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const sL=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new W6(e)}}catch(e){}return new Z6},wg=sL("localStorage"),ER=sL("sessionStorage"),iv=new Gr.Yd("@firebase/database"),oL=function(){let n=1;return function(){return n++}}(),aL=function(n){const e=(0,H.dS)(n),t=new H.gQ;t.update(e);const i=t.digest();return H.US.encodeByteArray(i)},Ww=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=Ww.apply(null,i):e+="object"==typeof i?(0,H.Pz)(i):i,e+=" "}return e};let Cg=null,lL=!0;const cL=function(n,e){(0,H.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(iv.logLevel=Gr.in.VERBOSE,Cg=iv.log.bind(iv),e&&ER.set("logging_enabled",!0)):"function"==typeof n?Cg=n:(Cg=null,ER.remove("logging_enabled"))},Ys=function(...n){if(!0===lL&&(lL=!1,null===Cg&&!0===ER.get("logging_enabled")&&cL(!0)),Cg){const e=Ww.apply(null,n);Cg(e)}},Zw=function(n){return function(...e){Ys(n,...e)}},TR=function(...n){const e="FIREBASE INTERNAL ERROR: "+Ww(...n);iv.error(e)},ed=function(...n){const e=`FIREBASE FATAL ERROR: ${Ww(...n)}`;throw iv.error(e),new Error(e)},_a=function(...n){const e="FIREBASE WARNING: "+Ww(...n);iv.warn(e)},VI=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},gh="[MIN_NAME]",td="[MAX_NAME]",Eg=function(n,e){if(n===e)return 0;if(n===gh||e===td)return-1;if(e===gh||n===td)return 1;{const t=BI(n),i=BI(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},Q6=function(n,e){return n===e?0:n<e?-1:1},Yw=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,H.Pz)(e))},DR=function(n){if("object"!=typeof n||null===n)return(0,H.Pz)(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,H.Pz)(e[i]),t+=":",t+=DR(n[e[i]]);return t+="}",t},uL=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function Ks(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const dL=function(n){(0,H.hu)(!VI(n),"Invalid JSON number");const i=1023;let r,s,c,h,p;0===n?(s=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=h+i,c=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(s=0,c=Math.round(n/Math.pow(2,-1074))));const _=[];for(p=52;p;p-=1)_.push(c%2?1:0),c=Math.floor(c/2);for(p=11;p;p-=1)_.push(s%2?1:0),s=Math.floor(s/2);_.push(r?1:0),_.reverse();const E=_.join("");let S="";for(p=0;p<64;p+=8){let N=parseInt(E.substr(p,8),2).toString(16);1===N.length&&(N="0"+N),S+=N}return S.toLowerCase()},t$=new RegExp("^-?(0*)\\d{1,10}$"),hL=-2147483648,IR=2147483647,BI=function(n){if(t$.test(n)){const e=Number(n);if(e>=hL&&e<=IR)return e}return null},rv=function(n){try{n()}catch(e){setTimeout(()=>{throw _a("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Kw=function(n,e){const t=setTimeout(n,e);return"object"==typeof t&&t.unref&&t.unref(),t};class i${constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){_a(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class r${constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Ys("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',_a(e)}}let Qw=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const _L=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,vL="websocket",bL="long_polling";class AR{constructor(e,t,i,r,s=!1,c="",h=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=wg.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&wg.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function wL(n,e,t){let i;if((0,H.hu)("string"==typeof e,"typeof type must == string"),(0,H.hu)("object"==typeof t,"typeof params must == object"),e===vL)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==bL)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function o$(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return Ks(t,(s,c)=>{r.push(s+"="+c)}),i+r.join("&")}class a${constructor(){this.counters_={}}incrementCounter(e,t=1){(0,H.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,H.p$)(this.counters_)}}const xR={},MR={};function kR(n){const e=n.toString();return xR[e]||(xR[e]=new a$),xR[e]}class c${constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&rv(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class sv{constructor(e,t,i,r,s,c,h){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Zw(e),this.stats_=kR(t),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),wL(t,bL,p))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new c$(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,H.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new RR((...s)=>{const[c,h,p,_,E]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=h,this.password=p;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[c,h]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&_L.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){sv.forceAllow_=!0}static forceDisallow(){sv.forceDisallow_=!0}static isAvailable(){return!((0,H.Yr)()||!sv.forceAllow_&&(sv.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,H.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,H.h$)(t),r=uL(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,H.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,H.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class RR{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,H.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=oL(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=RR.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){Ys("frame writing exception"),h.stack&&Ys(h.stack),Ys(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Ys("No IE domain setting required")}catch(t){const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){(0,H.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Ys("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let Jw=null;"undefined"!=typeof MozWebSocket?Jw=MozWebSocket:"undefined"!=typeof WebSocket&&(Jw=WebSocket);let Xw=(()=>{class n{constructor(t,i,r,s,c,h,p){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Zw(this.connId),this.stats_=kR(i),this.connURL=n.connectionURL_(i,h,p,s),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,s){const c={v:"5"};return!(0,H.Yr)()&&"undefined"!=typeof location&&location.hostname&&_L.test(location.hostname)&&(c.r="f"),i&&(c.s=i),r&&(c.ls=r),s&&(c.ac=s),wL(t,vL,c)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,wg.set("previous_websocket_failure",!0);try{if((0,H.Yr)()){const s={headers:{"User-Agent":`Firebase/5/${CR}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(s.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(s.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,h=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;h&&(s.proxy={origin:h}),this.mySock=new Jw(this.connURL,[],s)}else this.mySock=new Jw(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==Jw&&!n.forceDisallow_}static previouslyFailed(){return wg.isInMemoryStorage||!0===wg.get("previous_websocket_failure")}markConnectionHealthy(){wg.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,H.cI)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,H.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,H.Pz)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=uL(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})();class OR{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[sv,Xw]}initTransports_(e){const t=Xw&&Xw.isAvailable();let i=t&&!Xw.previouslyFailed();if(e.webSocketOnly&&(t||_a("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Xw];else{const r=this.transports_=[];for(const s of OR.ALL_TRANSPORTS)s&&s.isAvailable()&&r.push(s)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class NL{constructor(e,t,i,r,s,c,h,p,_,E){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=p,this.onKill_=_,this.lastSessionId=E,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Zw("c:"+this.id+":"),this.transportManager_=new OR(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Kw(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Yw("t",e),i=Yw("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Yw("t",e),i=Yw("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Yw("t",e);if("d"in e){const i=e.d;if("h"===t)this.onHandshake_(i);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?TR("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):TR("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&_a("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),Kw(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Kw(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(wg.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class PL{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class FL{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,H.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(e){(0,H.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class HI extends FL{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,H.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new HI}getInitialEvent(e){return(0,H.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Ti{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function mi(){return new Ti("")}function Fn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Qf(n){return n.pieces_.length-n.pieceNum_}function Li(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Ti(n.pieces_,e)}function PR(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function eC(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function BL(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Ti(e,0)}function cr(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Ti)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new Ti(t,0)}function Ln(n){return n.pieceNum_>=n.pieces_.length}function ya(n,e){const t=Fn(n),i=Fn(e);if(null===t)return e;if(t===i)return ya(Li(n),Li(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function k$(n,e){const t=eC(n,0),i=eC(e,0);for(let r=0;r<t.length&&r<i.length;r++){const s=Eg(t[r],i[r]);if(0!==s)return s}return t.length===i.length?0:t.length<i.length?-1:1}function FR(n,e){if(Qf(n)!==Qf(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function nc(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(Qf(n)>Qf(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class R${constructor(e,t){this.errorPrefix_=t,this.parts_=eC(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,H.ug)(this.parts_[i]);UL(this)}}function UL(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Tg(n))}function Tg(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class LR extends FL{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new LR}getInitialEvent(e){return(0,H.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const tC=1e3;let GI,Dg=(()=>{class n extends PL{constructor(t,i,r,s,c,h,p,_){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=c,this.authTokenProvider_=h,this.appCheckTokenProvider_=p,this.authOverride_=_,this.id=n.nextPersistentConnectionId_++,this.log_=Zw("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=tC,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_&&!(0,H.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");LR.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&HI.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const s=++this.requestNumber_,c={r:s,a:t,b:i};this.log_((0,H.Pz)(c)),(0,H.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const i=new H.BH,r={p:t._path.toString(),q:t._queryObject},s={action:"g",request:r,onComplete:h=>{const p=h.d;"ok"===h.s?(this.onDataUpdate_(r.p,p,!1,null),i.resolve(p)):i.reject(p)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const h=this.outstandingGets_[c];void 0===h||s!==h||(delete this.outstandingGets_[c],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+c+" timed out on connection"),i.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(c),i.promise}listen(t,i,r,s){this.initConnection_();const c=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+c),this.listens.has(h)||this.listens.set(h,new Map),(0,H.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,H.hu)(!this.listens.get(h).has(c),"listen() called twice for same path/queryId.");const p={onComplete:s,hashFn:i,query:t,tag:r};this.listens.get(h).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const c={p:r};t.tag&&(c.q=i._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest("q",c,p=>{const _=p.d,E=p.s;n.warnOnListenWarnings_(_,i),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",p),"ok"!==E&&this.removeListen_(r,s),t.onComplete&&t.onComplete(E,_))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,H.r3)(t,"w")){const r=(0,H.DV)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();_a(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,H.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,H.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const c=s.s,h=s.d||"error";this.authToken_===t&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,H.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,i)}sendUnlisten_(t,i,r,s){this.log_("Unlisten on "+t+" for "+i);const c={p:t};s&&(c.q=r,c.t=s),this.sendRequest("n",c)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,s){const c={p:i,d:r};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,h=>{s&&setTimeout(()=>{s(h.s,h.d)},Math.floor(0))})}put(t,i,r,s){this.putInternal("p",t,i,r,s)}merge(t,i,r,s){this.putInternal("m",t,i,r,s)}putInternal(t,i,r,s,c){this.initConnection_();const h={p:i,d:r};void 0!==c&&(h.h=c),this.outstandingPuts_.push({action:t,request:h,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(c.s,c.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,H.Pz)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):TR("Unrecognized action received from server: "+(0,H.Pz)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,H.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=tC,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=tC,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=tC),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,Fe.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),c=t.id+":"+n.nextConnectionId_++,h=t.lastSessionId;let p=!1,_=null;const E=function(){_?_.close():(p=!0,s())};t.realtime_={close:E,sendRequest:function(j){(0,H.hu)(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(j)}};const N=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[j,z]=yield Promise.all([t.authTokenProvider_.getToken(N),t.appCheckTokenProvider_.getToken(N)]);p?Ys("getToken() completed but was canceled"):(Ys("getToken() completed. Creating connection."),t.authToken_=j&&j.accessToken,t.appCheckToken_=z&&z.token,_=new NL(c,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,s,le=>{_a(le+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},h))}catch(j){t.log_("Failed to get token: "+j),p||(t.repoInfo_.nodeAdmin&&_a(j),E())}}})()}interrupt(t){Ys("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ys("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,H.xb)(this.interruptReasons_)&&(this.reconnectDelay_=tC,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(c=>DR(c)).join("$"):"default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,i){const r=new Ti(t).toString();let s;if(this.listens.has(r)){const c=this.listens.get(r);s=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,i){Ys("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){Ys("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,H.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+CR.replace(/\./g,"-")]=1,(0,H.uI)()?t["framework.cordova"]=1:(0,H.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=HI.getInstance().currentlyOnline();return(0,H.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Un{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Un(e,t)}}class jI{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new Un(gh,e),r=new Un(gh,t);return 0!==this.compare(i,r)}minPost(){return Un.MIN}}class GL extends jI{static get __EMPTY_NODE(){return GI}static set __EMPTY_NODE(e){GI=e}compare(e,t){return Eg(e.name,t.name)}isDefinedOn(e){throw(0,H.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Un.MIN}maxPost(){return new Un(td,GI)}makePost(e,t){return(0,H.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Un(e,GI)}toString(){return".key"}}const nd=new GL;class $I{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=t?i(e.key,t):1,r&&(c*=-1),c<0)e=this.isReverse_?e.left:e.right;else{if(0===c){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let BR,su=(()=>{class n{constructor(t,i,r,s,c){this.key=t,this.value=i,this.color=null!=r?r:n.RED,this.left=null!=s?s:ja.EMPTY_NODE,this.right=null!=c?c:ja.EMPTY_NODE}copy(t,i,r,s,c){return new n(null!=t?t:this.key,null!=i?i:this.value,null!=r?r:this.color,null!=s?s:this.left,null!=c?c:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this;const c=r(t,s.key);return s=c<0?s.copy(null,null,null,s.left.insert(t,i,r),null):0===c?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return ja.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,s;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return ja.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class ja{constructor(e,t=ja.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new ja(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,su.BLACK,null,null))}remove(e){return new ja(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,su.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new $I(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new $I(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new $I(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new $I(this.root_,null,this.comparator_,!0,e)}}function H$(n,e){return Eg(n.name,e.name)}function VR(n,e){return Eg(n,e)}ja.EMPTY_NODE=new class U${copy(e,t,i,r,s){return this}insert(e,t,i){return new su(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const $L=function(n){return"number"==typeof n?"number:"+dL(n):"string:"+n},qL=function(n){if(n.isLeafNode()){const e=n.val();(0,H.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,H.r3)(e,".sv"),"Priority must be a string or number.")}else(0,H.hu)(n===BR||n.isEmpty(),"priority of unexpected type.");(0,H.hu)(n===BR||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let zL,WL,ZL,ov=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,H.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),qL(this.priorityNode_)}static set __childrenNodeConstructor(t){zL=t}static get __childrenNodeConstructor(){return zL}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Ln(t)?this:".priority"===Fn(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=Fn(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,H.hu)(".priority"!==r||1===Qf(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Li(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+$L(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?dL(this.value_):this.value_,this.lazyHash_=aL(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,H.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,H.hu)(s>=0,"Unknown leaf type: "+i),(0,H.hu)(c>=0,"Unknown leaf type: "+r),s===c?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Gi=new class q$ extends jI{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return 0===s?Eg(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Un.MIN}maxPost(){return new Un(td,new ov("[PRIORITY-POST]",ZL))}makePost(e,t){const i=WL(e);return new Un(t,new ov("[PRIORITY-POST]",i))}toString(){return".priority"}},z$=Math.log(2);class W${constructor(e){this.count=parseInt(Math.log(e+1)/z$,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const qI=function(n,e,t,i){n.sort(e);const r=function(p,_){const E=_-p;let S,N;if(0===E)return null;if(1===E)return S=n[p],N=t?t(S):S,new su(N,S.node,su.BLACK,null,null);{const j=parseInt(E/2,10)+p,z=r(p,j),le=r(j+1,_);return S=n[j],N=t?t(S):S,new su(N,S.node,su.BLACK,z,le)}},h=function(p){let _=null,E=null,S=n.length;const N=function(z,le){const we=S-z,pt=S;S-=z;const _t=r(we+1,pt),yt=n[we],ht=t?t(yt):yt;j(new su(ht,yt.node,le,null,_t))},j=function(z){_?(_.left=z,_=z):(E=z,_=z)};for(let z=0;z<p.count;++z){const le=p.nextBitIsOne(),we=Math.pow(2,p.count-(z+1));le?N(we,su.BLACK):(N(we,su.BLACK),N(we,su.RED))}return E}(new W$(n.length));return new ja(i||e,h)};let UR;const av={};class _h{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,H.hu)(av&&Gi,"ChildrenNode.ts has not been loaded"),UR=UR||new _h({".priority":av},{".priority":Gi}),UR}get(e){const t=(0,H.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ja?t:null}hasIndex(e){return(0,H.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,H.hu)(e!==nd,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator(Un.Wrap);let h,c=s.getNext();for(;c;)r=r||e.isDefinedOn(c.node),i.push(c),c=s.getNext();h=r?qI(i,e.getCompare()):av;const p=e.toString(),_=Object.assign({},this.indexSet_);_[p]=e;const E=Object.assign({},this.indexes_);return E[p]=h,new _h(E,_)}addToIndexes(e,t){const i=(0,H.UI)(this.indexes_,(r,s)=>{const c=(0,H.DV)(this.indexSet_,s);if((0,H.hu)(c,"Missing index implementation for "+s),r===av){if(c.isDefinedOn(e.node)){const h=[],p=t.getIterator(Un.Wrap);let _=p.getNext();for(;_;)_.name!==e.name&&h.push(_),_=p.getNext();return h.push(e),qI(h,c.getCompare())}return av}{const h=t.get(e.name);let p=r;return h&&(p=p.remove(new Un(e.name,h))),p.insert(e,e.node)}});return new _h(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,H.UI)(this.indexes_,r=>{if(r===av)return r;{const s=t.get(e.name);return s?r.remove(new Un(e.name,s)):r}});return new _h(i,this.indexSet_)}}let nC,Dn=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&qL(this.priorityNode_),this.children_.isEmpty()&&(0,H.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return nC||(nC=new n(new ja(VR),null,_h.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||nC}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?nC:i}}getChild(t){const i=Fn(t);return null===i?this:this.getImmediateChild(i).getChild(Li(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,H.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new Un(t,i);let s,c;i.isEmpty()?(s=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,i),c=this.indexMap_.addToIndexes(r,this.children_));const h=s.isEmpty()?nC:this.priorityNode_;return new n(s,h,c)}}updateChild(t,i){const r=Fn(t);if(null===r)return i;{(0,H.hu)(".priority"!==Fn(t)||1===Qf(t),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Li(t),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,s=0,c=!0;if(this.forEachChild(Gi,(h,p)=>{i[h]=p.val(t),r++,c&&n.INTEGER_REGEXP_.test(h)?s=Math.max(s,Number(h)):c=!1}),!t&&c&&s<2*r){const h=[];for(const p in i)h[p]=i[p];return h}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+$L(this.getPriority().val())+":"),this.forEachChild(Gi,(i,r)=>{const s=r.hash();""!==s&&(t+=":"+i+":"+s)}),this.lazyHash_=""===t?"":aL(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const s=this.resolveIndex_(r);if(s){const c=s.getPredecessorKey(new Un(t,i));return c?c.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new Un(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new Un(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,Un.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,t)<0;)s.getNext(),c=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,Un.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,t)>0;)s.getNext(),c=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===iC?-1:0}withIndex(t){if(t===nd||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===nd||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Gi),s=i.getIterator(Gi);let c=r.getNext(),h=s.getNext();for(;c&&h;){if(c.name!==h.name||!c.node.equals(h.node))return!1;c=r.getNext(),h=s.getNext()}return null===c&&null===h}return!1}return!1}}resolveIndex_(t){return t===nd?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const iC=new class Z$ extends Dn{constructor(){super(new ja(VR),Dn.EMPTY_NODE,_h.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Dn.EMPTY_NODE}isEmpty(){return!1}};function Cr(n,e=null){if(null===n)return Dn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,H.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new ov(n,Cr(e));if(n instanceof Array){let t=Dn.EMPTY_NODE;return Ks(n,(i,r)=>{if((0,H.r3)(n,i)&&"."!==i.substring(0,1)){const s=Cr(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(Cr(e))}{const t=[];let i=!1;if(Ks(n,(c,h)=>{if("."!==c.substring(0,1)){const p=Cr(h);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),t.push(new Un(c,p)))}}),0===t.length)return Dn.EMPTY_NODE;const s=qI(t,H$,c=>c.name,VR);if(i){const c=qI(t,Gi.getCompare());return new Dn(s,Cr(e),new _h({".priority":c},{".priority":Gi}))}return new Dn(s,Cr(e),_h.Default)}}Object.defineProperties(Un,{MIN:{value:new Un(gh,Dn.EMPTY_NODE)},MAX:{value:new Un(td,iC)}}),GL.__EMPTY_NODE=Dn.EMPTY_NODE,ov.__childrenNodeConstructor=Dn,function j$(n){BR=n}(iC),function $$(n){ZL=n}(iC),function G$(n){WL=n}(Cr);class HR extends jI{constructor(e){super(),this.indexPath_=e,(0,H.hu)(!Ln(e)&&".priority"!==Fn(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),s=i.compareTo(r);return 0===s?Eg(e.name,t.name):s}makePost(e,t){const i=Cr(e),r=Dn.EMPTY_NODE.updateChild(this.indexPath_,i);return new Un(t,r)}maxPost(){const e=Dn.EMPTY_NODE.updateChild(this.indexPath_,iC);return new Un(td,e)}toString(){return eC(this.indexPath_,0).join("/")}}const jR=new class K$ extends jI{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?Eg(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Un.MIN}maxPost(){return Un.MAX}makePost(e,t){const i=Cr(e);return new Un(t,i)}toString(){return".value"}},lv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Q$=function(){let n=0;const e=[];return function(t){const i=t===n;let r;n=t;const s=new Array(8);for(r=7;r>=0;r--)s[r]=lv.charAt(t%64),t=Math.floor(t/64);(0,H.hu)(0===t,"Cannot push at time == 0");let c=s.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)c+=lv.charAt(e[r]);return(0,H.hu)(20===c.length,"nextPushId: Length should be 20."),c}}(),QL=function(n){if(n===""+IR)return"-";const e=BI(n);if(null!=e)return""+(e+1);const t=new Array(n.length);for(let c=0;c<t.length;c++)t[c]=n.charAt(c);if(t.length<786)return t.push("-"),t.join("");let i=t.length-1;for(;i>=0&&"z"===t[i];)i--;if(-1===i)return td;const s=lv.charAt(lv.indexOf(t[i])+1);return t[i]=s,t.slice(0,i+1).join("")},JL=function(n){if(n===""+hL)return gh;const e=BI(n);if(null!=e)return""+(e-1);const t=new Array(n.length);for(let i=0;i<t.length;i++)t[i]=n.charAt(i);return"-"===t[t.length-1]?1===t.length?""+IR:(delete t[t.length-1],t.join("")):(t[t.length-1]=lv.charAt(lv.indexOf(t[t.length-1])-1),t.join("")+"z".repeat(786-t.length))};function XL(n){return{type:"value",snapshotNode:n}}function cv(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function rC(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function sC(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class $R{constructor(e){this.index_=e}updateChild(e,t,i,r,s,c){(0,H.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(t);return h.getChild(r).equals(i.getChild(r))&&h.isEmpty()===i.isEmpty()||(null!=c&&(i.isEmpty()?e.hasChild(t)?c.trackChildChange(rC(t,h)):(0,H.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(cv(t,i)):c.trackChildChange(sC(t,i,h))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return null!=i&&(e.isLeafNode()||e.forEachChild(Gi,(r,s)=>{t.hasChild(r)||i.trackChildChange(rC(r,s))}),t.isLeafNode()||t.forEachChild(Gi,(r,s)=>{if(e.hasChild(r)){const c=e.getImmediateChild(r);c.equals(s)||i.trackChildChange(sC(r,s,c))}else i.trackChildChange(cv(r,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Dn.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class oC{constructor(e){this.indexedFilter_=new $R(e.getIndex()),this.index_=e.getIndex(),this.startPost_=oC.getStartPost_(e),this.endPost_=oC.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,i,r,s,c){return this.matches(new Un(t,i))||(i=Dn.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,s,c)}updateFullNode(e,t,i){t.isLeafNode()&&(t=Dn.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Dn.EMPTY_NODE);const s=this;return t.forEachChild(Gi,(c,h)=>{s.matches(new Un(c,h))||(r=r.updateImmediateChild(c,Dn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class X${constructor(e){this.rangedFilter_=new oC(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,i,r,s,c){return this.rangedFilter_.matches(new Un(t,i))||(i=Dn.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,s,c):this.fullLimitUpdateChild_(e,t,i,s,c)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=Dn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;r=Dn.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;s.hasNext()&&c<this.limit_;){const h=s.getNext();let p;if(p=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),h)<=0:this.index_.compare(h,this.rangedFilter_.getEndPost())<=0,!p)break;r=r.updateImmediateChild(h.name,h.node),c++}}else{let s,c,h,p;if(r=t.withIndex(this.index_),r=r.updatePriority(Dn.EMPTY_NODE),this.reverse_){p=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();const S=this.index_.getCompare();h=(N,j)=>S(j,N)}else p=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),h=this.index_.getCompare();let _=0,E=!1;for(;p.hasNext();){const S=p.getNext();!E&&h(s,S)<=0&&(E=!0),E&&_<this.limit_&&h(S,c)<=0?_++:r=r.updateImmediateChild(S.name,Dn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,s){let c;if(this.reverse_){const S=this.index_.getCompare();c=(N,j)=>S(j,N)}else c=this.index_.getCompare();const h=e;(0,H.hu)(h.numChildren()===this.limit_,"");const p=new Un(t,i),_=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),E=this.rangedFilter_.matches(p);if(h.hasChild(t)){const S=h.getImmediateChild(t);let N=r.getChildAfterChild(this.index_,_,this.reverse_);for(;null!=N&&(N.name===t||h.hasChild(N.name));)N=r.getChildAfterChild(this.index_,N,this.reverse_);const j=null==N?1:c(N,p);if(E&&!i.isEmpty()&&j>=0)return null!=s&&s.trackChildChange(sC(t,i,S)),h.updateImmediateChild(t,i);{null!=s&&s.trackChildChange(rC(t,S));const le=h.updateImmediateChild(t,Dn.EMPTY_NODE);return null!=N&&this.rangedFilter_.matches(N)?(null!=s&&s.trackChildChange(cv(N.name,N.node)),le.updateImmediateChild(N.name,N.node)):le}}return i.isEmpty()?e:E&&c(_,p)>=0?(null!=s&&(s.trackChildChange(rC(_.name,_.node)),s.trackChildChange(cv(t,i))),h.updateImmediateChild(t,i).updateImmediateChild(_.name,Dn.EMPTY_NODE)):e}}class zI{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Gi}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,H.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,H.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:gh}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,H.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,H.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:td}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,H.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Gi}copy(){const e=new zI;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function qR(n,e,t){const i=n.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=t?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function zR(n,e,t){const i=n.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==t?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function WI(n,e){const t=n.copy();return t.index_=e,t}function e2(n){const e={};if(n.isDefault())return e;let t;return n.index_===Gi?t="$priority":n.index_===jR?t="$value":n.index_===nd?t="$key":((0,H.hu)(n.index_ instanceof HR,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,H.Pz)(t),n.startSet_&&(e.startAt=(0,H.Pz)(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+(0,H.Pz)(n.indexStartName_))),n.endSet_&&(e.endAt=(0,H.Pz)(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+(0,H.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function t2(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==Gi&&(e.i=n.index_.toString()),e}class ZI extends PL{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Zw("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,H.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const c=ZI.getListenId_(e,i),h={};this.listens_[c]=h;const p=e2(e._queryParams);this.restRequest_(s+".json",p,(_,E)=>{let S=E;if(404===_&&(S=null,_=null),null===_&&this.onDataUpdate_(s,S,!1,i),(0,H.DV)(this.listens_,c)===h){let N;N=_?401===_?"permission_denied":"rest_error:"+_:"ok",r(N,null)}})}unlisten(e,t){const i=ZI.getListenId_(e,t);delete this.listens_[i]}get(e){const t=e2(e._queryParams),i=e._path.toString(),r=new H.BH;return this.restRequest_(i+".json",t,(s,c)=>{let h=c;404===s&&(h=null,s=null),null===s?(this.onDataUpdate_(i,h,!1,null),r.resolve(h)):r.reject(new Error(h))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,H.xO)(t);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(i&&4===h.readyState){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=(0,H.cI)(h.responseText)}catch(_){_a("Failed to parse JSON response for "+c+": "+h.responseText)}i(null,p)}else 401!==h.status&&404!==h.status&&_a("Got unsuccessful REST response for "+c+" Status: "+h.status),i(h.status);i=null}},h.open("GET",c,!0),h.send()})}}class sq{constructor(){this.rootNode_=Dn.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function YI(){return{value:null,children:new Map}}function uv(n,e,t){if(Ln(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=Fn(e);n.children.has(i)||n.children.set(i,YI()),uv(n.children.get(i),e=Li(e),t)}}function WR(n,e){if(Ln(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(Gi,(i,r)=>{uv(n,new Ti(i),r)}),WR(n,e)}}if(n.children.size>0){const t=Fn(e);return e=Li(e),n.children.has(t)&&WR(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function ZR(n,e,t){null!==n.value?t(e,n.value):function oq(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{ZR(r,new Ti(e.toString()+"/"+i),t)})}class aq{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Ks(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class uq{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new aq(e);const i=1e4+2e4*Math.random();Kw(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;Ks(e,(r,s)=>{s>0&&(0,H.r3)(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),Kw(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ic=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ic||(ic={})),ic))();function QR(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class KI{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=ic.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Ln(this.path)){if(null!=this.affectedTree.value)return(0,H.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Ti(e));return new KI(mi(),t,this.revert)}}return(0,H.hu)(Fn(this.path)===e,"operationForChild called for unrelated child."),new KI(Li(this.path),this.affectedTree,this.revert)}}class aC{constructor(e,t){this.source=e,this.path=t,this.type=ic.LISTEN_COMPLETE}operationForChild(e){return Ln(this.path)?new aC(this.source,mi()):new aC(this.source,Li(this.path))}}class Ig{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=ic.OVERWRITE}operationForChild(e){return Ln(this.path)?new Ig(this.source,mi(),this.snap.getImmediateChild(e)):new Ig(this.source,Li(this.path),this.snap)}}class dv{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=ic.MERGE}operationForChild(e){if(Ln(this.path)){const t=this.children.subtree(new Ti(e));return t.isEmpty()?null:t.value?new Ig(this.source,mi(),t.value):new dv(this.source,mi(),t)}return(0,H.hu)(Fn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new dv(this.source,Li(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Jf{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ln(e))return this.isFullyInitialized()&&!this.filtered_;const t=Fn(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class dq{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function lC(n,e,t,i,r,s){const c=i.filter(h=>h.type===t);c.sort((h,p)=>function pq(n,e,t){if(null==e.childName||null==t.childName)throw(0,H.g5)("Should only compare child_ events.");const i=new Un(e.childName,e.snapshotNode),r=new Un(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,h,p)),c.forEach(h=>{const p=function fq(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,h,s);r.forEach(_=>{_.respondsTo(h.type)&&e.push(_.createEvent(p,n.query_))})})}function QI(n,e){return{eventCache:n,serverCache:e}}function cC(n,e,t,i){return QI(new Jf(e,t,i),n.serverCache)}function r2(n,e,t,i){return QI(n.eventCache,new Jf(e,t,i))}function JI(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Sg(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let JR;class $i{constructor(e,t=(()=>(JR||(JR=new ja(Q6)),JR))()){this.value=e,this.children=t}static fromObject(e){let t=new $i(null);return Ks(e,(i,r)=>{t=t.set(new Ti(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:mi(),value:this.value};if(Ln(e))return null;{const i=Fn(e),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(Li(e),t);return null!=s?{path:cr(new Ti(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ln(e))return this;{const t=Fn(e),i=this.children.get(t);return null!==i?i.subtree(Li(e)):new $i(null)}}set(e,t){if(Ln(e))return new $i(t,this.children);{const i=Fn(e),s=(this.children.get(i)||new $i(null)).set(Li(e),t),c=this.children.insert(i,s);return new $i(this.value,c)}}remove(e){if(Ln(e))return this.children.isEmpty()?new $i(null):new $i(null,this.children);{const t=Fn(e),i=this.children.get(t);if(i){const r=i.remove(Li(e));let s;return s=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&s.isEmpty()?new $i(null):new $i(this.value,s)}return this}}get(e){if(Ln(e))return this.value;{const t=Fn(e),i=this.children.get(t);return i?i.get(Li(e)):null}}setTree(e,t){if(Ln(e))return t;{const i=Fn(e),s=(this.children.get(i)||new $i(null)).setTree(Li(e),t);let c;return c=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new $i(this.value,c)}}fold(e){return this.fold_(mi(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(cr(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,mi(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(Ln(e))return null;{const s=Fn(e),c=this.children.get(s);return c?c.findOnPath_(Li(e),cr(t,s),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,mi(),t)}foreachOnPath_(e,t,i){if(Ln(e))return this;{this.value&&i(t,this.value);const r=Fn(e),s=this.children.get(r);return s?s.foreachOnPath_(Li(e),cr(t,r),i):new $i(null)}}foreach(e){this.foreach_(mi(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(cr(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class ou{constructor(e){this.writeTree_=e}static empty(){return new ou(new $i(null))}}function uC(n,e,t){if(Ln(e))return new ou(new $i(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let s=i.value;const c=ya(r,e);return s=s.updateChild(c,t),new ou(n.writeTree_.set(r,s))}{const r=new $i(t),s=n.writeTree_.setTree(e,r);return new ou(s)}}}function XR(n,e,t){let i=n;return Ks(t,(r,s)=>{i=uC(i,cr(e,r),s)}),i}function s2(n,e){if(Ln(e))return ou.empty();{const t=n.writeTree_.setTree(e,new $i(null));return new ou(t)}}function eO(n,e){return null!=Ag(n,e)}function Ag(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(ya(t.path,e)):null}function o2(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Gi,(i,r)=>{e.push(new Un(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new Un(i,r.value))}),e}function Xf(n,e){if(Ln(e))return n;{const t=Ag(n,e);return new ou(null!=t?new $i(t):n.writeTree_.subtree(e))}}function tO(n){return n.writeTree_.isEmpty()}function hv(n,e){return a2(mi(),n.writeTree_,e)}function a2(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{".priority"===r?((0,H.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):t=a2(cr(n,r),s,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(cr(n,".priority"),i)),t}}function XI(n,e){return h2(e,n)}function bq(n,e){if(n.snap)return nc(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&nc(cr(n.path,t),e))return!0;return!1}function Cq(n){return n.visible}function l2(n,e,t){let i=ou.empty();for(let r=0;r<n.length;++r){const s=n[r];if(e(s)){const c=s.path;let h;if(s.snap)nc(t,c)?(h=ya(t,c),i=uC(i,h,s.snap)):nc(c,t)&&(h=ya(c,t),i=uC(i,mi(),s.snap.getChild(h)));else{if(!s.children)throw(0,H.g5)("WriteRecord should have .snap or .children");if(nc(t,c))h=ya(t,c),i=XR(i,h,s.children);else if(nc(c,t))if(h=ya(c,t),Ln(h))i=XR(i,mi(),s.children);else{const p=(0,H.DV)(s.children,Fn(h));if(p){const _=p.getChild(Li(h));i=uC(i,mi(),_)}}}}}return i}function c2(n,e,t,i,r){if(i||r){const s=Xf(n.visibleWrites,e);return!r&&tO(s)?t:r||null!=t||eO(s,mi())?hv(l2(n.allWrites,function(_){return(_.visible||r)&&(!i||!~i.indexOf(_.writeId))&&(nc(_.path,e)||nc(e,_.path))},e),t||Dn.EMPTY_NODE):null}{const s=Ag(n.visibleWrites,e);if(null!=s)return s;{const c=Xf(n.visibleWrites,e);return tO(c)?t:null!=t||eO(c,mi())?hv(c,t||Dn.EMPTY_NODE):null}}}function eS(n,e,t,i){return c2(n.writeTree,n.treePath,e,t,i)}function nO(n,e){return function Eq(n,e,t){let i=Dn.EMPTY_NODE;const r=Ag(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Gi,(s,c)=>{i=i.updateImmediateChild(s,c)}),i;if(t){const s=Xf(n.visibleWrites,e);return t.forEachChild(Gi,(c,h)=>{const p=hv(Xf(s,new Ti(c)),h);i=i.updateImmediateChild(c,p)}),o2(s).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return o2(Xf(n.visibleWrites,e)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,e)}function u2(n,e,t,i){return function Tq(n,e,t,i,r){(0,H.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=cr(e,t);if(eO(n.visibleWrites,s))return null;{const c=Xf(n.visibleWrites,s);return tO(c)?r.getChild(t):hv(c,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function tS(n,e){return function Iq(n,e){return Ag(n.visibleWrites,e)}(n.writeTree,cr(n.treePath,e))}function iO(n,e,t){return function Dq(n,e,t,i){const r=cr(e,t),s=Ag(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(t)?hv(Xf(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function d2(n,e){return h2(cr(n.treePath,e),n.writeTree)}function h2(n,e){return{treePath:n,writeTree:e}}class Mq{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;(0,H.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,H.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(i,sC(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(i,rC(i,r.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(i,cv(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,H.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,sC(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const f2=new class kq{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class rO{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new Jf(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return iO(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Sg(this.viewCache_),s=function xq(n,e,t,i,r,s){return function Sq(n,e,t,i,r,s,c){let h;const p=Xf(n.visibleWrites,e),_=Ag(p,mi());if(null!=_)h=_;else{if(null==t)return[];h=hv(p,t)}if(h=h.withIndex(c),h.isEmpty()||h.isLeafNode())return[];{const E=[],S=c.getCompare(),N=s?h.getReverseIteratorFrom(i,c):h.getIteratorFrom(i,c);let j=N.getNext();for(;j&&E.length<r;)0!==S(j,i)&&E.push(j),j=N.getNext();return E}}(n.writeTree,n.treePath,e,t,i,r,s)}(this.writes_,r,t,1,i,e);return 0===s.length?null:s[0]}}function p2(n,e,t,i,r,s){const c=e.eventCache;if(null!=tS(i,t))return e;{let h,p;if(Ln(t))if((0,H.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const _=Sg(e),S=nO(i,_ instanceof Dn?_:Dn.EMPTY_NODE);h=n.filter.updateFullNode(e.eventCache.getNode(),S,s)}else{const _=eS(i,Sg(e));h=n.filter.updateFullNode(e.eventCache.getNode(),_,s)}else{const _=Fn(t);if(".priority"===_){(0,H.hu)(1===Qf(t),"Can't have a priority with additional path components");const E=c.getNode();p=e.serverCache.getNode();const S=u2(i,t,E,p);h=null!=S?n.filter.updatePriority(E,S):c.getNode()}else{const E=Li(t);let S;if(c.isCompleteForChild(_)){p=e.serverCache.getNode();const N=u2(i,t,c.getNode(),p);S=null!=N?c.getNode().getImmediateChild(_).updateChild(E,N):c.getNode().getImmediateChild(_)}else S=iO(i,_,e.serverCache);h=null!=S?n.filter.updateChild(c.getNode(),_,S,E,r,s):c.getNode()}}return cC(e,h,c.isFullyInitialized()||Ln(t),n.filter.filtersNodes())}}function nS(n,e,t,i,r,s,c,h){const p=e.serverCache;let _;const E=c?n.filter:n.filter.getIndexedFilter();if(Ln(t))_=E.updateFullNode(p.getNode(),i,null);else if(E.filtersNodes()&&!p.isFiltered()){const j=p.getNode().updateChild(t,i);_=E.updateFullNode(p.getNode(),j,null)}else{const j=Fn(t);if(!p.isCompleteForPath(t)&&Qf(t)>1)return e;const z=Li(t),we=p.getNode().getImmediateChild(j).updateChild(z,i);_=".priority"===j?E.updatePriority(p.getNode(),we):E.updateChild(p.getNode(),j,we,z,f2,null)}const S=r2(e,_,p.isFullyInitialized()||Ln(t),E.filtersNodes());return p2(n,S,t,r,new rO(r,S,s),h)}function sO(n,e,t,i,r,s,c){const h=e.eventCache;let p,_;const E=new rO(r,e,s);if(Ln(t))_=n.filter.updateFullNode(e.eventCache.getNode(),i,c),p=cC(e,_,!0,n.filter.filtersNodes());else{const S=Fn(t);if(".priority"===S)_=n.filter.updatePriority(e.eventCache.getNode(),i),p=cC(e,_,h.isFullyInitialized(),h.isFiltered());else{const N=Li(t),j=h.getNode().getImmediateChild(S);let z;if(Ln(N))z=i;else{const le=E.getCompleteChild(S);z=null!=le?".priority"===PR(N)&&le.getChild(BL(N)).isEmpty()?le:le.updateChild(N,i):Dn.EMPTY_NODE}p=j.equals(z)?e:cC(e,n.filter.updateChild(h.getNode(),S,z,N,E,c),h.isFullyInitialized(),n.filter.filtersNodes())}}return p}function m2(n,e){return n.eventCache.isCompleteForChild(e)}function g2(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function oO(n,e,t,i,r,s,c,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let _,p=e;_=Ln(t)?i:new $i(null).setTree(t,i);const E=e.serverCache.getNode();return _.children.inorderTraversal((S,N)=>{if(E.hasChild(S)){const z=g2(0,e.serverCache.getNode().getImmediateChild(S),N);p=nS(n,p,new Ti(S),z,r,s,c,h)}}),_.children.inorderTraversal((S,N)=>{const j=!e.serverCache.isCompleteForChild(S)&&void 0===N.value;if(!E.hasChild(S)&&!j){const le=g2(0,e.serverCache.getNode().getImmediateChild(S),N);p=nS(n,p,new Ti(S),le,r,s,c,h)}}),p}class Uq{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new $R(i.getIndex()),s=function eq(n){return n.loadsAllData()?new $R(n.getIndex()):n.hasLimit()?new X$(n):new oC(n)}(i);this.processor_=function Rq(n){return{filter:n}}(s);const c=t.serverCache,h=t.eventCache,p=r.updateFullNode(Dn.EMPTY_NODE,c.getNode(),null),_=s.updateFullNode(Dn.EMPTY_NODE,h.getNode(),null),E=new Jf(p,c.isFullyInitialized(),r.filtersNodes()),S=new Jf(_,h.isFullyInitialized(),s.filtersNodes());this.viewCache_=QI(S,E),this.eventGenerator_=new dq(this.query_)}get query(){return this.query_}}function Gq(n,e){const t=Sg(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Ln(e)&&!t.getImmediateChild(Fn(e)).isEmpty())?t.getChild(e):null}function _2(n){return 0===n.eventRegistrations_.length}function y2(n,e,t){const i=[];if(t){(0,H.hu)(null==e,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const c=s.createCancelEvent(t,r);c&&i.push(c)})}if(e){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const c=n.eventRegistrations_[s];if(c.matches(e)){if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(c)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function v2(n,e,t,i){e.type===ic.MERGE&&null!==e.source.queryId&&((0,H.hu)(Sg(n.viewCache_),"We should always have a full cache before handling merges"),(0,H.hu)(JI(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function Nq(n,e,t,i,r){const s=new Mq;let c,h;if(t.type===ic.OVERWRITE){const _=t;_.source.fromUser?c=sO(n,e,_.path,_.snap,i,r,s):((0,H.hu)(_.source.fromServer,"Unknown source."),h=_.source.tagged||e.serverCache.isFiltered()&&!Ln(_.path),c=nS(n,e,_.path,_.snap,i,r,h,s))}else if(t.type===ic.MERGE){const _=t;_.source.fromUser?c=function Fq(n,e,t,i,r,s,c){let h=e;return i.foreach((p,_)=>{const E=cr(t,p);m2(e,Fn(E))&&(h=sO(n,h,E,_,r,s,c))}),i.foreach((p,_)=>{const E=cr(t,p);m2(e,Fn(E))||(h=sO(n,h,E,_,r,s,c))}),h}(n,e,_.path,_.children,i,r,s):((0,H.hu)(_.source.fromServer,"Unknown source."),h=_.source.tagged||e.serverCache.isFiltered(),c=oO(n,e,_.path,_.children,i,r,h,s))}else if(t.type===ic.ACK_USER_WRITE){const _=t;c=_.revert?function Bq(n,e,t,i,r,s){let c;if(null!=tS(i,t))return e;{const h=new rO(i,e,r),p=e.eventCache.getNode();let _;if(Ln(t)||".priority"===Fn(t)){let E;if(e.serverCache.isFullyInitialized())E=eS(i,Sg(e));else{const S=e.serverCache.getNode();(0,H.hu)(S instanceof Dn,"serverChildren would be complete if leaf node"),E=nO(i,S)}E=E,_=n.filter.updateFullNode(p,E,s)}else{const E=Fn(t);let S=iO(i,E,e.serverCache);null==S&&e.serverCache.isCompleteForChild(E)&&(S=p.getImmediateChild(E)),_=null!=S?n.filter.updateChild(p,E,S,Li(t),h,s):e.eventCache.getNode().hasChild(E)?n.filter.updateChild(p,E,Dn.EMPTY_NODE,Li(t),h,s):p,_.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=eS(i,Sg(e)),c.isLeafNode()&&(_=n.filter.updateFullNode(_,c,s)))}return c=e.serverCache.isFullyInitialized()||null!=tS(i,mi()),cC(e,_,c,n.filter.filtersNodes())}}(n,e,_.path,i,r,s):function Lq(n,e,t,i,r,s,c){if(null!=tS(r,t))return e;const h=e.serverCache.isFiltered(),p=e.serverCache;if(null!=i.value){if(Ln(t)&&p.isFullyInitialized()||p.isCompleteForPath(t))return nS(n,e,t,p.getNode().getChild(t),r,s,h,c);if(Ln(t)){let _=new $i(null);return p.getNode().forEachChild(nd,(E,S)=>{_=_.set(new Ti(E),S)}),oO(n,e,t,_,r,s,h,c)}return e}{let _=new $i(null);return i.foreach((E,S)=>{const N=cr(t,E);p.isCompleteForPath(N)&&(_=_.set(E,p.getNode().getChild(N)))}),oO(n,e,t,_,r,s,h,c)}}(n,e,_.path,_.affectedTree,i,r,s)}else{if(t.type!==ic.LISTEN_COMPLETE)throw(0,H.g5)("Unknown operation type: "+t.type);c=function Vq(n,e,t,i,r){const s=e.serverCache;return p2(n,r2(e,s.getNode(),s.isFullyInitialized()||Ln(t),s.isFiltered()),t,i,f2,r)}(n,e,t.path,i,s)}const p=s.getChanges();return function Pq(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=JI(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(XL(JI(e)))}}(e,c,p),{viewCache:c,changes:p}}(n.processor_,r,e,t,i);return function Oq(n,e){(0,H.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,H.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,H.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,b2(n,s.changes,s.viewCache.eventCache.getNode(),null)}function b2(n,e,t,i){return function hq(n,e,t,i){const r=[],s=[];return e.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&s.push(function J$(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(c.childName,c.snapshotNode))}),lC(n,r,"child_removed",e,i,t),lC(n,r,"child_added",e,i,t),lC(n,r,"child_moved",s,i,t),lC(n,r,"child_changed",e,i,t),lC(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}let iS,sS;class w2{constructor(){this.views=new Map}}function aO(n,e,t,i){const r=e.source.queryId;if(null!==r){const s=n.views.get(r);return(0,H.hu)(null!=s,"SyncTree gave us an op for an invalid query."),v2(s,e,t,i)}{let s=[];for(const c of n.views.values())s=s.concat(v2(c,e,t,i));return s}}function C2(n,e,t,i,r){const c=n.views.get(e._queryIdentifier);if(!c){let h=eS(t,r?i:null),p=!1;h?p=!0:i instanceof Dn?(h=nO(t,i),p=!1):(h=Dn.EMPTY_NODE,p=!1);const _=QI(new Jf(h,p,!1),new Jf(i,r,!1));return new Uq(e,_)}return c}function E2(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function ep(n,e){let t=null;for(const i of n.views.values())t=t||Gq(i,e);return t}function T2(n,e){return e._queryParams.loadsAllData()?rS(n):n.views.get(e._queryIdentifier)}function D2(n,e){return null!=T2(n,e)}function tp(n){return null!=rS(n)}function rS(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let Xq=1;class I2{constructor(e){this.listenProvider_=e,this.syncPointTree_=new $i(null),this.pendingWriteTree_=function Aq(){return{visibleWrites:ou.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function lO(n,e,t,i,r){return function gq(n,e,t,i,r){(0,H.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=uC(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?fv(n,new Ig({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function np(n,e,t=!1){const i=function yq(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function vq(n,e){const t=n.allWrites.findIndex(h=>h.writeId===e);(0,H.hu)(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,s=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const h=n.allWrites[c];h.visible&&(c>=t&&bq(h,i.path)?r=!1:nc(i.path,h.path)&&(s=!0)),c--}return!!r&&(s?(function wq(n){n.visibleWrites=l2(n.allWrites,Cq,mi()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=s2(n.visibleWrites,i.path):Ks(i.children,p=>{n.visibleWrites=s2(n.visibleWrites,cr(i.path,p))}),!0))}(n.pendingWriteTree_,e)){let s=new $i(null);return null!=i.snap?s=s.set(mi(),!0):Ks(i.children,c=>{s=s.set(new Ti(c),!0)}),fv(n,new KI(i.path,s,t))}return[]}function dC(n,e,t){return fv(n,new Ig({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function cO(n,e,t,i){const r=e._path,s=n.syncPointTree_.get(r);let c=[];if(s&&("default"===e._queryIdentifier||D2(s,e))){const h=function Kq(n,e,t,i){const r=e._queryIdentifier,s=[];let c=[];const h=tp(n);if("default"===r)for(const[p,_]of n.views.entries())c=c.concat(y2(_,t,i)),_2(_)&&(n.views.delete(p),_.query._queryParams.loadsAllData()||s.push(_.query));else{const p=n.views.get(r);p&&(c=c.concat(y2(p,t,i)),_2(p)&&(n.views.delete(r),p.query._queryParams.loadsAllData()||s.push(p.query)))}return h&&!tp(n)&&s.push(new(function Wq(){return(0,H.hu)(iS,"Reference.ts has not been loaded"),iS}())(e._repo,e._path)),{removed:s,events:c}}(s,e,t,i);(function Zq(n){return 0===n.views.size})(s)&&(n.syncPointTree_=n.syncPointTree_.remove(r));const p=h.removed;c=h.events;const _=-1!==p.findIndex(S=>S._queryParams.loadsAllData()),E=n.syncPointTree_.findOnPath(r,(S,N)=>tp(N));if(_&&!E){const S=n.syncPointTree_.subtree(r);if(!S.isEmpty()){const N=function az(n){return n.fold((e,t,i)=>{if(t&&tp(t))return[rS(t)];{let r=[];return t&&(r=E2(t)),Ks(i,(s,c)=>{r=r.concat(c)}),r}})}(S);for(let j=0;j<N.length;++j){const z=N[j],le=z.query,we=M2(n,z);n.listenProvider_.startListening(hC(le),aS(n,le),we.hashFn,we.onComplete)}}}!E&&p.length>0&&!i&&(_?n.listenProvider_.stopListening(hC(e),null):p.forEach(S=>{const N=n.queryToTagMap.get(lS(S));n.listenProvider_.stopListening(hC(S),N)})),function lz(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=lS(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,p)}return c}function S2(n,e,t){const i=e._path;let r=null,s=!1;n.syncPointTree_.foreachOnPath(i,(S,N)=>{const j=ya(S,i);r=r||ep(N,j),s=s||tp(N)});let h,c=n.syncPointTree_.get(i);c?(s=s||tp(c),r=r||ep(c,mi())):(c=new w2,n.syncPointTree_=n.syncPointTree_.set(i,c)),null!=r?h=!0:(h=!1,r=Dn.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((N,j)=>{const z=ep(j,mi());z&&(r=r.updateImmediateChild(N,z))}));const p=D2(c,e);if(!p&&!e._queryParams.loadsAllData()){const S=lS(e);(0,H.hu)(!n.queryToTagMap.has(S),"View does not exist, but we have a tag");const N=function cz(){return Xq++}();n.queryToTagMap.set(S,N),n.tagToQueryMap.set(N,S)}let E=function Yq(n,e,t,i,r,s){const c=C2(n,e,i,r,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,c),function $q(n,e){n.eventRegistrations_.push(e)}(c,t),function qq(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Gi,(s,c)=>{i.push(cv(s,c))}),t.isFullyInitialized()&&i.push(XL(t.getNode())),b2(n,i,t.getNode(),e)}(c,t)}(c,e,t,XI(n.pendingWriteTree_,i),r,h);if(!p&&!s){const S=T2(c,e);E=E.concat(function uz(n,e,t){const i=e._path,r=aS(n,e),s=M2(n,t),c=n.listenProvider_.startListening(hC(e),r,s.hashFn,s.onComplete),h=n.syncPointTree_.subtree(i);if(r)(0,H.hu)(!tp(h.value),"If we're adding a query, it shouldn't be shadowed");else{const p=h.fold((_,E,S)=>{if(!Ln(_)&&E&&tp(E))return[rS(E).query];{let N=[];return E&&(N=N.concat(E2(E).map(j=>j.query))),Ks(S,(j,z)=>{N=N.concat(z)}),N}});for(let _=0;_<p.length;++_){const E=p[_];n.listenProvider_.stopListening(hC(E),aS(n,E))}}return c}(n,e,S))}return E}function oS(n,e,t){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(c,h)=>{const _=ep(h,ya(c,e));if(_)return _});return c2(r,e,s,t,!0)}function fv(n,e){return A2(e,n.syncPointTree_,null,XI(n.pendingWriteTree_,mi()))}function A2(n,e,t,i){if(Ln(n.path))return x2(n,e,t,i);{const r=e.get(mi());null==t&&null!=r&&(t=ep(r,mi()));let s=[];const c=Fn(n.path),h=n.operationForChild(c),p=e.children.get(c);if(p&&h){const _=t?t.getImmediateChild(c):null,E=d2(i,c);s=s.concat(A2(h,p,_,E))}return r&&(s=s.concat(aO(r,n,i,t))),s}}function x2(n,e,t,i){const r=e.get(mi());null==t&&null!=r&&(t=ep(r,mi()));let s=[];return e.children.inorderTraversal((c,h)=>{const p=t?t.getImmediateChild(c):null,_=d2(i,c),E=n.operationForChild(c);E&&(s=s.concat(x2(E,h,p,_)))}),r&&(s=s.concat(aO(r,n,i,t))),s}function M2(n,e){const t=e.query,i=aS(n,t);return{hashFn:()=>(function Hq(n){return n.viewCache_.serverCache.getNode()}(e)||Dn.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function iz(n,e,t){const i=uO(n,t);if(i){const r=dO(i),s=r.path,c=r.queryId,h=ya(s,e);return hO(n,s,new aC(QR(c),h))}return[]}(n,t._path,i):function nz(n,e){return fv(n,new aC({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function e$(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}(r,t);return cO(n,t,null,s)}}}}function aS(n,e){const t=lS(e);return n.queryToTagMap.get(t)}function lS(n){return n._path.toString()+"$"+n._queryIdentifier}function uO(n,e){return n.tagToQueryMap.get(e)}function dO(n){const e=n.indexOf("$");return(0,H.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Ti(n.substr(0,e))}}function hO(n,e,t){const i=n.syncPointTree_.get(e);return(0,H.hu)(i,"Missing sync point for query tag that we're tracking"),aO(i,t,XI(n.pendingWriteTree_,e),null)}function hC(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Jq(){return(0,H.hu)(sS,"Reference.ts has not been loaded"),sS}())(n._repo,n._path):n}class fO{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new fO(t)}node(){return this.node_}}class pO{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=cr(this.path_,e);return new pO(this.syncTree_,t)}node(){return oS(this.syncTree_,this.path_)}}const k2=function(n,e,t){return n&&"object"==typeof n?((0,H.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?hz(n[".sv"],e,t):"object"==typeof n[".sv"]?fz(n[".sv"],e):void(0,H.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},hz=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,H.hu)(!1,"Unexpected server value: "+n)},fz=function(n,e,t){n.hasOwnProperty("increment")||(0,H.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,H.hu)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,H.hu)(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},R2=function(n,e,t,i){return gO(e,new pO(t,n),i)},mO=function(n,e,t){return gO(n,new fO(e),t)};function gO(n,e,t){const i=n.getPriority().val(),r=k2(i,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const c=n,h=k2(c.getValue(),e,t);return h!==c.getValue()||r!==c.getPriority().val()?new ov(h,Cr(r)):n}{const c=n;return s=c,r!==c.getPriority().val()&&(s=s.updatePriority(new ov(r))),c.forEachChild(Gi,(h,p)=>{const _=gO(p,e.getImmediateChild(h),t);_!==p&&(s=s.updateImmediateChild(h,_))}),s}}class _O{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function cS(n,e){let t=e instanceof Ti?e:new Ti(e),i=n,r=Fn(t);for(;null!==r;){const s=(0,H.DV)(i.node.children,r)||{children:{},childCount:0};i=new _O(r,i,s),t=Li(t),r=Fn(t)}return i}function xg(n){return n.node.value}function yO(n,e){n.node.value=e,vO(n)}function O2(n){return n.node.childCount>0}function uS(n,e){Ks(n.node.children,(t,i)=>{e(new _O(t,n,i))})}function N2(n,e,t,i){t&&!i&&e(n),uS(n,r=>{N2(r,e,!0,i)}),t&&i&&e(n)}function fC(n){return new Ti(null===n.parent?n.name:fC(n.parent)+"/"+n.name)}function vO(n){null!==n.parent&&function gz(n,e,t){const i=function pz(n){return void 0===xg(n)&&!O2(n)}(t),r=(0,H.r3)(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,vO(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,vO(n))}(n.parent,n.name,n)}const _z=/[\[\].#$\/\u0000-\u001F\u007F]/,yz=/[\[\].#$\u0000-\u001F\u007F]/,bO=10485760,dS=function(n){return"string"==typeof n&&0!==n.length&&!_z.test(n)},P2=function(n){return"string"==typeof n&&0!==n.length&&!yz.test(n)},pC=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!VI(n)||n&&"object"==typeof n&&(0,H.r3)(n,".sv")},id=function(n,e,t,i){i&&void 0===e||mC((0,H.gK)(n,"value"),e,t)},mC=function(n,e,t){const i=t instanceof Ti?new R$(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+Tg(i));if("function"==typeof e)throw new Error(n+"contains a function "+Tg(i)+" with contents = "+e.toString());if(VI(e))throw new Error(n+"contains "+e.toString()+" "+Tg(i));if("string"==typeof e&&e.length>bO/3&&(0,H.ug)(e)>bO)throw new Error(n+"contains a string greater than "+bO+" utf8 bytes "+Tg(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,s=!1;if(Ks(e,(c,h)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(s=!0,!dS(c)))throw new Error(n+" contains an invalid key ("+c+") "+Tg(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function O$(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,H.ug)(e),UL(n)})(i,c),mC(n,h,i),function N$(n){const e=n.parts_.pop();n.byteLength_-=(0,H.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+Tg(i)+" in addition to actual children.")}},F2=function(n,e,t,i){if(i&&void 0===e)return;const r=(0,H.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const s=[];Ks(e,(c,h)=>{const p=new Ti(c);if(mC(r,h,cr(t,p)),".priority"===PR(p)&&!pC(h))throw new Error(r+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(p)}),function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const s=eC(i);for(let c=0;c<s.length;c++)if((".priority"!==s[c]||c!==s.length-1)&&!dS(s[c]))throw new Error(n+"contains an invalid key ("+s[c]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(k$);let r=null;for(t=0;t<e.length;t++){if(i=e[t],null!==r&&nc(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},wO=function(n,e,t){if(!t||void 0!==e){if(VI(e))throw new Error((0,H.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!pC(e))throw new Error((0,H.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},gC=function(n,e,t,i){if(!(i&&void 0===t||dS(t)))throw new Error((0,H.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},_C=function(n,e,t,i){if(!(i&&void 0===t||P2(t)))throw new Error((0,H.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},rc=function(n,e){if(".info"===Fn(e))throw new Error(n+" failed = Can't modify data under /.info/")},L2=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!dS(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),P2(n)}(t))throw new Error((0,H.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Cz{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function hS(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();null!==t&&!FR(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(r)}t&&n.eventLists_.push(t)}function CO(n,e,t){hS(n,t),V2(n,i=>FR(i,e))}function sc(n,e,t){hS(n,t),V2(n,i=>nc(i,e)||nc(e,i))}function V2(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(Ez(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function Ez(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();Cg&&Ys("event: "+t.toString()),rv(i)}}}const B2="repo_interrupt";class Dz{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Cz,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=YI(),this.transactionQueueTree_=new _O,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function U2(n){const t=n.infoData_.getNode(new Ti(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function yC(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:U2(n)})}function H2(n,e,t,i,r){n.dataUpdateCount++;const s=new Ti(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let c=[];if(r)if(i){const p=(0,H.UI)(t,_=>Cr(_));c=function sz(n,e,t,i){const r=uO(n,i);if(r){const s=dO(r),c=s.path,h=s.queryId,p=ya(c,e),_=$i.fromObject(t);return hO(n,c,new dv(QR(h),p,_))}return[]}(n.serverSyncTree_,s,p,r)}else{const p=Cr(t);c=function rz(n,e,t,i){const r=uO(n,i);if(null!=r){const s=dO(r),c=s.path,h=s.queryId,p=ya(c,e);return hO(n,c,new Ig(QR(h),p,t))}return[]}(n.serverSyncTree_,s,p,r)}else if(i){const p=(0,H.UI)(t,_=>Cr(_));c=function tz(n,e,t){const i=$i.fromObject(t);return fv(n,new dv({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,s,p)}else{const p=Cr(t);c=dC(n.serverSyncTree_,s,p)}let h=s;c.length>0&&(h=mv(n,s)),sc(n.eventQueue_,h,c)}function j2(n,e){EO(n,"connected",e),!1===e&&function Mz(n){pv(n,"onDisconnectEvents");const e=yC(n),t=YI();ZR(n.onDisconnect_,mi(),(r,s)=>{const c=R2(r,s,n.serverSyncTree_,e);uv(t,r,c)});let i=[];ZR(t,mi(),(r,s)=>{i=i.concat(dC(n.serverSyncTree_,r,s));const c=SO(n,r);mv(n,c)}),n.onDisconnect_=YI(),sc(n.eventQueue_,mi(),i)}(n)}function EO(n,e,t){const i=new Ti("/.info/"+e),r=Cr(t);n.infoData_.updateSnapshot(i,r);const s=dC(n.infoSyncTree_,i,r);sc(n.eventQueue_,i,s)}function fS(n){return n.nextWriteId_++}function TO(n,e,t,i,r){pv(n,"set",{path:e.toString(),value:t,priority:i});const s=yC(n),c=Cr(t,i),h=oS(n.serverSyncTree_,e),p=mO(c,h,s),_=fS(n),E=lO(n.serverSyncTree_,e,p,_,!0);hS(n.eventQueue_,E),n.server_.put(e.toString(),c.val(!0),(N,j)=>{const z="ok"===N;z||_a("set at "+e+" failed: "+N);const le=np(n.serverSyncTree_,_,!z);sc(n.eventQueue_,e,le),ip(0,r,N,j)});const S=SO(n,e);mv(n,S),sc(n.eventQueue_,S,[])}function kz(n,e,t){n.server_.onDisconnectCancel(e.toString(),(i,r)=>{"ok"===i&&WR(n.onDisconnect_,e),ip(0,t,i,r)})}function G2(n,e,t,i){const r=Cr(t);n.server_.onDisconnectPut(e.toString(),r.val(!0),(s,c)=>{"ok"===s&&uv(n.onDisconnect_,e,r),ip(0,i,s,c)})}function DO(n,e,t){let i;i=".info"===Fn(e._path)?cO(n.infoSyncTree_,e,t):cO(n.serverSyncTree_,e,t),CO(n.eventQueue_,e._path,i)}function $2(n){n.persistentConnection_&&n.persistentConnection_.interrupt(B2)}function pv(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Ys(t,...e)}function ip(n,e,t,i){e&&rv(()=>{if("ok"===t)e(null);else{const r=(t||"error").toUpperCase();let s=r;i&&(s+=": "+i);const c=new Error(s);c.code=r,e(c)}})}function IO(n,e,t){return oS(n.serverSyncTree_,e,t)||Dn.EMPTY_NODE}function pS(n,e=n.transactionQueueTree_){if(e||mS(n,e),xg(e)){const t=z2(n,e);(0,H.hu)(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function Lz(n,e,t){const i=t.map(_=>_.currentWriteId),r=IO(n,e,i);let s=r;const c=r.hash();for(let _=0;_<t.length;_++){const E=t[_];(0,H.hu)(0===E.status,"tryToSendTransactionQueue_: items in queue should all be run."),E.status=1,E.retryCount++;const S=ya(e,E.path);s=s.updateChild(S,E.currentOutputSnapshotRaw)}const h=s.val(!0),p=e;n.server_.put(p.toString(),h,_=>{pv(n,"transaction put response",{path:p.toString(),status:_});let E=[];if("ok"===_){const S=[];for(let N=0;N<t.length;N++)t[N].status=2,E=E.concat(np(n.serverSyncTree_,t[N].currentWriteId)),t[N].onComplete&&S.push(()=>t[N].onComplete(null,!0,t[N].currentOutputSnapshotResolved)),t[N].unwatcher();mS(n,cS(n.transactionQueueTree_,e)),pS(n,n.transactionQueueTree_),sc(n.eventQueue_,e,E);for(let N=0;N<S.length;N++)rv(S[N])}else{if("datastale"===_)for(let S=0;S<t.length;S++)t[S].status=3===t[S].status?4:0;else{_a("transaction at "+p.toString()+" failed: "+_);for(let S=0;S<t.length;S++)t[S].status=4,t[S].abortReason=_}mv(n,e)}},c)}(n,fC(e),t)}else O2(e)&&uS(e,t=>{pS(n,t)})}function mv(n,e){const t=q2(n,e),i=fC(t);return function Vz(n,e,t){if(0===e.length)return;const i=[];let r=[];const c=e.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const p=e[h],_=ya(t,p.path);let S,E=!1;if((0,H.hu)(null!==_,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)E=!0,S=p.abortReason,r=r.concat(np(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=25)E=!0,S="maxretry",r=r.concat(np(n.serverSyncTree_,p.currentWriteId,!0));else{const N=IO(n,p.path,c);p.currentInputSnapshot=N;const j=e[h].update(N.val());if(void 0!==j){mC("transaction failed: Data returned ",j,p.path);let z=Cr(j);"object"==typeof j&&null!=j&&(0,H.r3)(j,".priority")||(z=z.updatePriority(N.getPriority()));const we=p.currentWriteId,pt=yC(n),_t=mO(z,N,pt);p.currentOutputSnapshotRaw=z,p.currentOutputSnapshotResolved=_t,p.currentWriteId=fS(n),c.splice(c.indexOf(we),1),r=r.concat(lO(n.serverSyncTree_,p.path,_t,p.currentWriteId,p.applyLocally)),r=r.concat(np(n.serverSyncTree_,we,!0))}else E=!0,S="nodata",r=r.concat(np(n.serverSyncTree_,p.currentWriteId,!0))}sc(n.eventQueue_,t,r),r=[],E&&(e[h].status=2,setTimeout(e[h].unwatcher,Math.floor(0)),e[h].onComplete&&i.push("nodata"===S?()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot):()=>e[h].onComplete(new Error(S),!1,null)))}mS(n,n.transactionQueueTree_);for(let h=0;h<i.length;h++)rv(i[h]);pS(n,n.transactionQueueTree_)}(n,z2(n,t),i),i}function q2(n,e){let t,i=n.transactionQueueTree_;for(t=Fn(e);null!==t&&void 0===xg(i);)i=cS(i,t),t=Fn(e=Li(e));return i}function z2(n,e){const t=[];return W2(n,e,t),t.sort((i,r)=>i.order-r.order),t}function W2(n,e,t){const i=xg(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);uS(e,r=>{W2(n,r,t)})}function mS(n,e){const t=xg(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,yO(e,t.length>0?t:void 0)}uS(e,i=>{mS(n,i)})}function SO(n,e){const t=fC(q2(n,e)),i=cS(n.transactionQueueTree_,e);return function mz(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{AO(n,r)}),AO(n,i),N2(i,r=>{AO(n,r)}),t}function AO(n,e){const t=xg(e);if(t){const i=[];let r=[],s=-1;for(let c=0;c<t.length;c++)3===t[c].status||(1===t[c].status?((0,H.hu)(s===c-1,"All SENT items should be at beginning of queue."),s=c,t[c].status=3,t[c].abortReason="set"):((0,H.hu)(0===t[c].status,"Unexpected transaction status in abort"),t[c].unwatcher(),r=r.concat(np(n.serverSyncTree_,t[c].currentWriteId,!0)),t[c].onComplete&&i.push(t[c].onComplete.bind(null,new Error("set"),!1,null))));-1===s?yO(e,void 0):t.length=s+1,sc(n.eventQueue_,fC(e),r);for(let c=0;c<i.length;c++)rv(i[c])}}const xO=function(n,e){const t=Hz(n),i=t.namespace;return"firebase.com"===t.domain&&ed(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&ed("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&_a("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new AR(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new Ti(t.pathString)}},Hz=function(n){let e="",t="",i="",r="",s="",c=!0,h="https",p=443;if("string"==typeof n){let _=n.indexOf("//");_>=0&&(h=n.substring(0,_-1),n=n.substring(_+2));let E=n.indexOf("/");-1===E&&(E=n.length);let S=n.indexOf("?");-1===S&&(S=n.length),e=n.substring(0,Math.min(E,S)),E<S&&(r=function Bz(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(s){}e+="/"+r}return e}(n.substring(E,S)));const N=function Uz(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):_a(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,S)));_=e.indexOf(":"),_>=0?(c="https"===h||"wss"===h,p=parseInt(e.substring(_+1),10)):_=e.length;const j=e.slice(0,_);if("localhost"===j.toLowerCase())t="localhost";else if(j.split(".").length<=2)t=j;else{const z=e.indexOf(".");i=e.substring(0,z).toLowerCase(),t=e.substring(z+1),s=i}"ns"in N&&(s=N.ns)}return{host:e,port:p,domain:t,subdomain:i,secure:c,scheme:h,pathString:r,namespace:s}};class Z2{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,H.Pz)(this.snapshot.exportVal())}}class Y2{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class K2{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,H.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Q2{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new H.BH;return kz(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){rc("OnDisconnect.remove",this._path);const e=new H.BH;return G2(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){rc("OnDisconnect.set",this._path),id("OnDisconnect.set",e,this._path,!1);const t=new H.BH;return G2(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){rc("OnDisconnect.setWithPriority",this._path),id("OnDisconnect.setWithPriority",e,this._path,!1),wO("OnDisconnect.setWithPriority",t,!1);const i=new H.BH;return function Rz(n,e,t,i,r){const s=Cr(t,i);n.server_.onDisconnectPut(e.toString(),s.val(!0),(c,h)=>{"ok"===c&&uv(n.onDisconnect_,e,s),ip(0,r,c,h)})}(this._repo,this._path,e,t,i.wrapCallback(()=>{})),i.promise}update(e){rc("OnDisconnect.update",this._path),F2("OnDisconnect.update",e,this._path,!1);const t=new H.BH;return function Oz(n,e,t,i){if((0,H.xb)(t))return Ys("onDisconnect().update() called with empty data.  Don't do anything."),void ip(0,i,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(r,s)=>{"ok"===r&&Ks(t,(c,h)=>{const p=Cr(h);uv(n.onDisconnect_,cr(e,c),p)}),ip(0,i,r,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class Ga{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return Ln(this._path)?null:PR(this._path)}get ref(){return new oc(this._repo,this._path)}get _queryIdentifier(){const e=t2(this._queryParams),t=DR(e);return"{}"===t?"default":t}get _queryObject(){return t2(this._queryParams)}isEqual(e){if(!((e=(0,H.m9)(e))instanceof Ga))return!1;const t=this._repo===e._repo,i=FR(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function M$(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function gS(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function rp(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===nd){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==gh)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==td)throw new Error(i);if("string"!=typeof t)throw new Error(r)}}else if(n.getIndex()===Gi){if(null!=e&&!pC(e)||null!=t&&!pC(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,H.hu)(n.getIndex()instanceof HR||n.getIndex()===jR,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function _S(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class oc extends Ga{constructor(e,t){super(e,t,new zI,!1)}get parent(){const e=BL(this._path);return null===e?null:new oc(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Mg{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Ti(e),i=kg(this.ref,e);return new Mg(this._node.getChild(t),i,Gi)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>e(new Mg(r,kg(this.ref,i),Gi)))}hasChild(e){const t=new Ti(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function J2(n,e){return(n=(0,H.m9)(n))._checkNotDeleted("ref"),void 0!==e?kg(n._root,e):n._root}function X2(n,e){(n=(0,H.m9)(n))._checkNotDeleted("refFromURL");const t=xO(e,n._repo.repoInfo_.nodeAdmin);L2("refFromURL",t);const i=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&ed("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),J2(n,t.path.toString())}function kg(n,e){return null===Fn((n=(0,H.m9)(n))._path)?(t=e,t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),_C("child","path",t,!1)):_C("child","path",e,!1),new oc(n._repo,cr(n._path,e));var t}function MO(n,e){n=(0,H.m9)(n),rc("set",n._path),id("set",e,n._path,!1);const t=new H.BH;return TO(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function zz(n,e){F2("update",e,n._path,!1);const t=new H.BH;return function xz(n,e,t,i){pv(n,"update",{path:e.toString(),value:t});let r=!0;const s=yC(n),c={};if(Ks(t,(h,p)=>{r=!1,c[h]=R2(cr(e,h),Cr(p),n.serverSyncTree_,s)}),r)Ys("update() called with empty data.  Don't do anything."),ip(0,i,"ok",void 0);else{const h=fS(n),p=function ez(n,e,t,i){!function _q(n,e,t,i){(0,H.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=XR(n.visibleWrites,e,t),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i);const r=$i.fromObject(t);return fv(n,new dv({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,e,c,h);hS(n.eventQueue_,p),n.server_.merge(e.toString(),t,(_,E)=>{const S="ok"===_;S||_a("update at "+e+" failed: "+_);const N=np(n.serverSyncTree_,h,!S),j=N.length>0?mv(n,e):e;sc(n.eventQueue_,j,N),ip(0,i,_,E)}),Ks(t,_=>{const E=SO(n,cr(e,_));mv(n,E)}),sc(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function Wz(n){return function Az(n,e){const t=function oz(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(_,E)=>{const S=ya(_,t);i=i||ep(E,S)});let r=n.syncPointTree_.get(t);r?i=i||ep(r,mi()):(r=new w2,n.syncPointTree_=n.syncPointTree_.set(t,r));const s=null!=i,c=s?new Jf(i,!0,!1):null;return function jq(n){return JI(n.viewCache_)}(C2(r,e,XI(n.pendingWriteTree_,e._path),s?c.getNode():Dn.EMPTY_NODE,s))}(n.serverSyncTree_,e);return null!=t?Promise.resolve(t):n.server_.get(e).then(i=>{const r=Cr(i).withIndex(e._queryParams.getIndex()),s=dC(n.serverSyncTree_,e._path,r);return CO(n.eventQueue_,e._path,s),Promise.resolve(r)},i=>(pv(n,"get for query "+(0,H.Pz)(e)+" failed: "+i),Promise.reject(new Error(i))))}((n=(0,H.m9)(n))._repo,n).then(e=>new Mg(e,new oc(n._repo,n._path),n._queryParams.getIndex()))}class yS{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const i=t._queryParams.getIndex();return new Z2("value",this,new Mg(e.snapshotNode,new oc(t._repo,t._path),i))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Y2(this,e,t):null}matches(e){return e instanceof yS&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class vS{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Y2(this,e,t):null}createEvent(e,t){(0,H.hu)(null!=e.childName,"Child events should have a childName.");const i=kg(new oc(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Z2(e.type,this,new Mg(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof vS&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function vC(n,e,t,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const p=t,_=(E,S)=>{DO(n._repo,n,h),p(E,S)};_.userCallback=t.userCallback,_.context=t.context,t=_}const c=new K2(t,s||void 0),h="value"===e?new yS(c):new vS(e,c);return function Nz(n,e,t){let i;i=".info"===Fn(e._path)?S2(n.infoSyncTree_,e,t):S2(n.serverSyncTree_,e,t),CO(n.eventQueue_,e._path,i)}(n._repo,n,h),()=>DO(n._repo,n,h)}function kO(n,e,t,i){return vC(n,"value",e,t,i)}function eV(n,e,t,i){return vC(n,"child_added",e,t,i)}function tV(n,e,t,i){return vC(n,"child_changed",e,t,i)}function nV(n,e,t,i){return vC(n,"child_moved",e,t,i)}function iV(n,e,t,i){return vC(n,"child_removed",e,t,i)}function rV(n,e,t){let i=null;const r=t?new K2(t):null;"value"===e?i=new yS(r):e&&(i=new vS(e,r)),DO(n._repo,n,i)}class au{}class sV extends au{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){id("endAt",this._value,e._path,!0);const t=zR(e._queryParams,this._value,this._key);if(_S(t),rp(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ga(e._repo,e._path,t,e._orderByCalled)}}class Yz extends au{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){id("endBefore",this._value,e._path,!1);const t=function rq(n,e,t){let i,r;return n.index_===nd?("string"==typeof e&&(e=JL(e)),r=zR(n,e,t)):(i=null==t?gh:JL(t),r=zR(n,e,i)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(_S(t),rp(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ga(e._repo,e._path,t,e._orderByCalled)}}class oV extends au{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){id("startAt",this._value,e._path,!0);const t=qR(e._queryParams,this._value,this._key);if(_S(t),rp(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ga(e._repo,e._path,t,e._orderByCalled)}}class Jz extends au{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){id("startAfter",this._value,e._path,!1);const t=function iq(n,e,t){let i;if(n.index_===nd)"string"==typeof e&&(e=QL(e)),i=qR(n,e,t);else{let r;r=null==t?td:QL(t),i=qR(n,e,r)}return i.startAfterSet_=!0,i}(e._queryParams,this._value,this._key);if(_S(t),rp(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ga(e._repo,e._path,t,e._orderByCalled)}}class e4 extends au{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ga(e._repo,e._path,function tq(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class n4 extends au{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ga(e._repo,e._path,function nq(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class r4 extends au{constructor(e){super(),this._path=e}_apply(e){gS(e,"orderByChild");const t=new Ti(this._path);if(Ln(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new HR(t),r=WI(e._queryParams,i);return rp(r),new Ga(e._repo,e._path,r,!0)}}class o4 extends au{_apply(e){gS(e,"orderByKey");const t=WI(e._queryParams,nd);return rp(t),new Ga(e._repo,e._path,t,!0)}}class l4 extends au{_apply(e){gS(e,"orderByPriority");const t=WI(e._queryParams,Gi);return rp(t),new Ga(e._repo,e._path,t,!0)}}class u4 extends au{_apply(e){gS(e,"orderByValue");const t=WI(e._queryParams,jR);return rp(t),new Ga(e._repo,e._path,t,!0)}}class h4 extends au{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(id("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new sV(this._value,this._key)._apply(new oV(this._value,this._key)._apply(e))}}function lu(n,...e){let t=(0,H.m9)(n);for(const i of e)t=i._apply(t);return t}(function zq(n){(0,H.hu)(!iS,"__referenceConstructor has already been defined"),iS=n})(oc),function Qq(n){(0,H.hu)(!sS,"__referenceConstructor has already been defined"),sS=n}(oc);const RO={};function lV(n,e,t,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||ed("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ys("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,_,c=xO(s,r),h=c.repoInfo;"undefined"!=typeof process&&process.env&&(_=process.env.FIREBASE_DATABASE_EMULATOR_HOST),_?(p=!0,s=`http://${_}?ns=${h.namespace}`,c=xO(s,r),h=c.repoInfo):p=!c.repoInfo.secure;const E=r&&p?new Qw(Qw.OWNER):new r$(n.name,n.options,e);L2("Invalid Firebase Database URL",c),Ln(c.path)||ed("Database URL must point to the root of a Firebase Database (not including a child path).");const S=function _4(n,e,t,i){let r=RO[e.name];r||(r={},RO[e.name]=r);let s=r[n.toURLString()];return s&&ed("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Dz(n,false,t,i),r[n.toURLString()]=s,s}(h,n,E,new i$(n.name,t));return new v4(S,n)}class v4{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Iz(n,e,t){if(n.stats_=kR(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new ZI(n.repoInfo_,(i,r,s,c)=>{H2(n,i,r,s,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>j2(n,!0),0);else{if(null!=t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,H.Pz)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Dg(n.repoInfo_,e,(i,r,s,c)=>{H2(n,i,r,s,c)},i=>{j2(n,i)},i=>{!function Sz(n,e){Ks(e,(t,i)=>{EO(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function l$(n,e){const t=n.toString();return MR[t]||(MR[t]=e()),MR[t]}(n.repoInfo_,()=>new uq(n.stats_,n.server_)),n.infoData_=new sq,n.infoSyncTree_=new I2({startListening:(i,r,s,c)=>{let h=[];const p=n.infoData_.getNode(i._path);return p.isEmpty()||(h=dC(n.infoSyncTree_,i._path,p),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),EO(n,"connected",!1),n.serverSyncTree_=new I2({startListening:(i,r,s,c)=>(n.server_.listen(i,s,r,(h,p)=>{const _=c(h,p);sc(n.eventQueue_,i._path,_)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new oc(this._repo,mi())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function g4(n,e){const t=RO[e];(!t||t[n.key]!==n)&&ed(`Database ${e}(${n.repoInfo_}) has already been deleted.`),$2(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&ed("Cannot call "+e+" on a deleted database.")}}function E4(n,e){cL(n,e)}const D4={".sv":"timestamp"};class A4{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Dg.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Dg.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function T4(n){rL(oi.SDK_VERSION),(0,oi._registerComponent)(new kr.wA("database",(e,{instanceIdentifier:t})=>lV(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,oi.registerVersion)(nL,"0.12.8",n),(0,oi.registerVersion)(nL,"0.12.8","esm2017")}();const R4=new Gr.Yd("@firebase/database-compat"),cV=function(n){R4.warn("FIREBASE WARNING: "+n)};class P4{constructor(e){this._delegate=e}cancel(e){(0,H.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,H.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),i=>e(i)),t}remove(e){(0,H.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,H.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),i=>e(i)),t}set(e,t){(0,H.Dv)("OnDisconnect.set",1,2,arguments.length),(0,H.Wj)("OnDisconnect.set","onComplete",t,!0);const i=this._delegate.set(e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,H.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,H.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(e,t);return i&&r.then(()=>i(null),s=>i(s)),r}update(e,t){if((0,H.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,cV("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,H.Wj)("OnDisconnect.update","onComplete",t,!0);const i=this._delegate.update(e);return t&&i.then(()=>t(null),r=>t(r)),i}}class F4{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,H.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class sp{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,H.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,H.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,H.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,H.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,H.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),_C("DataSnapshot.child","path",e,!1),new sp(this._database,this._delegate.child(e))}hasChild(e){return(0,H.Dv)("DataSnapshot.hasChild",1,1,arguments.length),_C("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,H.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,H.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,H.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new sp(this._database,t)))}hasChildren(){return(0,H.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,H.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,H.Dv)("DataSnapshot.ref",0,0,arguments.length),new pl(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class fo{constructor(e,t){this.database=e,this._delegate=t}on(e,t,i,r){var s;(0,H.Dv)("Query.on",2,4,arguments.length),(0,H.Wj)("Query.on","callback",t,!1);const c=fo.getCancelAndContextArgs_("Query.on",i,r),h=(_,E)=>{t.call(c.context,new sp(this.database,_),E)};h.userCallback=t,h.context=c.context;const p=null===(s=c.cancel)||void 0===s?void 0:s.bind(c.context);switch(e){case"value":return kO(this._delegate,h,p),t;case"child_added":return eV(this._delegate,h,p),t;case"child_removed":return iV(this._delegate,h,p),t;case"child_changed":return tV(this._delegate,h,p),t;case"child_moved":return nV(this._delegate,h,p),t;default:throw new Error((0,H.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,i){if((0,H.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,H.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,H.Wj)("Query.off","callback",t,!0),(0,H.lb)("Query.off","context",i,!0),t){const r=()=>{};r.userCallback=t,r.context=i,rV(this._delegate,e,r)}else rV(this._delegate,e)}get(){return Wz(this._delegate).then(e=>new sp(this.database,e))}once(e,t,i,r){(0,H.Dv)("Query.once",1,4,arguments.length),(0,H.Wj)("Query.once","callback",t,!0);const s=fo.getCancelAndContextArgs_("Query.once",i,r),c=new H.BH,h=(_,E)=>{const S=new sp(this.database,_);t&&t.call(s.context,S,E),c.resolve(S)};h.userCallback=t,h.context=s.context;const p=_=>{s.cancel&&s.cancel.call(s.context,_),c.reject(_)};switch(e){case"value":kO(this._delegate,h,p,{onlyOnce:!0});break;case"child_added":eV(this._delegate,h,p,{onlyOnce:!0});break;case"child_removed":iV(this._delegate,h,p,{onlyOnce:!0});break;case"child_changed":tV(this._delegate,h,p,{onlyOnce:!0});break;case"child_moved":nV(this._delegate,h,p,{onlyOnce:!0});break;default:throw new Error((0,H.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(e){return(0,H.Dv)("Query.limitToFirst",1,1,arguments.length),new fo(this.database,lu(this._delegate,function t4(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new e4(n)}(e)))}limitToLast(e){return(0,H.Dv)("Query.limitToLast",1,1,arguments.length),new fo(this.database,lu(this._delegate,function i4(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new n4(n)}(e)))}orderByChild(e){return(0,H.Dv)("Query.orderByChild",1,1,arguments.length),new fo(this.database,lu(this._delegate,function s4(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return _C("orderByChild","path",n,!1),new r4(n)}(e)))}orderByKey(){return(0,H.Dv)("Query.orderByKey",0,0,arguments.length),new fo(this.database,lu(this._delegate,function a4(){return new o4}()))}orderByPriority(){return(0,H.Dv)("Query.orderByPriority",0,0,arguments.length),new fo(this.database,lu(this._delegate,function c4(){return new l4}()))}orderByValue(){return(0,H.Dv)("Query.orderByValue",0,0,arguments.length),new fo(this.database,lu(this._delegate,function d4(){return new u4}()))}startAt(e=null,t){return(0,H.Dv)("Query.startAt",0,2,arguments.length),new fo(this.database,lu(this._delegate,function Qz(n=null,e){return gC("startAt","key",e,!0),new oV(n,e)}(e,t)))}startAfter(e=null,t){return(0,H.Dv)("Query.startAfter",0,2,arguments.length),new fo(this.database,lu(this._delegate,function Xz(n,e){return gC("startAfter","key",e,!0),new Jz(n,e)}(e,t)))}endAt(e=null,t){return(0,H.Dv)("Query.endAt",0,2,arguments.length),new fo(this.database,lu(this._delegate,function Zz(n,e){return gC("endAt","key",e,!0),new sV(n,e)}(e,t)))}endBefore(e=null,t){return(0,H.Dv)("Query.endBefore",0,2,arguments.length),new fo(this.database,lu(this._delegate,function Kz(n,e){return gC("endBefore","key",e,!0),new Yz(n,e)}(e,t)))}equalTo(e,t){return(0,H.Dv)("Query.equalTo",1,2,arguments.length),new fo(this.database,lu(this._delegate,function f4(n,e){return gC("equalTo","key",e,!0),new h4(n,e)}(e,t)))}toString(){return(0,H.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,H.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,H.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof fo))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,i){const r={cancel:void 0,context:void 0};if(t&&i)r.cancel=t,(0,H.Wj)(e,"cancel",r.cancel,!0),r.context=i,(0,H.lb)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,H.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new pl(this.database,new oc(this._delegate._repo,this._delegate._path))}}class pl extends fo{constructor(e,t){super(e,new Ga(t._repo,t._path,new zI,!1)),this.database=e,this._delegate=t}getKey(){return(0,H.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,H.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new pl(this.database,kg(this._delegate,e))}getParent(){(0,H.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new pl(this.database,e):null}getRoot(){return(0,H.Dv)("Reference.root",0,0,arguments.length),new pl(this.database,this._delegate.root)}set(e,t){(0,H.Dv)("Reference.set",1,2,arguments.length),(0,H.Wj)("Reference.set","onComplete",t,!0);const i=MO(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}update(e,t){if((0,H.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,cV("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}rc("Reference.update",this._delegate._path),(0,H.Wj)("Reference.update","onComplete",t,!0);const i=zz(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,H.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,H.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function qz(n,e,t){if(rc("setWithPriority",n._path),id("setWithPriority",e,n._path,!1),wO("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new H.BH;return TO(n._repo,n._path,e,t,i.wrapCallback(()=>{})),i.promise}(this._delegate,e,t);return i&&r.then(()=>i(null),s=>i(s)),r}remove(e){(0,H.Dv)("Reference.remove",0,1,arguments.length),(0,H.Wj)("Reference.remove","onComplete",e,!0);const t=function Gz(n){return rc("remove",n._path),MO(n,null)}(this._delegate);return e&&t.then(()=>e(null),i=>e(i)),t}transaction(e,t,i){(0,H.Dv)("Reference.transaction",1,3,arguments.length),(0,H.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,H.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,i){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,H.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function x4(n,e,t){var i;if(n=(0,H.m9)(n),rc("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=null==t?void 0:t.applyLocally)||void 0===i||i,s=new H.BH,h=kO(n,()=>{});return function Fz(n,e,t,i,r,s){pv(n,"transaction on "+e);const c={path:e,update:t,onComplete:i,status:null,order:oL(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=IO(n,e,void 0);c.currentInputSnapshot=h;const p=c.update(h.val());if(void 0===p)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{mC("transaction failed: Data returned ",p,c.path),c.status=0;const _=cS(n.transactionQueueTree_,e),E=xg(_)||[];let S;E.push(c),yO(_,E),"object"==typeof p&&null!==p&&(0,H.r3)(p,".priority")?(S=(0,H.DV)(p,".priority"),(0,H.hu)(pC(S),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):S=(oS(n.serverSyncTree_,e)||Dn.EMPTY_NODE).getPriority().val();const N=yC(n),j=Cr(p,S),z=mO(j,h,N);c.currentOutputSnapshotRaw=j,c.currentOutputSnapshotResolved=z,c.currentWriteId=fS(n);const le=lO(n.serverSyncTree_,e,z,c.currentWriteId,c.applyLocally);sc(n.eventQueue_,e,le),pS(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(p,_,E)=>{let S=null;p?s.reject(p):(S=new Mg(E,new oc(n._repo,n._path),Gi),s.resolve(new A4(_,S)))},h,r),s.promise}(this._delegate,e,{applyLocally:i}).then(s=>new F4(s.committed,new sp(this.database,s.snapshot)));return t&&r.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),r}setPriority(e,t){(0,H.Dv)("Reference.setPriority",1,2,arguments.length),(0,H.Wj)("Reference.setPriority","onComplete",t,!0);const i=function $z(n,e){n=(0,H.m9)(n),rc("setPriority",n._path),wO("setPriority",e,!1);const t=new H.BH;return TO(n._repo,cr(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}push(e,t){(0,H.Dv)("Reference.push",0,2,arguments.length),(0,H.Wj)("Reference.push","onComplete",t,!0);const i=function jz(n,e){n=(0,H.m9)(n),rc("push",n._path),id("push",e,n._path,!0);const t=U2(n._repo),i=Q$(t),r=kg(n,i),s=kg(n,i);let c;return c=null!=e?MO(s,e).then(()=>s):Promise.resolve(s),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}(this._delegate,e),r=i.then(c=>new pl(this.database,c));t&&r.then(()=>t(null),c=>t(c));const s=new pl(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return rc("Reference.onDisconnect",this._delegate._path),new P4(new Q2(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class bC{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(e,t,i={}){!function b4(n,e,t,i={}){(n=(0,H.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&ed("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&ed('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Qw(Qw.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,H.Sg)(i.mockUserToken,n.app.options.projectId);s=new Qw(c)}!function m4(n,e,t,i){n.repoInfo_=new AR(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,e,t,s)}(this._delegate,e,t,i)}ref(e){if((0,H.Dv)("database.ref",0,1,arguments.length),e instanceof pl){const t=X2(this._delegate,e.toString());return new pl(this,t)}{const t=J2(this._delegate,e);return new pl(this,t)}}refFromURL(e){(0,H.Dv)("database.refFromURL",1,1,arguments.length);const i=X2(this._delegate,e);return new pl(this,i)}goOffline(){return(0,H.Dv)("database.goOffline",0,0,arguments.length),function w4(n){(n=(0,H.m9)(n))._checkNotDeleted("goOffline"),$2(n._repo)}(this._delegate)}goOnline(){return(0,H.Dv)("database.goOnline",0,0,arguments.length),function C4(n){(n=(0,H.m9)(n))._checkNotDeleted("goOnline"),function Pz(n){n.persistentConnection_&&n.persistentConnection_.resume(B2)}(n._repo)}(this._delegate)}}bC.ServerValue={TIMESTAMP:function I4(){return D4}(),increment:n=>function S4(n){return{".sv":{increment:n}}}(n)};var V4=Object.freeze({__proto__:null,initStandalone:function L4({app:n,url:e,version:t,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){rL(t);const c=new kr.zt("auth-internal",new kr.H0("database-standalone"));return c.setComponent(new kr.wA("auth-internal",()=>i,"PRIVATE")),{instance:new bC(lV(n,c,void 0,e,s),n),namespace:r}}});const B4=bC.ServerValue;function uV(n){return null==n}function dV(n){return"function"==typeof n.set}function hV(n,e){return dV(e)?e:n.ref(e)}function fV(n,e){if(function H4(n){return"string"==typeof n}(n))return e.stringCase();if(dV(n))return e.firebaseCase();if(function j4(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function wC(n,e,t="on",i=ca.z){return new ji.y(r=>{let s=null;return s=n[t](e,(c,h)=>{i.schedule(()=>{r.next({snapshot:c,prevKey:h})}),"once"===t&&i.schedule(()=>r.complete())},c=>{i.schedule(()=>r.error(c))}),"on"===t?{unsubscribe(){null!=s&&n.off(e,s)}}:{unsubscribe(){}}}).pipe((0,M.U)(r=>{const{snapshot:s,prevKey:c}=r;let h=null;return s.exists()&&(h=s.key),{type:e,payload:s,prevKey:c,key:h}}),(0,R.B)())}function pV(n,e){const t=n.length;for(let i=0;i<t;i++)if(n[i].payload.key===e)return i;return-1}function q4(n,e){const{payload:t,prevKey:i,key:r}=e,s=pV(n,r),c=function $4(n,e){if(uV(e))return 0;{const t=pV(n,e);return-1===t?n.length:t+1}}(n,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let h=null;e.payload.forEach(p=>{const _={payload:p,type:"value",prevKey:h,key:p.key};return h=p.key,n=[...n,_],!1})}return n;case"child_added":if(s>-1){const h=n[s-1];(h&&h.key||null)!==i&&(n=n.filter(p=>p.payload.key!==t.key)).splice(c,0,e)}else{if(null==i)return[e,...n];(n=n.slice()).splice(c,0,e)}return n;case"child_removed":return n.filter(h=>h.payload.key!==t.key);case"child_changed":return n.map(h=>h.payload.key===r?e:h);case"child_moved":if(s>-1){const h=n.splice(s,1)[0];return(n=n.slice()).splice(c,0,h),n}return n;default:return n}}function mV(n){return(uV(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function gV(n,e,t){return function G4(n,e,t){return wC(n,"value","once",t).pipe(C(i=>{const r=[bt(i)];return e.forEach(s=>r.push(wC(n,s,"on",t))),(0,Rr.T)(...r).pipe(ir(q4,[]))}),D_())}(n,e=mV(e),t)}function _V(n,e,t){const i=(e=mV(e)).map(r=>wC(n,r,"on",t));return(0,Rr.T)(...i)}function yV(n,e){return function(i,r){return fV(i,{stringCase:()=>n.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function Y4(n){return function(t){return t?fV(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function vV(n,e){return function(){return wC(n,"value","on",e)}}!function U4(n){n.INTERNAL.registerComponent(new kr.wA("database-compat",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new bC(r,i)},"PUBLIC").setServiceProps({Reference:pl,Query:fo,Database:bC,DataSnapshot:sp,enableLogging:E4,INTERNAL:V4,ServerValue:B4}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.1.8")}(Jh.Z);const J4=new a.OlP("angularfire2.realtimeDatabaseURL"),X4=new a.OlP("angularfire2.database.use-emulator");let eW=(()=>{class n{constructor(t,i,r,s,c,h,p,_,E,S,N,j,z,le,we){this.schedulers=h;const pt=p,_t=(0,pi.on)(t,c,i);_&&Ip(_t,c,E,N,j,z,S,le),this.database=(0,pi.cc)(`${_t.name}.database.${r}`,"AngularFireDatabase",_t.name,()=>{const yt=c.runOutsideAngular(()=>_t.database(r||void 0));return pt&&yt.useEmulator(...pt),yt},[pt])}list(t,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>hV(this.database,t));let s=r;return i&&(s=i(r)),function K4(n,e){const t=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:yV(i,"update"),set:yV(i,"set"),push:r=>i.push(r),remove:Y4(i),snapshotChanges:r=>gV(n,r,t).pipe(Gt.iC),stateChanges:r=>_V(n,r,t).pipe(Gt.iC),auditTrail:r=>function z4(n,e,t){return function Z4(n,e,t){return function W4(n,e){return wC(n,"value","on",e).pipe((0,M.U)(t=>{let i;return t.payload.forEach(r=>(i=r.key,!1)),{data:t,lastKeyToLoad:i}}))}(n,t).pipe(function q6(...n){const e=(0,xo.jO)(n);return(0,vn.e)((t,i)=>{const r=n.length,s=new Array(r);let c=n.map(()=>!1),h=!1;for(let p=0;p<r;p++)(0,Or.Xf)(n[p]).subscribe((0,Xn.x)(i,_=>{s[p]=_,!h&&!c[p]&&(c[p]=!0,(h=c.every(wt.y))&&(c=null))},tL.Z));t.subscribe((0,Xn.x)(i,p=>{if(h){const _=[p,...s];i.next(e?e(..._):_)}}))})}(e),(0,M.U)(([r,s])=>{const c=r.lastKeyToLoad,h=s.map(p=>p.key);return{actions:s,lastKeyToLoad:c,loadedKeys:h}}),function z6(n){return(0,vn.e)((e,t)=>{let i=!1,r=0;e.subscribe((0,Xn.x)(t,s=>(i||(i=!n(s,r++)))&&t.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,M.U)(r=>r.actions))}(n,_V(n,e).pipe(ir((r,s)=>[...r,s],[])),t)}(n,r,t).pipe(Gt.iC),valueChanges:(r,s)=>gV(n,r,t).pipe((0,M.U)(h=>h.map(p=>s&&s.idField?Object.assign(Object.assign({},p.payload.val()),{[s.idField]:p.key}):p.payload.val())),Gt.iC)}}(s,this)}object(t){return function Q4(n,e){return{query:n,snapshotChanges:()=>vV(n,e.schedulers.outsideAngular)().pipe(Gt.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>vV(n,e.schedulers.outsideAngular)().pipe(Gt.iC,(0,M.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>hV(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(pi.Dh),a.LFG(pi.xv,8),a.LFG(J4,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Gt.HU),a.LFG(X4,8),a.LFG(Ad,8),a.LFG(Ii,8),a.LFG(ra,8),a.LFG(el,8),a.LFG(Gl,8),a.LFG(xu,8),a.LFG(Pc,8),a.LFG(Sd,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),tW=(()=>{class n{constructor(){Vt.Z.registerVersion("angularfire",Gt.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[eW]}),n})();const bV_firebase={apiKey:"AIzaSyDhvCXW9MYuuNRH53qvJfKPvWAbPWd2GTY",authDomain:"ngtestproject-aae3e.firebaseapp.com",databaseURL:"https://ngtestproject-aae3e.firebaseio.com",projectId:"ngtestproject-aae3e",storageBucket:"ngtestproject-aae3e.appspot.com",messagingSenderId:"746664637767",appId:"1:746664637767:web:8b1259e8482f3730"},nW=new a.OlP("cdk-dir-doc",{providedIn:"root",factory:function iW(){return(0,a.f3M)(fe)}}),rW=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let OO,CC=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new a.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function sW(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?rW.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(nW,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),EC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();try{OO="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){OO=!1}let gv,va=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function yi(n){return n===pr}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!OO)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.Lbi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const CV=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function EV(){if(gv)return gv;if("object"!=typeof document||!document)return gv=new Set(CV),gv;let n=document.createElement("input");return gv=new Set(CV.filter(e=>(n.setAttribute("type",e),n.type===e))),gv}let TC,Rg,NO;function bS(n){return function oW(){if(null==TC&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>TC=!0}))}finally{TC=TC||!1}return TC}()?n:!!n.capture}function aW(){if(null==Rg){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Rg=!1,Rg;if("scrollBehavior"in document.documentElement.style)Rg=!0;else{const n=Element.prototype.scrollTo;Rg=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Rg}function TV(n){if(function lW(){if(null==NO){const n="undefined"!=typeof document?document.head:null;NO=!(!n||!n.createShadowRoot&&!n.attachShadow)}return NO}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function PO(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Og(n){return n.composedPath?n.composedPath()[0]:n.target}function FO(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function ml(n){return(0,vn.e)((e,t)=>{(0,Or.Xf)(n).subscribe((0,Xn.x)(t,()=>t.complete(),tL.Z)),!t.closed&&e.subscribe(t)})}function ac(n){return null!=n&&"false"!=`${n}`}function CS(n,e=0){return function _W(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function DV(n){return Array.isArray(n)?n:[n]}function fs(n){return null==n?"":"string"==typeof n?n:`${n}px`}function yh(n){return n instanceof a.SBq?n.nativeElement:n}let AV=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function wW(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function bW(n){try{return n.frameElement}catch(e){return null}}(function xW(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===MV(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),s=MV(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function SW(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function AW(n){return!function EW(n){return function DW(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function CW(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function TW(n){return function IW(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||xV(n))}(t)&&!this.isDisabled(t)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(va))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xV(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function MV(n){if(!xV(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class MW{constructor(e,t,i,r,s=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return null==i||i.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe((0,Se.q)(1)).subscribe(e)}}let kW=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new MW(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(AV),a.LFG(a.R0b),a.LFG(fe))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function kV(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function RV(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const RW=new a.OlP("cdk-input-modality-detector-options"),OW={ignoreKeys:[18,17,224,91,16]},_v=bS({passive:!0,capture:!0});let NW=(()=>{class n{constructor(t,i,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Wr(null),this._lastTouchMs=0,this._onKeydown=c=>{var h,p;(null===(p=null===(h=this._options)||void 0===h?void 0:h.ignoreKeys)||void 0===p?void 0:p.some(_=>_===c.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Og(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(kV(c)?"keyboard":"mouse"),this._mostRecentTarget=Og(c))},this._onTouchstart=c=>{RV(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Og(c))},this._options=Object.assign(Object.assign({},OW),s),this.modalityDetected=this._modality.pipe(function gW(n){return ae((e,t)=>n<=t)}(1)),this.modalityChanged=this.modalityDetected.pipe(D_()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,_v),r.addEventListener("mousedown",this._onMousedown,_v),r.addEventListener("touchstart",this._onTouchstart,_v)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,_v),document.removeEventListener("mousedown",this._onMousedown,_v),document.removeEventListener("touchstart",this._onTouchstart,_v))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(va),a.LFG(a.R0b),a.LFG(fe),a.LFG(RW,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const FW=new a.OlP("cdk-focus-monitor-default-options"),ES=bS({passive:!0,capture:!0});let NV=(()=>{class n{constructor(t,i,r,s,c){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Jt.x,this._rootNodeFocusAndBlurListener=h=>{const p=Og(h),_="focus"===h.type?this._onFocus:this._onBlur;for(let E=p;E;E=E.parentElement)_.call(this,h,E)},this._document=s,this._detectionMode=(null==c?void 0:c.detectionMode)||0}monitor(t,i=!1){const r=yh(t);if(!this._platform.isBrowser||1!==r.nodeType)return bt(null);const s=TV(r)||this._getDocument(),c=this._elementInfo.get(r);if(c)return i&&(c.checkChildren=!0),c.subject;const h={checkChildren:i,subject:new Jt.x,rootNode:s};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(t){const i=yh(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const s=yh(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([h,p])=>this._originChanged(h,i,p)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),s=Og(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(t,i){this._ngZone.run(()=>t.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,ES),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,ES)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ml(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ES),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ES),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.R0b),a.LFG(va),a.LFG(NW),a.LFG(fe,8),a.LFG(FW,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const PV="cdk-high-contrast-black-on-white",FV="cdk-high-contrast-white-on-black",LO="cdk-high-contrast-active";let LW=(()=>{class n{constructor(t,i){this._platform=t,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(LO),t.remove(PV),t.remove(FV),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(t.add(LO),t.add(PV)):2===i&&(t.add(LO),t.add(FV))}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(va),a.LFG(fe))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class LV{}const vh="*";function DC(n,e){return{type:7,name:n,definitions:e,options:{}}}function rd(n,e=null){return{type:4,styles:e,timings:n}}function VV(n,e=null){return{type:3,steps:n,options:e}}function VO(n,e=null){return{type:2,steps:n,options:e}}function xs(n){return{type:6,styles:n,offset:null}}function BO(n,e,t){return{type:0,name:n,styles:e,options:t}}function op(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function BV(n=null){return{type:9,options:n}}function UV(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function HV(n){Promise.resolve(null).then(n)}class IC{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){HV(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class jV{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?HV(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==s&&this._onFinish()}),c.onDestroy(()=>{++i==s&&this._onDestroy()}),c.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((c,h)=>Math.max(c,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const zn=!1;function GV(n){return new a.vHH(3e3,zn)}function v5(){return"undefined"!=typeof window&&void 0!==window.document}function HO(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ap(n){switch(n.length){case 0:return new IC;case 1:return n[0];default:return new jV(n)}}function $V(n,e,t,i,r={},s={}){const c=[],h=[];let p=-1,_=null;if(i.forEach(E=>{const S=E.offset,N=S==p,j=N&&_||{};Object.keys(E).forEach(z=>{let le=z,we=E[z];if("offset"!==z)switch(le=e.normalizePropertyName(le,c),we){case"!":we=r[z];break;case vh:we=s[z];break;default:we=e.normalizeStyleValue(z,le,we,c)}j[le]=we}),N||h.push(j),_=j,p=S}),c.length)throw function l5(n){return new a.vHH(3502,zn)}();return h}function jO(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&GO(t,"start",n)));break;case"done":n.onDone(()=>i(t&&GO(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&GO(t,"destroy",n)))}}function GO(n,e,t){const i=t.totalTime,s=$O(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==i?n.totalTime:i,!!t.disabled),c=n._data;return null!=c&&(s._data=c),s}function $O(n,e,t,i,r="",s=0,c){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!c}}function gl(n,e,t){let i;return n instanceof Map?(i=n.get(e),i||n.set(e,i=t)):(i=n[e],i||(i=n[e]=t)),i}function qV(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let qO=(n,e)=>!1,zV=(n,e,t)=>[],WV=null;function zO(n){const e=n.parentNode||n.host;return e===WV?null:e}(HO()||"undefined"!=typeof Element)&&(v5()?(WV=(()=>document.documentElement)(),qO=(n,e)=>{for(;e;){if(e===n)return!0;e=zO(e)}return!1}):qO=(n,e)=>n.contains(e),zV=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let Ng=null,ZV=!1;function YV(n){Ng||(Ng=function w5(){return"undefined"!=typeof document?document.body:null}()||{},ZV=!!Ng.style&&"WebkitAppearance"in Ng.style);let e=!0;return Ng.style&&!function b5(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Ng.style,!e&&ZV&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Ng.style)),e}const KV=qO,QV=zV;let JV=(()=>{class n{validateStyleProperty(t){return YV(t)}matchesElement(t,i){return!1}containsElement(t,i){return KV(t,i)}getParentElement(t){return zO(t)}query(t,i,r){return QV(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,c,h=[],p){return new IC(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),WO=(()=>{class n{}return n.NOOP=new JV,n})();const ZO="ng-enter",DS="ng-leave",IS="ng-trigger",SS=".ng-trigger",eB="ng-animating",YO=".ng-animating";function Pg(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:KO(parseFloat(e[1]),e[2])}function KO(n,e){return"s"===e?1e3*n:n}function AS(n,e,t){return n.hasOwnProperty("duration")?n:function T5(n,e,t){let r,s=0,c="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(GV()),{duration:0,delay:0,easing:""};r=KO(parseFloat(h[1]),h[2]);const p=h[3];null!=p&&(s=KO(parseFloat(p),h[4]));const _=h[5];_&&(c=_)}else r=n;if(!t){let h=!1,p=e.length;r<0&&(e.push(function BW(){return new a.vHH(3100,zn)}()),h=!0),s<0&&(e.push(function UW(){return new a.vHH(3101,zn)}()),h=!0),h&&e.splice(p,0,GV())}return{duration:r,delay:s,easing:c}}(n,e,t)}function yv(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function lp(n,e,t={}){if(e)for(let i in n)t[i]=n[i];else yv(n,t);return t}function nB(n,e,t){return t?e+":"+t+";":""}function iB(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=nB(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=nB(0,S5(t),n.style[t]));n.setAttribute("style",e)}function sd(n,e,t){n.style&&(Object.keys(e).forEach(i=>{const r=JO(i);t&&!t.hasOwnProperty(i)&&(t[i]=n.style[r]),n.style[r]=e[i]}),HO()&&iB(n))}function Fg(n,e){n.style&&(Object.keys(e).forEach(t=>{const i=JO(t);n.style[i]=""}),HO()&&iB(n))}function SC(n){return Array.isArray(n)?1==n.length?n[0]:VO(n):n}const QO=new RegExp("{{\\s*(.+?)\\s*}}","g");function rB(n){let e=[];if("string"==typeof n){let t;for(;t=QO.exec(n);)e.push(t[1]);QO.lastIndex=0}return e}function xS(n,e,t){const i=n.toString(),r=i.replace(QO,(s,c)=>{let h=e[c];return e.hasOwnProperty(c)||(t.push(function jW(n){return new a.vHH(3003,zn)}()),h=""),h.toString()});return r==i?n:r}function MS(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const I5=/-+([a-z0-9])/g;function JO(n){return n.replace(I5,(...e)=>e[1].toUpperCase())}function S5(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function _l(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function GW(n){return new a.vHH(3004,zn)}()}}function sB(n,e){return window.getComputedStyle(n)[e]}function O5(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function N5(n,e,t){if(":"==n[0]){const p=function P5(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function r5(n){return new a.vHH(3016,zn)}()),"* => *"}}(n,t);if("function"==typeof p)return void e.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function n5(n){return new a.vHH(3015,zn)}()),e;const r=i[1],s=i[2],c=i[3];e.push(oB(r,c));"<"==s[0]&&!("*"==r&&"*"==c)&&e.push(oB(c,r))}(i,t,e)):t.push(n),t}const NS=new Set(["true","1"]),PS=new Set(["false","0"]);function oB(n,e){const t=NS.has(n)||PS.has(n),i=NS.has(e)||PS.has(e);return(r,s)=>{let c="*"==n||n==r,h="*"==e||e==s;return!c&&t&&"boolean"==typeof r&&(c=r?NS.has(n):PS.has(n)),!h&&i&&"boolean"==typeof s&&(h=s?NS.has(e):PS.has(e)),c&&h}}const F5=new RegExp("s*:selfs*,?","g");function XO(n,e,t,i){return new L5(n).build(e,t,i)}class L5{constructor(e){this._driver=e}build(e,t,i){const r=new U5(t);this._resetContextStyleTimingState(r);const s=_l(this,SC(e),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function qW(){return new a.vHH(3006,zn)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const p=h,_=p.name;_.toString().split(/\s*,\s*/).forEach(E=>{p.name=E,s.push(this.visitState(p,t))}),p.name=_}else if(1==h.type){const p=this.visitTransition(h,t);i+=p.queryCount,r+=p.depCount,c.push(p)}else t.errors.push(function zW(){return new a.vHH(3007,zn)}())}),{type:7,name:e.name,states:s,transitions:c,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,c=r||{};i.styles.forEach(h=>{if(FS(h)){const p=h;Object.keys(p).forEach(_=>{rB(p[_]).forEach(E=>{c.hasOwnProperty(E)||s.add(E)})})}}),s.size&&(MS(s.values()),t.errors.push(function WW(n,e){return new a.vHH(3008,zn)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=_l(this,SC(e.animation),t);return{type:1,matchers:O5(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Lg(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>_l(this,i,t)),options:Lg(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(c=>{t.currentTime=i;const h=_l(this,c,t);return r=Math.max(r,t.currentTime),h});return t.currentTime=r,{type:3,steps:s,options:Lg(e.options)}}visitAnimate(e,t){const i=function j5(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return e1(AS(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=e1(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=AS(t,e);return e1(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:xs({});if(5==s.type)r=this.visitKeyframes(s,t);else{let c=e.styles,h=!1;if(!c){h=!0;const _={};i.easing&&(_.easing=i.easing),c=xs(_)}t.currentTime+=i.duration+i.delay;const p=this.visitStyle(c,t);p.isEmptyStep=h,r=p}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(c=>{"string"==typeof c?c==vh?i.push(c):t.errors.push(function ZW(n){return new a.vHH(3002,zn)}()):i.push(c)}):i.push(e.styles);let r=!1,s=null;return i.forEach(c=>{if(FS(c)){const h=c,p=h.easing;if(p&&(s=p,delete h.easing),!r)for(let _ in h)if(h[_].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(c=>{"string"!=typeof c&&Object.keys(c).forEach(h=>{if(!this._driver.validateStyleProperty(h))return delete c[h],void t.unsupportedCSSPropertiesFound.add(h);const p=t.collectedStyles[t.currentQuerySelector],_=p[h];let E=!0;_&&(s!=r&&s>=_.startTime&&r<=_.endTime&&(t.errors.push(function YW(n,e,t,i,r){return new a.vHH(3010,zn)}()),E=!1),s=_.startTime),E&&(p[h]={startTime:s,endTime:r}),t.options&&function D5(n,e,t){const i=e.params||{},r=rB(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function HW(n){return new a.vHH(3001,zn)}())})}(c[h],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function KW(){return new a.vHH(3011,zn)}()),i;let s=0;const c=[];let h=!1,p=!1,_=0;const E=e.steps.map(pt=>{const _t=this._makeStyleAst(pt,t);let yt=null!=_t.offset?_t.offset:function H5(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(FS(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(FS(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(_t.styles),ht=0;return null!=yt&&(s++,ht=_t.offset=yt),p=p||ht<0||ht>1,h=h||ht<_,_=ht,c.push(ht),_t});p&&t.errors.push(function QW(){return new a.vHH(3012,zn)}()),h&&t.errors.push(function JW(){return new a.vHH(3200,zn)}());const S=e.steps.length;let N=0;s>0&&s<S?t.errors.push(function XW(){return new a.vHH(3202,zn)}()):0==s&&(N=1/(S-1));const j=S-1,z=t.currentTime,le=t.currentAnimateTimings,we=le.duration;return E.forEach((pt,_t)=>{const yt=N>0?_t==j?1:N*_t:c[_t],ht=yt*we;t.currentTime=z+le.delay+ht,le.duration=ht,this._validateStyleAst(pt,t),pt.offset=yt,i.styles.push(pt)}),i}visitReference(e,t){return{type:8,animation:_l(this,SC(e.animation),t),options:Lg(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Lg(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Lg(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,c]=function V5(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(F5,"")),n=n.replace(/@\*/g,SS).replace(/@\w+/g,t=>SS+"-"+t.substr(1)).replace(/:animating/g,YO),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,gl(t.collectedStyles,t.currentQuerySelector,{});const h=_l(this,SC(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:h,originalSelector:e.selector,options:Lg(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function e5(){return new a.vHH(3013,zn)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:AS(e.timings,t.errors,!0);return{type:12,animation:_l(this,SC(e.animation),t),timings:i,options:null}}}class U5{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function FS(n){return!Array.isArray(n)&&"object"==typeof n}function Lg(n){return n?(n=yv(n)).params&&(n.params=function B5(n){return n?yv(n):null}(n.params)):n={},n}function e1(n,e,t){return{duration:n,delay:e,easing:t}}function t1(n,e,t,i,r,s,c=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:c,subTimeline:h}}class LS{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const q5=new RegExp(":enter","g"),W5=new RegExp(":leave","g");function n1(n,e,t,i,r,s={},c={},h,p,_=[]){return(new Z5).buildKeyframes(n,e,t,i,r,s,c,h,p,_)}class Z5{buildKeyframes(e,t,i,r,s,c,h,p,_,E=[]){_=_||new LS;const S=new r1(e,t,_,r,s,E,[]);S.options=p,S.currentTimeline.setStyles([c],null,S.errors,p),_l(this,i,S);const N=S.timelines.filter(j=>j.containsAnimation());if(Object.keys(h).length){let j;for(let z=N.length-1;z>=0;z--){const le=N[z];if(le.element===t){j=le;break}}j&&!j.allowOnlyTimelineStyles()&&j.setStyles([h],null,S.errors,p)}return N.length?N.map(j=>j.buildKeyframes()):[t1(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);s!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const c=null!=i.duration?Pg(i.duration):null,h=null!=i.delay?Pg(i.delay):null;return 0!==c&&e.forEach(p=>{const _=t.appendInstructionToTimeline(p,c,h);s=Math.max(s,_.duration+_.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),_l(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=VS);const c=Pg(s.delay);r.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>_l(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Pg(e.options.delay):0;e.steps.forEach(c=>{const h=t.createSubContext(e.options);s&&h.delayNextStep(s),_l(this,c,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return AS(t.params?xS(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,h=t.createSubContext().currentTimeline;h.easing=i.easing,e.styles.forEach(p=>{h.forwardTime((p.offset||0)*s),h.setStyles(p.styles,p.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?Pg(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=VS);let c=i;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=h.length;let p=null;h.forEach((_,E)=>{t.currentQueryIndex=E;const S=t.createSubContext(e.options,_);s&&S.delayNextStep(s),_===t.element&&(p=S.currentTimeline),_l(this,e.animation,S),S.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,S.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),p&&(t.currentTimeline.mergeTimelineCollectedStyles(p),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,c=Math.abs(s.duration),h=c*(t.currentQueryTotal-1);let p=c*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=h-p;break;case"full":p=i.currentStaggerTime}const E=t.currentTimeline;p&&E.delayNextStep(p);const S=E.currentTime;_l(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-S+(r.startTime-i.currentTimeline.startTime)}}const VS={};class r1{constructor(e,t,i,r,s,c,h,p){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=c,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=VS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new BS(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Pg(i.duration)),null!=i.delay&&(r.delay=Pg(i.delay));const s=i.params;if(s){let c=r.params;c||(c=this.options.params={}),Object.keys(s).forEach(h=>{(!t||!c.hasOwnProperty(h))&&(c[h]=xS(s[h],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new r1(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=VS,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},s=new Y5(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,c){let h=[];if(r&&h.push(this.element),e.length>0){e=(e=e.replace(q5,"."+this._enterClassName)).replace(W5,"."+this._leaveClassName);let _=this._driver.query(this.element,e,1!=i);0!==i&&(_=i<0?_.slice(_.length+i,_.length):_.slice(0,i)),h.push(..._)}return!s&&0==h.length&&c.push(function t5(n){return new a.vHH(3014,zn)}()),h}}class BS{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new BS(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||vh,this._currentKeyframe[t]=vh}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&(this._previousKeyframe.easing=t);const s=r&&r.params||{},c=function K5(n,e){const t={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(e),i.forEach(s=>{t[s]=vh})):lp(r,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(c).forEach(h=>{const p=xS(c[h],s,i);this._pendingStyles[h]=p,this._localTimelineStyles.hasOwnProperty(h)||(this._backFill[h]=this._globalTimelineStyles.hasOwnProperty(h)?this._globalTimelineStyles[h]:vh),this._updateStyle(h,p)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(i=>{this._currentKeyframe[i]=e[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],r=e._styleSummary[t];(!i||r.time>i.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,p)=>{const _=lp(h,!0);Object.keys(_).forEach(E=>{const S=_[E];"!"==S?e.add(E):S==vh&&t.add(E)}),i||(_.offset=p/this.duration),r.push(_)});const s=e.size?MS(e.values()):[],c=t.size?MS(t.values()):[];if(i){const h=r[0],p=yv(h);h.offset=0,p.offset=1,r=[h,p]}return t1(this.element,r,s,c,this.duration,this.startTime,this.easing,!1)}}class Y5 extends BS{constructor(e,t,i,r,s,c,h=!1){super(e,t,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=h,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],c=i+t,h=t/c,p=lp(e[0],!1);p.offset=0,s.push(p);const _=lp(e[0],!1);_.offset=cB(h),s.push(_);const E=e.length-1;for(let S=1;S<=E;S++){let N=lp(e[S],!1);N.offset=cB((t+N.offset*i)/c),s.push(N)}i=c,t=0,r="",e=s}return t1(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function cB(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class s1{}class Q5 extends s1{normalizePropertyName(e,t){return JO(e)}normalizeStyleValue(e,t,i,r){let s="";const c=i.toString().trim();if(J5[t]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function $W(n,e){return new a.vHH(3005,zn)}())}return c+s}}const J5=(()=>function X5(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function uB(n,e,t,i,r,s,c,h,p,_,E,S,N){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:c,timelines:h,queriedElements:p,preStyleProps:_,postStyleProps:E,totalTime:S,errors:N}}const o1={};class dB{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function eZ(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){const r=this._stateStyles["*"],s=this._stateStyles[e],c=r?r.buildStyles(t,i):{};return s?s.buildStyles(t,i):c}build(e,t,i,r,s,c,h,p,_,E){const S=[],N=this.ast.options&&this.ast.options.params||o1,z=this.buildStyles(i,h&&h.params||o1,S),le=p&&p.params||o1,we=this.buildStyles(r,le,S),pt=new Set,_t=new Map,yt=new Map,ht="void"===r,Xt={params:Object.assign(Object.assign({},N),le)},ln=E?[]:n1(e,t,this.ast.animation,s,c,z,we,Xt,_,S);let Wn=0;if(ln.forEach(vl=>{Wn=Math.max(vl.duration+vl.delay,Wn)}),S.length)return uB(t,this._triggerName,i,r,ht,z,we,[],[],_t,yt,Wn,S);ln.forEach(vl=>{const Dh=vl.element,QH=gl(_t,Dh,{});vl.preStyleProps.forEach(Wg=>QH[Wg]=!0);const jC=gl(yt,Dh,{});vl.postStyleProps.forEach(Wg=>jC[Wg]=!0),Dh!==t&&pt.add(Dh)});const Tr=MS(pt.values());return uB(t,this._triggerName,i,r,ht,z,we,ln,Tr,_t,yt,Wn)}}class tZ{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i={},r=yv(this.defaultParams);return Object.keys(e).forEach(s=>{const c=e[s];null!=c&&(r[s]=c)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const c=s;Object.keys(c).forEach(h=>{let p=c[h];p.length>1&&(p=xS(p,r,t));const _=this.normalizer.normalizePropertyName(h,t);p=this.normalizer.normalizeStyleValue(h,_,p,t),i[_]=p})}}),i}}class iZ{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states={},t.states.forEach(r=>{this.states[r.name]=new tZ(r.style,r.options&&r.options.params||{},i)}),hB(this.states,"true","1"),hB(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new dB(e,r,this.states))}),this.fallbackTransition=function rZ(n,e,t){return new dB(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(c=>c.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function hB(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const sZ=new LS;class oZ{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],s=XO(this._driver,t,i,[]);if(i.length)throw function c5(n){return new a.vHH(3503,zn)}();this._animations[e]=s}_buildPlayer(e,t,i){const r=e.element,s=$V(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations[e];let c;const h=new Map;if(s?(c=n1(this._driver,t,s,ZO,DS,{},{},i,sZ,r),c.forEach(E=>{const S=gl(h,E.element,{});E.postStyleProps.forEach(N=>S[N]=null)})):(r.push(function u5(){return new a.vHH(3300,zn)}()),c=[]),r.length)throw function d5(n){return new a.vHH(3504,zn)}();h.forEach((E,S)=>{Object.keys(E).forEach(N=>{E[N]=this._driver.computeStyle(S,N,vh)})});const _=ap(c.map(E=>{const S=h.get(E.element);return this._buildPlayer(E,{},S)}));return this._playersById[e]=_,_.onDestroy(()=>this.destroy(e)),this.players.push(_),_}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function h5(n){return new a.vHH(3301,zn)}();return t}listen(e,t,i,r){const s=$O(t,"","","");return jO(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const fB="ng-animate-queued",a1="ng-animate-disabled",dZ=[],pB={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},hZ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},lc="__ng_removed";class l1{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function gZ(n){return null!=n?n:null}(i?e.value:e),i){const s=yv(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const AC="void",c1=new l1(AC);class fZ{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,cc(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.hasOwnProperty(t))throw function f5(n,e){return new a.vHH(3302,zn)}();if(null==i||0==i.length)throw function p5(n){return new a.vHH(3303,zn)}();if(!function _Z(n){return"start"==n||"done"==n}(i))throw function m5(n,e){return new a.vHH(3400,zn)}();const s=gl(this._elementListeners,e,[]),c={name:t,phase:i,callback:r};s.push(c);const h=gl(this._engine.statesByElement,e,{});return h.hasOwnProperty(t)||(cc(e,IS),cc(e,IS+"-"+t),h[t]=c1),()=>{this._engine.afterFlush(()=>{const p=s.indexOf(c);p>=0&&s.splice(p,1),this._triggers[t]||delete h[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function g5(n){return new a.vHH(3401,zn)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),c=new u1(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(cc(e,IS),cc(e,IS+"-"+t),this._engine.statesByElement.set(e,h={}));let p=h[t];const _=new l1(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&_.absorbOptions(p.options),h[t]=_,p||(p=c1),_.value!==AC&&p.value===_.value){if(!function bZ(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(p.params,_.params)){const le=[],we=s.matchStyles(p.value,p.params,le),pt=s.matchStyles(_.value,_.params,le);le.length?this._engine.reportError(le):this._engine.afterFlush(()=>{Fg(e,we),sd(e,pt)})}return}const N=gl(this._engine.playersByElement,e,[]);N.forEach(le=>{le.namespaceId==this.id&&le.triggerName==t&&le.queued&&le.destroy()});let j=s.matchTransition(p.value,_.value,e,_.params),z=!1;if(!j){if(!r)return;j=s.fallbackTransition,z=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:j,fromState:p,toState:_,player:c,isFallbackTransition:z}),z||(cc(e,fB),c.onStart(()=>{vv(e,fB)})),c.onDone(()=>{let le=this.players.indexOf(c);le>=0&&this.players.splice(le,1);const we=this._engine.playersByElement.get(e);if(we){let pt=we.indexOf(c);pt>=0&&we.splice(pt,1)}}),this.players.push(c),N.push(c),c}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,SS,!0);i.forEach(r=>{if(r[lc])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(c=>c.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),c=new Map;if(s){const h=[];if(Object.keys(s).forEach(p=>{if(c.set(p,s[p].value),this._triggers[p]){const _=this.trigger(e,p,AC,r);_&&h.push(_)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),i&&ap(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const c=s.name;if(r.has(c))return;r.add(c);const p=this._triggers[c].fallbackTransition,_=i[c]||c1,E=new l1(AC),S=new u1(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:p,fromState:_,toState:E,player:S,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let c=e;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[lc];(!s||s===pB)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){cc(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,c=this._elementListeners.get(s);c&&c.forEach(h=>{if(h.name==i.triggerName){const p=$O(s,i.triggerName,i.fromState.value,i.toState.value);p._data=e,jO(i.player,h.phase,p,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==s||0==c?s-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class pZ{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new fZ(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement,s=i.length-1;if(s>=0){let c=!1;if(void 0!==this.driver.getParentElement){let h=this.driver.getParentElement(t);for(;h;){const p=r.get(h);if(p){const _=i.indexOf(p);i.splice(_+1,0,e),c=!0;break}h=this.driver.getParentElement(h)}}else for(let h=s;h>=0;h--)if(this.driver.containsElement(i[h].hostElement,t)){i.splice(h+1,0,e),c=!0;break}c||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const r=Object.keys(i);for(let s=0;s<r.length;s++){const c=i[r[s]].namespaceId;if(c){const h=this._fetchNamespace(c);h&&t.add(h)}}}return t}trigger(e,t,i,r){if(US(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!US(t))return;const s=t[lc];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),cc(e,a1)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),vv(e,a1))}removeNode(e,t,i,r){if(US(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[lc]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return US(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,SS,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,YO,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ap(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const i=e[lc];if(i&&i.setForRemoval){if(e[lc]=pB,i.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,i.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(a1))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)cc(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?ap(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function _5(n){return new a.vHH(3402,zn)}()}_flushAnimations(e,t){const i=new LS,r=[],s=new Map,c=[],h=new Map,p=new Map,_=new Map,E=new Set;this.disabledNodes.forEach(Ft=>{E.add(Ft);const Yt=this.driver.query(Ft,".ng-animate-queued",!0);for(let pn=0;pn<Yt.length;pn++)E.add(Yt[pn])});const S=this.bodyNode,N=Array.from(this.statesByElement.keys()),j=_B(N,this.collectedEnterElements),z=new Map;let le=0;j.forEach((Ft,Yt)=>{const pn=ZO+le++;z.set(Yt,pn),Ft.forEach(ci=>cc(ci,pn))});const we=[],pt=new Set,_t=new Set;for(let Ft=0;Ft<this.collectedLeaveElements.length;Ft++){const Yt=this.collectedLeaveElements[Ft],pn=Yt[lc];pn&&pn.setForRemoval&&(we.push(Yt),pt.add(Yt),pn.hasAnimation?this.driver.query(Yt,".ng-star-inserted",!0).forEach(ci=>pt.add(ci)):_t.add(Yt))}const yt=new Map,ht=_B(N,Array.from(pt));ht.forEach((Ft,Yt)=>{const pn=DS+le++;yt.set(Yt,pn),Ft.forEach(ci=>cc(ci,pn))}),e.push(()=>{j.forEach((Ft,Yt)=>{const pn=z.get(Yt);Ft.forEach(ci=>vv(ci,pn))}),ht.forEach((Ft,Yt)=>{const pn=yt.get(Yt);Ft.forEach(ci=>vv(ci,pn))}),we.forEach(Ft=>{this.processLeaveNode(Ft)})});const Xt=[],ln=[];for(let Ft=this._namespaceList.length-1;Ft>=0;Ft--)this._namespaceList[Ft].drainQueuedTransitions(t).forEach(pn=>{const ci=pn.player,Js=pn.element;if(Xt.push(ci),this.collectedEnterElements.length){const Ca=Js[lc];if(Ca&&Ca.setForMove){if(Ca.previousTriggersValues&&Ca.previousTriggersValues.has(pn.triggerName)){const Zg=Ca.previousTriggersValues.get(pn.triggerName),gp=this.statesByElement.get(pn.element);gp&&gp[pn.triggerName]&&(gp[pn.triggerName].value=Zg)}return void ci.destroy()}}const od=!S||!this.driver.containsElement(S,Js),bl=yt.get(Js),mp=z.get(Js),Dr=this._buildInstruction(pn,i,mp,bl,od);if(Dr.errors&&Dr.errors.length)return void ln.push(Dr);if(od)return ci.onStart(()=>Fg(Js,Dr.fromStyles)),ci.onDestroy(()=>sd(Js,Dr.toStyles)),void r.push(ci);if(pn.isFallbackTransition)return ci.onStart(()=>Fg(Js,Dr.fromStyles)),ci.onDestroy(()=>sd(Js,Dr.toStyles)),void r.push(ci);const ej=[];Dr.timelines.forEach(Ca=>{Ca.stretchStartingKeyframe=!0,this.disabledNodes.has(Ca.element)||ej.push(Ca)}),Dr.timelines=ej,i.append(Js,Dr.timelines),c.push({instruction:Dr,player:ci,element:Js}),Dr.queriedElements.forEach(Ca=>gl(h,Ca,[]).push(ci)),Dr.preStyleProps.forEach((Ca,Zg)=>{const gp=Object.keys(Ca);if(gp.length){let Yg=p.get(Zg);Yg||p.set(Zg,Yg=new Set),gp.forEach(TN=>Yg.add(TN))}}),Dr.postStyleProps.forEach((Ca,Zg)=>{const gp=Object.keys(Ca);let Yg=_.get(Zg);Yg||_.set(Zg,Yg=new Set),gp.forEach(TN=>Yg.add(TN))})});if(ln.length){const Ft=[];ln.forEach(Yt=>{Ft.push(function y5(n,e){return new a.vHH(3505,zn)}())}),Xt.forEach(Yt=>Yt.destroy()),this.reportError(Ft)}const Wn=new Map,Tr=new Map;c.forEach(Ft=>{const Yt=Ft.element;i.has(Yt)&&(Tr.set(Yt,Yt),this._beforeAnimationBuild(Ft.player.namespaceId,Ft.instruction,Wn))}),r.forEach(Ft=>{const Yt=Ft.element;this._getPreviousPlayers(Yt,!1,Ft.namespaceId,Ft.triggerName,null).forEach(ci=>{gl(Wn,Yt,[]).push(ci),ci.destroy()})});const vl=we.filter(Ft=>vB(Ft,p,_)),Dh=new Map;gB(Dh,this.driver,_t,_,vh).forEach(Ft=>{vB(Ft,p,_)&&vl.push(Ft)});const jC=new Map;j.forEach((Ft,Yt)=>{gB(jC,this.driver,new Set(Ft),p,"!")}),vl.forEach(Ft=>{const Yt=Dh.get(Ft),pn=jC.get(Ft);Dh.set(Ft,Object.assign(Object.assign({},Yt),pn))});const Wg=[],JH=[],XH={};c.forEach(Ft=>{const{element:Yt,player:pn,instruction:ci}=Ft;if(i.has(Yt)){if(E.has(Yt))return pn.onDestroy(()=>sd(Yt,ci.toStyles)),pn.disabled=!0,pn.overrideTotalTime(ci.totalTime),void r.push(pn);let Js=XH;if(Tr.size>1){let bl=Yt;const mp=[];for(;bl=bl.parentNode;){const Dr=Tr.get(bl);if(Dr){Js=Dr;break}mp.push(bl)}mp.forEach(Dr=>Tr.set(Dr,Js))}const od=this._buildAnimation(pn.namespaceId,ci,Wn,s,jC,Dh);if(pn.setRealPlayer(od),Js===XH)Wg.push(pn);else{const bl=this.playersByElement.get(Js);bl&&bl.length&&(pn.parentPlayer=ap(bl)),r.push(pn)}}else Fg(Yt,ci.fromStyles),pn.onDestroy(()=>sd(Yt,ci.toStyles)),JH.push(pn),E.has(Yt)&&r.push(pn)}),JH.forEach(Ft=>{const Yt=s.get(Ft.element);if(Yt&&Yt.length){const pn=ap(Yt);Ft.setRealPlayer(pn)}}),r.forEach(Ft=>{Ft.parentPlayer?Ft.syncPlayerEvents(Ft.parentPlayer):Ft.destroy()});for(let Ft=0;Ft<we.length;Ft++){const Yt=we[Ft],pn=Yt[lc];if(vv(Yt,DS),pn&&pn.hasAnimation)continue;let ci=[];if(h.size){let od=h.get(Yt);od&&od.length&&ci.push(...od);let bl=this.driver.query(Yt,YO,!0);for(let mp=0;mp<bl.length;mp++){let Dr=h.get(bl[mp]);Dr&&Dr.length&&ci.push(...Dr)}}const Js=ci.filter(od=>!od.destroyed);Js.length?yZ(this,Yt,Js):this.processLeaveNode(Yt)}return we.length=0,Wg.forEach(Ft=>{this.players.push(Ft),Ft.onDone(()=>{Ft.destroy();const Yt=this.players.indexOf(Ft);this.players.splice(Yt,1)}),Ft.play()}),Wg}elementContainsData(e,t){let i=!1;const r=t[lc];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let c=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(c=h)}else{const h=this.playersByElement.get(e);if(h){const p=!s||s==AC;h.forEach(_=>{_.queued||!p&&_.triggerName!=r||c.push(_)})}}return(i||r)&&(c=c.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),c}_beforeAnimationBuild(e,t,i){const s=t.element,c=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const p of t.timelines){const _=p.element,E=_!==s,S=gl(i,_,[]);this._getPreviousPlayers(_,E,c,h,t.toState).forEach(j=>{const z=j.getRealPlayer();z.beforeDestroy&&z.beforeDestroy(),j.destroy(),S.push(j)})}Fg(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,c){const h=t.triggerName,p=t.element,_=[],E=new Set,S=new Set,N=t.timelines.map(z=>{const le=z.element;E.add(le);const we=le[lc];if(we&&we.removedBeforeQueried)return new IC(z.duration,z.delay);const pt=le!==p,_t=function vZ(n){const e=[];return yB(n,e),e}((i.get(le)||dZ).map(Wn=>Wn.getRealPlayer())).filter(Wn=>!!Wn.element&&Wn.element===le),yt=s.get(le),ht=c.get(le),Xt=$V(0,this._normalizer,0,z.keyframes,yt,ht),ln=this._buildPlayer(z,Xt,_t);if(z.subTimeline&&r&&S.add(le),pt){const Wn=new u1(e,h,le);Wn.setRealPlayer(ln),_.push(Wn)}return ln});_.forEach(z=>{gl(this.playersByQueriedElement,z.element,[]).push(z),z.onDone(()=>function mZ(n,e,t){let i;if(n instanceof Map){if(i=n.get(e),i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}}else if(i=n[e],i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&delete n[e]}return i}(this.playersByQueriedElement,z.element,z))}),E.forEach(z=>cc(z,eB));const j=ap(N);return j.onDestroy(()=>{E.forEach(z=>vv(z,eB)),sd(p,t.toStyles)}),S.forEach(z=>{gl(r,z,[]).push(j)}),j}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new IC(e.duration,e.delay)}}class u1{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new IC,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>jO(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){gl(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function US(n){return n&&1===n.nodeType}function mB(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function gB(n,e,t,i,r){const s=[];t.forEach(p=>s.push(mB(p)));const c=[];i.forEach((p,_)=>{const E={};p.forEach(S=>{const N=E[S]=e.computeStyle(_,S,r);(!N||0==N.length)&&(_[lc]=hZ,c.push(_))}),n.set(_,E)});let h=0;return t.forEach(p=>mB(p,s[h++])),c}function _B(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const r=new Set(e),s=new Map;function c(h){if(!h)return 1;let p=s.get(h);if(p)return p;const _=h.parentNode;return p=t.has(_)?_:r.has(_)?1:c(_),s.set(h,p),p}return e.forEach(h=>{const p=c(h);1!==p&&t.get(p).push(h)}),t}function cc(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function vv(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function yZ(n,e,t){ap(t).onDone(()=>n.processLeaveNode(e))}function yB(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof jV?yB(i.players,e):e.push(i)}}function vB(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class HS{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new pZ(e,t,i),this._timelineEngine=new oZ(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const c=e+"-"+r;let h=this._triggerCache[c];if(!h){const p=[],E=XO(this._driver,s,p,[]);if(p.length)throw function a5(n,e){return new a.vHH(3404,zn)}();h=function nZ(n,e,t){return new iZ(n,e,t)}(r,E,this._normalizer),this._triggerCache[c]=h}this._transitionEngine.registerTrigger(t,r,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,c]=qV(i);this._timelineEngine.command(s,t,c,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[c,h]=qV(i);return this._timelineEngine.listen(c,t,h,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let CZ=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&sd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(sd(this._element,this._initialStyles),this._endStyles&&(sd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Fg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Fg(this._element,this._endStyles),this._endStyles=null),sd(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function d1(n){let e=null;const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=t[i];EZ(r)&&(e=e||{},e[r]=n[r])}return e}function EZ(n){return"display"===n||"position"===n}class bB{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(i=>{"offset"!=i&&(e[i]=this._finished?t[i]:sB(this.element,i))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class TZ{validateStyleProperty(e){return YV(e)}matchesElement(e,t){return!1}containsElement(e,t){return KV(e,t)}getParentElement(e){return zO(e)}query(e,t,i){return QV(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,c=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(p.easing=s);const _={},E=c.filter(N=>N instanceof bB);(function A5(n,e){return 0===n||0===e})(i,r)&&E.forEach(N=>{let j=N.currentSnapshot;Object.keys(j).forEach(z=>_[z]=j[z])}),t=function x5(n,e,t){const i=Object.keys(t);if(i.length&&e.length){let s=e[0],c=[];if(i.forEach(h=>{s.hasOwnProperty(h)||c.push(h),s[h]=t[h]}),c.length)for(var r=1;r<e.length;r++){let h=e[r];c.forEach(function(p){h[p]=sB(n,p)})}}return e}(e,t=t.map(N=>lp(N,!1)),_);const S=function wZ(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=d1(e[0]),e.length>1&&(i=d1(e[e.length-1]))):e&&(t=d1(e)),t||i?new CZ(n,t,i):null}(e,t);return new bB(e,t,p,S)}}let DZ=(()=>{class n extends LV{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?VO(t):t;return wB(this._renderer,null,i,"register",[r]),new IZ(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.FYo),a.LFG(fe))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class IZ extends class VW{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new SZ(this._id,e,t||{},this._renderer)}}class SZ{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return wB(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function wB(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const CB="@.disabled";let AZ=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,c)=>{const h=null==c?void 0:c.parentNode(s);h&&c.removeChild(h,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let E=this._rendererCache.get(s);return E||(E=new EB("",s,this.engine),this._rendererCache.set(s,E)),E}const c=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const p=E=>{Array.isArray(E)?E.forEach(p):this.engine.registerTrigger(c,h,t,E.name,E)};return i.data.animation.forEach(p),new xZ(this,h,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[c,h]=s;c(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.FYo),a.LFG(HS),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class EB{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==CB?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class xZ extends EB{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==CB?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function MZ(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.substr(1),c="";return"@"!=s.charAt(0)&&([s,c]=function kZ(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,c,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(e,t,i)}}let RZ=(()=>{class n extends HS{constructor(t,i,r){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(fe),a.LFG(WO),a.LFG(s1))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const cp=new a.OlP("AnimationModuleType"),TB=[{provide:LV,useClass:DZ},{provide:s1,useFactory:function OZ(){return new Q5}},{provide:HS,useClass:RZ},{provide:a.FYo,useFactory:function NZ(n,e,t){return new AZ(n,e,t)},deps:[hn,HS,a.R0b]}],DB=[{provide:WO,useFactory:()=>new TZ},{provide:cp,useValue:"BrowserAnimations"},...TB],PZ=[{provide:WO,useClass:JV},{provide:cp,useValue:"NoopAnimations"},...TB];let FZ=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?PZ:DB}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:DB,imports:[ao]}),n})();const VZ=new a.OlP("mat-sanity-checks",{providedIn:"root",factory:function LZ(){return!0}});let Jr=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!FO()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(LW),a.LFG(VZ,8),a.LFG(fe))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[EC],EC]}),n})();function BZ(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=ac(e)}}}function GS(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function UZ(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=ac(e)}}}function HZ(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new Jt.x,this.errorState=!1}updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}}}let SB=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),AB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Jr],Jr]}),n})();class GZ{constructor(e,t,i){this._renderer=e,this.element=t,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const xB={enterDuration:225,exitDuration:150},h1=bS({passive:!0}),MB=["mousedown","touchstart"],kB=["mouseup","mouseleave","touchend","touchcancel"];class qZ{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=yh(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},xB),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const c=i.radius||function WZ(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),h=e-r.left,p=t-r.top,_=s.enterDuration,E=document.createElement("div");E.classList.add("mat-ripple-element"),E.style.left=h-c+"px",E.style.top=p-c+"px",E.style.height=2*c+"px",E.style.width=2*c+"px",null!=i.color&&(E.style.backgroundColor=i.color),E.style.transitionDuration=`${_}ms`,this._containerElement.appendChild(E),function zZ(n){window.getComputedStyle(n).getPropertyValue("opacity")}(E),E.style.transform="scale(1)";const S=new GZ(this,E,i);return S.state=0,this._activeRipples.add(S),i.persistent||(this._mostRecentTransientRipple=S),this._runTimeoutOutsideZone(()=>{const N=S===this._mostRecentTransientRipple;S.state=1,!i.persistent&&(!N||!this._isPointerDown)&&S.fadeOut()},_),S}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const i=e.element,r=Object.assign(Object.assign({},xB),e.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=yh(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(MB))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(kB),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=kV(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!RV(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,h1)})})}_removeTriggerEvents(){this._triggerElement&&(MB.forEach(e=>{this._triggerElement.removeEventListener(e,this,h1)}),this._pointerUpEventsRegistered&&kB.forEach(e=>{this._triggerElement.removeEventListener(e,this,h1)}))}}const ZZ=new a.OlP("mat-ripple-global-options");let RB=(()=>{class n{constructor(t,i,r,s,c){this._elementRef=t,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new qZ(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(va),a.Y36(ZZ,8),a.Y36(cp,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&a.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),YZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Jr],Jr]}),n})();const KZ=["mat-button",""],QZ=["*"],XZ=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],e8=GS(BZ(UZ(class{constructor(n){this._elementRef=n}})));let Vg=(()=>{class n extends e8{constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of XZ)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(NV),a.Y36(cp,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&a.Gf(RB,5),2&t){let r;a.iGM(r=a.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(a.uIk("disabled",i.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.qOj],attrs:KZ,ngContentSelectors:QZ,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(a.F$t(),a.TgZ(0,"span",0),a.Hsn(1),a.qZA(),a._UZ(2,"span",1)(3,"span",2)),2&t&&(a.xp6(2),a.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),a.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[RB],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),t8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[YZ,Jr],Jr]}),n})();const n8=["*",[["mat-card-footer"]]],i8=["*","mat-card-footer"];let OB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),NB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),PB=(()=>{class n{constructor(t){this._animationMode=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(cp,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,i){2&t&&a.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:i8,decls:2,vars:0,template:function(t,i){1&t&&(a.F$t(n8),a.Hsn(0),a.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),r8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Jr],Jr]}),n})(),a8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[AB,Jr],AB,Jr]}),n})();function LB(...n){const e=(0,xo.jO)(n),{args:t,keys:i}=Fc(n),r=new ji.y(s=>{const{length:c}=t;if(!c)return void s.complete();const h=new Array(c);let p=c,_=c;for(let E=0;E<c;E++){let S=!1;(0,Or.Xf)(t[E]).subscribe((0,Xn.x)(s,N=>{S||(S=!0,_--),h[E]=N},()=>p--,void 0,()=>{(!p||!S)&&(_||s.next(i?Vv(i,h):h),s.complete())}))}});return e?r.pipe(Yi(e)):r}let VB=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n}),n})(),Ug=(()=>{class n extends VB{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();const uc=new a.OlP("NgValueAccessor"),c8={provide:uc,useExisting:(0,a.Gpc)(()=>up),multi:!0},d8=new a.OlP("CompositionEventMode");let up=(()=>{class n extends VB{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function u8(){const n=U()?U().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(d8,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&a.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[a._Bn([c8]),a.qOj]}),n})();function dp(n){return null==n||0===n.length}function UB(n){return null!=n&&"number"==typeof n.length}const jo=new a.OlP("NgValidators"),hp=new a.OlP("NgAsyncValidators"),h8=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class po{static min(e){return function HB(n){return e=>{if(dp(e.value)||dp(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function jB(n){return e=>{if(dp(e.value)||dp(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function GB(n){return dp(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function $B(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function qB(n){return dp(n.value)||h8.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function zB(n){return e=>dp(e.value)||!UB(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return WB(e)}static pattern(e){return function ZB(n){if(!n)return $S;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(dp(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return eU(e)}static composeAsync(e){return tU(e)}}function WB(n){return e=>UB(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function $S(n){return null}function YB(n){return null!=n}function KB(n){const e=(0,a.QGY)(n)?(0,$t.D)(n):n;return(0,a.CqO)(e),e}function QB(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function JB(n,e){return e.map(t=>t(n))}function XB(n){return n.map(e=>function f8(n){return!n.validate}(e)?e:t=>e.validate(t))}function eU(n){if(!n)return null;const e=n.filter(YB);return 0==e.length?null:function(t){return QB(JB(t,e))}}function f1(n){return null!=n?eU(XB(n)):null}function tU(n){if(!n)return null;const e=n.filter(YB);return 0==e.length?null:function(t){return LB(JB(t,e).map(KB)).pipe((0,M.U)(QB))}}function p1(n){return null!=n?tU(XB(n)):null}function nU(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function iU(n){return n._rawValidators}function rU(n){return n._rawAsyncValidators}function m1(n){return n?Array.isArray(n)?n:[n]:[]}function qS(n,e){return Array.isArray(n)?n.includes(e):n===e}function sU(n,e){const t=m1(e);return m1(n).forEach(r=>{qS(t,r)||t.push(r)}),t}function oU(n,e){return m1(e).filter(t=>!qS(n,t))}class aU{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=f1(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=p1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class bh extends aU{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ba extends aU{get formDirective(){return null}get path(){return null}}class lU{constructor(e){this._cd=e}is(e){var t,i,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[e])}}let bv=(()=>{class n extends lU{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(bh,2))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&a.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[a.qOj]}),n})(),zS=(()=>{class n extends lU{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(ba,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&a.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[a.qOj]}),n})();function ZS(n,e){return[...e.path,n]}function MC(n,e){y1(n,e),e.valueAccessor.writeValue(n.value),function w8(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&uU(n,e)})}(n,e),function E8(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function C8(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&uU(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function b8(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function YS(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),QS(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function KS(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function y1(n,e){const t=iU(n);null!==e.validator?n.setValidators(nU(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=rU(n);null!==e.asyncValidator?n.setAsyncValidators(nU(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();KS(e._rawValidators,r),KS(e._rawAsyncValidators,r)}function QS(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=iU(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=rU(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return KS(e._rawValidators,i),KS(e._rawAsyncValidators,i),t}function uU(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function dU(n,e){y1(n,e)}function v1(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function fU(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function b1(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===up?t=s:function I8(n){return Object.getPrototypeOf(n.constructor)===Ug}(s)?i=s:r=s}),r||i||t||null}function w1(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const kC="VALID",JS="INVALID",wv="PENDING",RC="DISABLED";function E1(n){return(XS(n)?n.validators:n)||null}function pU(n){return Array.isArray(n)?f1(n):n||null}function T1(n,e){return(XS(e)?e.asyncValidators:n)||null}function mU(n){return Array.isArray(n)?p1(n):n||null}function XS(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const D1=n=>n instanceof S1,eA=n=>n instanceof Hg,gU=n=>n instanceof bU;function _U(n){return D1(n)?n.value:n.getRawValue()}function yU(n,e){const t=eA(n),i=n.controls;if(!(t?Object.keys(i):i).length)throw new a.vHH(1e3,"");if(!i[e])throw new a.vHH(1001,"")}function vU(n,e){eA(n),n._forEachChild((i,r)=>{if(void 0===e[r])throw new a.vHH(1002,"")})}class I1{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=pU(this._rawValidators),this._composedAsyncValidatorFn=mU(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===kC}get invalid(){return this.status===JS}get pending(){return this.status==wv}get disabled(){return this.status===RC}get enabled(){return this.status!==RC}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=pU(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=mU(e)}addValidators(e){this.setValidators(sU(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(sU(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(oU(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(oU(e,this._rawAsyncValidators))}hasValidator(e){return qS(this._rawValidators,e)}hasAsyncValidator(e){return qS(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=wv,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=RC,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=kC,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===kC||this.status===wv)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?RC:kC}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=wv,this._hasOwnPendingAsyncValidator=!0;const t=KB(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function S8(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let i=n;return e.forEach(r=>{i=eA(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:gU(i)&&i.at(r)||null}),i}(this,e,".")}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?RC:this.errors?JS:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wv)?wv:this._anyControlsHaveStatus(JS)?JS:kC}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){XS(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class S1 extends I1{constructor(e=null,t,i){super(E1(t),T1(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),XS(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){w1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){w1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Hg extends I1{constructor(e,t,i){super(E1(t),T1(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){vU(this,e),Object.keys(e).forEach(i=>{yU(this,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=_U(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const i=this.controls[t];if(this.contains(t)&&e(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class bU extends I1{constructor(e,t,i){super(E1(t),T1(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){vU(this,e),e.forEach((i,r)=>{yU(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>_U(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const A8={provide:ba,useExisting:(0,a.Gpc)(()=>tA)},OC=(()=>Promise.resolve(null))();let tA=(()=>{class n extends ba{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new Hg({},f1(t),p1(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){OC.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),MC(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){OC.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){OC.then(()=>{const i=this._findContainer(t.path),r=new Hg({});dU(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){OC.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){OC.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,fU(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(jo,10),a.Y36(hp,10))},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&a.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([A8]),a.qOj]}),n})();const M8={provide:bh,useExisting:(0,a.Gpc)(()=>nA)},EU=(()=>Promise.resolve(null))();let nA=(()=>{class n extends bh{constructor(t,i,r,s,c){super(),this._changeDetectorRef=c,this.control=new S1,this._registered=!1,this.update=new a.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=b1(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),v1(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){MC(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){EU.then(()=>{var i;this.control.setValue(t,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=""===i||i&&"false"!==i;EU.then(()=>{var s;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(t){return this._parent?ZS(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(ba,9),a.Y36(jo,10),a.Y36(hp,10),a.Y36(uc,10),a.Y36(a.sBO,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([M8]),a.qOj,a.TTD]}),n})(),iA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),DU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const A1=new a.OlP("NgModelWithFormControlWarning"),F8={provide:ba,useExisting:(0,a.Gpc)(()=>jg)};let jg=(()=>{class n extends ba{constructor(t,i){super(),this.validators=t,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(QS(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return MC(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){YS(t.control||null,t,!1),w1(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,fU(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(YS(i||null,t),D1(r)&&(MC(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);dU(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function T8(n,e){return QS(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){y1(this.form,this),this._oldForm&&QS(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(jo,10),a.Y36(hp,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&a.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([F8]),a.qOj,a.TTD]}),n})();const B8={provide:bh,useExisting:(0,a.Gpc)(()=>NC)};let NC=(()=>{class n extends bh{constructor(t,i,r,s,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=b1(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),v1(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return ZS(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(a.Y36(ba,13),a.Y36(jo,10),a.Y36(hp,10),a.Y36(uc,10),a.Y36(A1,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([B8]),a.qOj,a.TTD]}),n})();let Gg=(()=>{class n{constructor(){this._validator=$S}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):$S,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,features:[a.TTD]}),n})();const X8={provide:jo,useExisting:(0,a.Gpc)(()=>N1),multi:!0};let N1=(()=>{class n extends Gg{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function RU(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>WB(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,i){2&t&&a.uIk("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[a._Bn([X8]),a.qOj]}),n})(),UU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[DU]]}),n})(),tY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[UU]}),n})(),HU=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:A1,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[UU]}),n})(),P1=(()=>{class n{group(t,i=null){const r=this._reduceControls(t);let h,s=null,c=null;return null!=i&&(function nY(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(i)?(s=null!=i.validators?i.validators:null,c=null!=i.asyncValidators?i.asyncValidators:null,h=null!=i.updateOn?i.updateOn:void 0):(s=null!=i.validator?i.validator:null,c=null!=i.asyncValidator?i.asyncValidator:null)),new Hg(r,{asyncValidators:c,updateOn:h,validators:s})}control(t,i,r){return new S1(t,i,r)}array(t,i,r){const s=t.map(c=>this._createControl(c));return new bU(s,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return D1(t)||eA(t)||gU(t)?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:HU}),n})(),jU=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iY=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=yh(t);return new ji.y(r=>{const c=this._observeElement(i).subscribe(r);return()=>{c.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new Jt.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(jU))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rY=(()=>{class n{constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new a.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=ac(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=CS(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(_F(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(iY),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),sY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[jU]}),n})();var oY=G(1144);const aY=["addListener","removeListener"],lY=["addEventListener","removeEventListener"],cY=["on","off"];function rA(n,e,t,i){if((0,en.m)(t)&&(i=t,t=void 0),i)return rA(n,e,t).pipe(Yi(i));const[r,s]=function hY(n){return(0,en.m)(n.addEventListener)&&(0,en.m)(n.removeEventListener)}(n)?lY.map(c=>h=>n[c](e,h,t)):function uY(n){return(0,en.m)(n.addListener)&&(0,en.m)(n.removeListener)}(n)?aY.map(GU(n,e)):function dY(n){return(0,en.m)(n.on)&&(0,en.m)(n.off)}(n)?cY.map(GU(n,e)):[];if(!r&&(0,oY.z)(n))return(0,Zr.z)(c=>rA(c,e,t))((0,Or.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new ji.y(c=>{const h=(...p)=>c.next(1<p.length?p:p[0]);return r(h),()=>s(h)})}function GU(n,e){return t=>i=>n[t](e,i)}const fY=["connectionContainer"],pY=["inputContainer"],mY=["label"];function gY(n,e){1&n&&(a.ynx(0),a.TgZ(1,"div",14),a._UZ(2,"div",15)(3,"div",16)(4,"div",17),a.qZA(),a.TgZ(5,"div",18),a._UZ(6,"div",15)(7,"div",16)(8,"div",17),a.qZA(),a.BQk())}function _Y(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",19),a.NdJ("cdkObserveContent",function(){return a.CHM(t),a.oxw().updateOutlineGap()}),a.Hsn(1,1),a.qZA()}if(2&n){const t=a.oxw();a.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function yY(n,e){if(1&n&&(a.ynx(0),a.Hsn(1,2),a.TgZ(2,"span"),a._uU(3),a.qZA(),a.BQk()),2&n){const t=a.oxw(2);a.xp6(3),a.Oqu(t._control.placeholder)}}function vY(n,e){1&n&&a.Hsn(0,3,["*ngSwitchCase","true"])}function bY(n,e){1&n&&(a.TgZ(0,"span",23),a._uU(1," *"),a.qZA())}function wY(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"label",20,21),a.NdJ("cdkObserveContent",function(){return a.CHM(t),a.oxw().updateOutlineGap()}),a.YNc(2,yY,4,1,"ng-container",12),a.YNc(3,vY,1,0,"ng-content",12),a.YNc(4,bY,2,0,"span",22),a.qZA()}if(2&n){const t=a.oxw();a.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),a.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),a.uIk("for",t._control.id)("aria-owns",t._control.id),a.xp6(2),a.Q6J("ngSwitchCase",!1),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function CY(n,e){1&n&&(a.TgZ(0,"div",24),a.Hsn(1,4),a.qZA())}function EY(n,e){if(1&n&&(a.TgZ(0,"div",25),a._UZ(1,"span",26),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function TY(n,e){if(1&n&&(a.TgZ(0,"div"),a.Hsn(1,5),a.qZA()),2&n){const t=a.oxw();a.Q6J("@transitionMessages",t._subscriptAnimationState)}}function DY(n,e){if(1&n&&(a.TgZ(0,"div",30),a._uU(1),a.qZA()),2&n){const t=a.oxw(2);a.Q6J("id",t._hintLabelId),a.xp6(1),a.Oqu(t.hintLabel)}}function IY(n,e){if(1&n&&(a.TgZ(0,"div",27),a.YNc(1,DY,2,2,"div",28),a.Hsn(2,6),a._UZ(3,"div",29),a.Hsn(4,7),a.qZA()),2&n){const t=a.oxw();a.Q6J("@transitionMessages",t._subscriptAnimationState),a.xp6(1),a.Q6J("ngIf",t.hintLabel)}}const SY=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],AY=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let xY=0;const $U=new a.OlP("MatError");let F1=(()=>{class n{constructor(t,i){this.id="mat-error-"+xY++,t||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(t){return new(t||n)(a.$8M("aria-live"),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(t,i){2&t&&a.uIk("id",i.id)},inputs:{id:"id"},features:[a._Bn([{provide:$U,useExisting:n}])]}),n})();const MY={transitionMessages:DC("transitionMessages",[BO("enter",xs({opacity:1,transform:"translateY(0%)"})),op("void => enter",[xs({opacity:0,transform:"translateY(-5px)"}),rd("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let L1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n}),n})();const kY=new a.OlP("MatHint");let PC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-label"]]}),n})(),RY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const OY=new a.OlP("MatPrefix"),NY=new a.OlP("MatSuffix");let qU=0;const FY=GS(class{constructor(n){this._elementRef=n}},"primary"),LY=new a.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),WU=new a.OlP("MatFormField");let V1=(()=>{class n extends FY{constructor(t,i,r,s,c,h,p){super(t),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=c,this._ngZone=h,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Jt.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+qU++,this._labelId="mat-form-field-label-"+qU++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==p,this.appearance=s&&s.appearance?s.appearance:"legacy",this._hideRequiredMarker=!(!s||null==s.hideRequiredMarker)&&s.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=ac(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(Lc(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(ml(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(ml(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Rr.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Lc(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Lc(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(ml(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,rA(this._label.nativeElement,"transitionend").pipe((0,Se.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const E=i.querySelectorAll(`${r}, ${s}`);for(let S=0;S<E.length;S++)E[S].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let c=0,h=0;const p=i.querySelectorAll(r),_=i.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const E=i.getBoundingClientRect();if(0===E.width&&0===E.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const S=this._getStartEnd(E),N=t.children,j=this._getStartEnd(N[0].getBoundingClientRect());let z=0;for(let le=0;le<N.length;le++)z+=N[le].offsetWidth;c=Math.abs(j-S)-5,h=z>0?.75*z+10:0}for(let E=0;E<p.length;E++)p[E].style.width=`${c}px`;for(let E=0;E<_.length;E++)_[E].style.width=`${h}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(CC,8),a.Y36(LY,8),a.Y36(va),a.Y36(a.R0b),a.Y36(cp,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(a.Suo(r,L1,5),a.Suo(r,L1,7),a.Suo(r,PC,5),a.Suo(r,PC,7),a.Suo(r,RY,5),a.Suo(r,$U,5),a.Suo(r,kY,5),a.Suo(r,OY,5),a.Suo(r,NY,5)),2&t){let s;a.iGM(s=a.CRH())&&(i._controlNonStatic=s.first),a.iGM(s=a.CRH())&&(i._controlStatic=s.first),a.iGM(s=a.CRH())&&(i._labelChildNonStatic=s.first),a.iGM(s=a.CRH())&&(i._labelChildStatic=s.first),a.iGM(s=a.CRH())&&(i._placeholderChild=s.first),a.iGM(s=a.CRH())&&(i._errorChildren=s),a.iGM(s=a.CRH())&&(i._hintChildren=s),a.iGM(s=a.CRH())&&(i._prefixChildren=s),a.iGM(s=a.CRH())&&(i._suffixChildren=s)}},viewQuery:function(t,i){if(1&t&&(a.Gf(fY,7),a.Gf(pY,5),a.Gf(mY,5)),2&t){let r;a.iGM(r=a.CRH())&&(i._connectionContainerRef=r.first),a.iGM(r=a.CRH())&&(i._inputContainerRef=r.first),a.iGM(r=a.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,i){2&t&&a.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[a._Bn([{provide:WU,useExisting:n}]),a.qOj],ngContentSelectors:AY,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,i){1&t&&(a.F$t(SY),a.TgZ(0,"div",0)(1,"div",1,2),a.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),a.YNc(3,gY,9,0,"ng-container",3),a.YNc(4,_Y,2,1,"div",4),a.TgZ(5,"div",5,6),a.Hsn(7),a.TgZ(8,"span",7),a.YNc(9,wY,5,16,"label",8),a.qZA()(),a.YNc(10,CY,2,0,"div",9),a.qZA(),a.YNc(11,EY,2,4,"div",10),a.TgZ(12,"div",11),a.YNc(13,TY,2,1,"div",12),a.YNc(14,IY,5,2,"div",13),a.qZA()()),2&t&&(a.xp6(3),a.Q6J("ngIf","outline"==i.appearance),a.xp6(1),a.Q6J("ngIf",i._prefixChildren.length),a.xp6(5),a.Q6J("ngIf",i._hasFloatingLabel()),a.xp6(1),a.Q6J("ngIf",i._suffixChildren.length),a.xp6(1),a.Q6J("ngIf","outline"!=i.appearance),a.xp6(1),a.Q6J("ngSwitch",i._getDisplayedMessages()),a.xp6(1),a.Q6J("ngSwitchCase","error"),a.xp6(1),a.Q6J("ngSwitchCase","hint"))},directives:[Gn,rY,Hi,fr],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[MY.transitionMessages]},changeDetection:0}),n})(),ZU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[io,Jr,sY],Jr]}),n})();const YU=bS({passive:!0});let VY=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return jh.E;const i=yh(t),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new Jt.x,c="cdk-text-field-autofilled",h=p=>{"cdk-text-field-autofill-start"!==p.animationName||i.classList.contains(c)?"cdk-text-field-autofill-end"===p.animationName&&i.classList.contains(c)&&(i.classList.remove(c),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!1}))):(i.classList.add(c),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",h,YU),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",h,YU)}}),s}stopMonitoring(t){const i=yh(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(va),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const BY=new a.OlP("MAT_INPUT_VALUE_ACCESSOR"),UY=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let HY=0;const jY=HZ(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i}});let B1=(()=>{class n extends jY{constructor(t,i,r,s,c,h,p,_,E,S){super(h,s,c,r),this._elementRef=t,this._platform=i,this._autofillMonitor=_,this._formField=S,this._uid="mat-input-"+HY++,this.focused=!1,this.stateChanges=new Jt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(z=>EV().has(z)),this._iOSKeyupListener=z=>{const le=z.target;!le.value&&0===le.selectionStart&&0===le.selectionEnd&&(le.setSelectionRange(1,1),le.setSelectionRange(0,0))};const N=this._elementRef.nativeElement,j=N.nodeName.toLowerCase();this._inputValueAccessor=p||N,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&E.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===j,this._isTextarea="textarea"===j,this._isInFormField=!!S,this._isNativeSelect&&(this.controlType=N.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=ac(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,i,r,s;return null!==(s=null!==(t=this._required)&&void 0!==t?t:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(po.required))&&void 0!==s&&s}set required(t){this._required=ac(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&EV().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=ac(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,i;const r=(null===(i=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===i?void 0:i.call(t))?null:this.placeholder;if(r!==this._previousPlaceholder){const s=this._elementRef.nativeElement;this._previousPlaceholder=r,r?s.setAttribute("placeholder",r):s.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){UY.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(va),a.Y36(bh,10),a.Y36(tA,8),a.Y36(jg,8),a.Y36(SB),a.Y36(BY,10),a.Y36(VY),a.Y36(a.R0b),a.Y36(WU,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,i){1&t&&a.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(a.Ikx("disabled",i.disabled)("required",i.required),a.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),a.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[a._Bn([{provide:L1,useExisting:n}]),a.qOj,a.TTD]}),n})(),GY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[SB],imports:[[KU,ZU,Jr],KU,ZU]}),n})();class $Y{}class fp{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),c=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof fp?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new fp;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof fp?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let c=this.headers.get(t);if(!c)return;c=c.filter(h=>-1===s.indexOf(h)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class qY{encodeKey(e){return QU(e)}encodeValue(e){return QU(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const WY=/%(\d[a-f0-9])/gi,ZY={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function QU(n){return encodeURIComponent(n).replace(WY,(e,t)=>{var i;return null!==(i=ZY[t])&&void 0!==i?i:e})}function JU(n){return`${n}`}class pp{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new qY,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function zY(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[c,h]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],p=t.get(c)||[];p.push(h),t.set(c,p)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t];this.map.set(t,Array.isArray(i)?i:[i])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new pp({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(JU(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(JU(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class YY{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function XU(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function eH(n){return"undefined"!=typeof Blob&&n instanceof Blob}function tH(n){return"undefined"!=typeof FormData&&n instanceof FormData}class FC{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function KY(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new fp),this.context||(this.context=new YY),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+c}}else this.params=new pp,this.urlWithParams=t}serializeBody(){return null===this.body?null:XU(this.body)||eH(this.body)||tH(this.body)||function QY(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof pp?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||tH(this.body)?null:eH(this.body)?this.body.type||null:XU(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof pp?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const i=e.method||this.method,r=e.url||this.url,s=e.responseType||this.responseType,c=void 0!==e.body?e.body:this.body,h=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,p=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,E=e.params||this.params;const S=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((N,j)=>N.set(j,e.setHeaders[j]),_)),e.setParams&&(E=Object.keys(e.setParams).reduce((N,j)=>N.set(j,e.setParams[j]),E)),new FC(i,r,c,{params:E,headers:_,context:S,reportProgress:p,responseType:s,withCredentials:h})}}var mo=(()=>((mo=mo||{})[mo.Sent=0]="Sent",mo[mo.UploadProgress=1]="UploadProgress",mo[mo.ResponseHeader=2]="ResponseHeader",mo[mo.DownloadProgress=3]="DownloadProgress",mo[mo.Response=4]="Response",mo[mo.User=5]="User",mo))();class U1 extends class JY{constructor(e,t=200,i="OK"){this.headers=e.headers||new fp,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=mo.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new U1({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function H1(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let iH=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof FC)s=t;else{let p,_;p=r.headers instanceof fp?r.headers:new fp(r.headers),r.params&&(_=r.params instanceof pp?r.params:new pp({fromObject:r.params})),s=new FC(t,i,void 0!==r.body?r.body:null,{headers:p,context:r.context,params:_,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=bt(s).pipe(Gh(p=>this.handler.handle(p)));if(t instanceof FC||"events"===r.observe)return c;const h=c.pipe(ae(p=>p instanceof U1));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return h.pipe((0,M.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return h.pipe((0,M.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return h.pipe((0,M.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return h.pipe((0,M.U)(p=>p.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new pp).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,H1(r,i))}post(t,i,r={}){return this.request("POST",t,H1(r,i))}put(t,i,r={}){return this.request("PUT",t,H1(r,i))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG($Y))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const eK=["*"];let sA;function LC(n){var e;return(null===(e=function tK(){if(void 0===sA&&(sA=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(sA=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return sA}())||void 0===e?void 0:e.createHTML(n))||n}function rH(n){return Error(`Unable to find icon with the name "${n}"`)}function sH(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function oH(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class $g{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let oA=(()=>{class n{constructor(t,i,r,s){this._httpClient=t,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,s){return this._addSvgIconConfig(t,i,new $g(r,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,s){const c=this._sanitizer.sanitize(a.q3G.HTML,r);if(!c)throw oH(r);const h=LC(c);return this._addSvgIconConfig(t,i,new $g("",h,s))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new $g(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const s=this._sanitizer.sanitize(a.q3G.HTML,i);if(!s)throw oH(i);const c=LC(s);return this._addSvgIconSetConfig(t,new $g("",c,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,t);if(!i)throw sH(t);const r=this._cachedIconsByUrl.get(i);return r?bt(aA(r)):this._loadSvgIconFromConfig(new $g(t,null)).pipe((0,_r.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,M.U)(s=>aA(s)))}getNamedSvgIcon(t,i=""){const r=aH(i,t);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,t),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const c=this._iconSetConfigs.get(i);return c?this._getSvgFromIconSetConfigs(t,c):Ap(rH(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?bt(aA(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,M.U)(i=>aA(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?bt(r):LB(i.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(sa(h=>{const _=`Loading icon set URL: ${this._sanitizer.sanitize(a.q3G.RESOURCE_URL,c.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(_)),bt(null)})))).pipe((0,M.U)(()=>{const c=this._extractIconWithNameFromAnySet(t,i);if(!c)throw rH(t);return c}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const c=this._svgElementFromConfig(s),h=this._extractSvgIconFromSet(c,t,s.options);if(h)return h}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,_r.b)(i=>t.svgText=i),(0,M.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?bt(null):this._fetchIcon(t).pipe((0,_r.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const s=t.querySelector(`[id="${i}"]`);if(!s)return null;const c=s.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,r);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),r);const h=this._svgElementFromString(LC("<svg></svg>"));return h.appendChild(c),this._setSvgAttributes(h,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(LC("<svg></svg>")),r=t.attributes;for(let s=0;s<r.length;s++){const{name:c,value:h}=r[s];"id"!==c&&i.setAttribute(c,h)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){var i;const{url:r,options:s}=t,c=null!==(i=null==s?void 0:s.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function nK(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const h=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,r);if(!h)throw sH(r);const p=this._inProgressUrlFetches.get(h);if(p)return p;const _=this._httpClient.get(h,{responseType:"text",withCredentials:c}).pipe((0,M.U)(E=>LC(E)),Gv(()=>this._inProgressUrlFetches.delete(h)),(0,R.B)());return this._inProgressUrlFetches.set(h,_),_}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(aH(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,t);if(s)return rK(s)?new $g(s.url,null,s.options):new $g(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(iH,8),a.LFG(jr),a.LFG(fe,8),a.LFG(a.qLn))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function aA(n){return n.cloneNode(!0)}function aH(n,e){return n+":"+e}function rK(n){return!(!n.url||!n.options)}const sK=GS(class{constructor(n){this._elementRef=n}}),oK=new a.OlP("mat-icon-location",{providedIn:"root",factory:function aK(){const n=(0,a.f3M)(fe),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),lH=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],lK=lH.map(n=>`[${n}]`).join(", "),cK=/^url\(['"]?#(.*?)['"]?\)$/;let uK=(()=>{class n extends sK{constructor(t,i,r,s,c){super(t),this._iconRegistry=i,this._location=s,this._errorHandler=c,this._inline=!1,this._currentIconFetch=tl.w0.EMPTY,r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=ac(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),i&&t.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(c=>{s.setAttribute(c.name,`url('${t}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(lK),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)lH.forEach(c=>{const h=i[s],p=h.getAttribute(c),_=p?p.match(cK):null;if(_){let E=r.get(h);E||(E=[],r.set(h,E)),E.push({name:c,value:_[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,Se.q)(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(oA),a.$8M("aria-hidden"),a.Y36(oK),a.Y36(a.qLn))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,i){2&t&&(a.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),a.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[a.qOj],ngContentSelectors:eK,decls:1,vars:0,template:function(t,i){1&t&&(a.F$t(),a.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),dK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Jr],Jr]}),n})();var cH=G(4408);const VC={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=VC;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new tl.w0(()=>null==t?void 0:t(r))},requestAnimationFrame(...n){const{delegate:e}=VC;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=VC;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var uH=G(7565);new class fK extends uH.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class hK extends cH.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=VC.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(VC.cancelAnimationFrame(t),e._scheduled=void 0)}});let j1,mK=1;const lA={};function dH(n){return n in lA&&(delete lA[n],!0)}const gK={setImmediate(n){const e=mK++;return lA[e]=!0,j1||(j1=Promise.resolve()),j1.then(()=>dH(e)&&n()),e},clearImmediate(n){dH(n)}},{setImmediate:_K,clearImmediate:yK}=gK,cA={setImmediate(...n){const{delegate:e}=cA;return((null==e?void 0:e.setImmediate)||_K)(...n)},clearImmediate(n){const{delegate:e}=cA;return((null==e?void 0:e.clearImmediate)||yK)(n)},delegate:void 0};new class bK extends uH.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class vK extends cH.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=cA.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(cA.clearImmediate(t),e._scheduled=void 0)}});var EK=G(3532);function hH(n,e=ca.z){return function CK(n){return(0,vn.e)((e,t)=>{let i=!1,r=null,s=null,c=!1;const h=()=>{if(null==s||s.unsubscribe(),s=null,i){i=!1;const _=r;r=null,t.next(_)}c&&t.complete()},p=()=>{s=null,c&&t.complete()};e.subscribe((0,Xn.x)(t,_=>{i=!0,r=_,s||(0,Or.Xf)(n(_)).subscribe(s=(0,Xn.x)(t,h,p))},()=>{c=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>function DK(n=0,e,t=ca.P){let i=-1;return null!=e&&((0,EK.K)(e)?t=e:i=e),new ji.y(r=>{let s=function TK(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let c=0;return t.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(n,e))}let SK=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Jt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new ji.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(hH(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):bt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(ae(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=yh(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>rA(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.R0b),a.LFG(va),a.LFG(fe,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uA=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Jt.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(hH(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(va),a.LFG(a.R0b),a.LFG(fe,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),G1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[EC,fH],EC,fH]}),n})();class $1{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class q1 extends $1{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class pH extends $1{constructor(e,t,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class xK extends $1{constructor(e){super(),this.element=e instanceof a.SBq?e.nativeElement:e}}class z1{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof q1?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof pH?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof xK?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class MK extends z1{constructor(e,t,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{const h=c.element,p=this._document.createComment("dom-portal");h.parentNode.insertBefore(p,h),this.outletElement.appendChild(h),this._attachedPortal=c,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(h,p)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||a.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let mH=(()=>{class n extends z1{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new a.vpe,this.attachDomPortal=s=>{const c=s.element,h=this._document.createComment("dom-portal");s.setAttachedHost(this),c.parentNode.insertBefore(h,c),this._getRootNode().appendChild(c),this._attachedPortal=s,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(c,h)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),c=i.createComponent(s,i.length,t.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=t,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a._Vd),a.Y36(a.s_b),a.Y36(fe))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[a.qOj]}),n})(),gH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const _H=aW();class kK{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=fs(-this._previousScrollPosition.left),e.style.top=fs(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,s=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),_H&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),_H&&(i.scrollBehavior=s,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class RK{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class yH{enable(){}disable(){}attach(){}}function W1(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function vH(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class OK{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();W1(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let NK=(()=>{class n{constructor(t,i,r,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new yH,this.close=c=>new RK(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new kK(this._viewportRuler,this._document),this.reposition=c=>new OK(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(SK),a.LFG(uA),a.LFG(a.R0b),a.LFG(fe))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class bH{constructor(e){if(this.scrollStrategy=new yH,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class PK{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class FK{constructor(e,t,i,r,s,c,h,p,_){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=c,this._document=h,this._location=p,this._outsideClickDispatcher=_,this._backdropElement=null,this._backdropClick=new Jt.x,this._attachments=new Jt.x,this._detachments=new Jt.x,this._locationChanges=tl.w0.EMPTY,this._backdropClickHandler=E=>this._backdropClick.next(E),this._backdropTransitionendHandler=E=>{this._disposeBackdrop(E.target)},this._keydownEvents=new Jt.x,this._outsidePointerEvents=new Jt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Se.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=fs(this._config.width),e.height=fs(this._config.height),e.minWidth=fs(this._config.minWidth),e.minHeight=fs(this._config.minHeight),e.maxWidth=fs(this._config.maxWidth),e.maxHeight=fs(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;!e||(e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500)))}_toggleClasses(e,t,i){const r=DV(t||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(ml((0,Rr.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let Z1=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||FO()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(t),FO()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(fe),a.LFG(va))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wH="cdk-overlay-connected-position-bounding-box",LK=/([A-Za-z%]+)$/;class VK{constructor(e,t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Jt.x,this._resizeSubscription=tl.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(wH),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let c;for(let h of this._preferredPositions){let p=this._getOriginPoint(e,r,h),_=this._getOverlayPoint(p,t,h),E=this._getOverlayFit(_,t,i,h);if(E.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,p);this._canFitWithFlexibleDimensions(E,_,i)?s.push({position:h,origin:p,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(p,h)}):(!c||c.overlayFit.visibleArea<E.visibleArea)&&(c={overlayFit:E,overlayPoint:_,originPoint:p,position:h,overlayRect:t})}if(s.length){let h=null,p=-1;for(const _ of s){const E=_.boundingBoxRect.width*_.boundingBoxRect.height*(_.position.weight||1);E>p&&(p=E,h=_)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&qg(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(wH),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,s;if("center"==i.originX)r=e.left+e.width/2;else{const c=this._isRtl()?e.right:e.left,h=this._isRtl()?e.left:e.right;r="start"==i.originX?c:h}return t.left<0&&(r-=t.left),s="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:r,y:s}}_getOverlayPoint(e,t,i){let r,s;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,i,r){const s=EH(t);let{x:c,y:h}=e,p=this._getOffset(r,"x"),_=this._getOffset(r,"y");p&&(c+=p),_&&(h+=_);let N=0-h,j=h+s.height-i.height,z=this._subtractOverflows(s.width,0-c,c+s.width-i.width),le=this._subtractOverflows(s.height,N,j),we=z*le;return{visibleArea:we,isCompletelyWithinViewport:s.width*s.height===we,fitsInViewportVertically:le===s.height,fitsInViewportHorizontally:z==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,s=i.right-t.x,c=CH(this._overlayRef.getConfig().minHeight),h=CH(this._overlayRef.getConfig().minWidth),_=e.fitsInViewportHorizontally||null!=h&&h<=s;return(e.fitsInViewportVertically||null!=c&&c<=r)&&_}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=EH(t),s=this._viewportRect,c=Math.max(e.x+r.width-s.width,0),h=Math.max(e.y+r.height-s.height,0),p=Math.max(s.top-i.top-e.y,0),_=Math.max(s.left-i.left-e.x,0);let E=0,S=0;return E=r.width<=s.width?_||-c:e.x<this._viewportMargin?s.left-i.left-e.x:0,S=r.height<=s.height?p||-h:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:E,y:S},{x:e.x+E,y:e.y+S}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new PK(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let s,c,h,E,S,N;if("top"===t.overlayY)c=e.y,s=i.height-c+this._viewportMargin;else if("bottom"===t.overlayY)h=i.height-e.y+2*this._viewportMargin,s=i.height-h+this._viewportMargin;else{const j=Math.min(i.bottom-e.y+i.top,e.y),z=this._lastBoundingBoxSize.height;s=2*j,c=e.y-j,s>z&&!this._isInitialRender&&!this._growAfterOpen&&(c=e.y-z/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)N=i.width-e.x+this._viewportMargin,E=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)S=e.x,E=i.right-e.x;else{const j=Math.min(i.right-e.x+i.left,e.x),z=this._lastBoundingBoxSize.width;E=2*j,S=e.x-j,E>z&&!this._isInitialRender&&!this._growAfterOpen&&(S=e.x-z/2)}return{top:c,left:S,bottom:h,right:N,width:E,height:s}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=fs(i.height),r.top=fs(i.top),r.bottom=fs(i.bottom),r.width=fs(i.width),r.left=fs(i.left),r.right=fs(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=fs(s)),c&&(r.maxWidth=fs(c))}this._lastBoundingBoxSize=i,qg(this._boundingBox.style,r)}_resetBoundingBoxStyles(){qg(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){qg(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){const E=this._viewportRuler.getViewportScrollPosition();qg(i,this._getExactOverlayY(t,e,E)),qg(i,this._getExactOverlayX(t,e,E))}else i.position="static";let h="",p=this._getOffset(t,"x"),_=this._getOffset(t,"y");p&&(h+=`translateX(${p}px) `),_&&(h+=`translateY(${_}px)`),i.transform=h.trim(),c.maxHeight&&(r?i.maxHeight=fs(c.maxHeight):s&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=fs(c.maxWidth):s&&(i.maxWidth="")),qg(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=fs(s.y),r}_getExactOverlayX(e,t,i){let c,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),c=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===c?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=fs(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:vH(e,i),isOriginOutsideView:W1(e,i),isOverlayClipped:vH(t,i),isOverlayOutsideView:W1(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&DV(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof a.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function qg(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function CH(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(LK);return t&&"px"!==t?null:parseFloat(e)}return n||null}function EH(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const TH="cdk-global-overlay-wrapper";class BK{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(TH),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:c,maxHeight:h}=i,p=!("100%"!==r&&"100vw"!==r||c&&"100%"!==c&&"100vw"!==c),_=!("100%"!==s&&"100vh"!==s||h&&"100%"!==h&&"100vh"!==h);e.position=this._cssPosition,e.marginLeft=p?"0":this._leftOffset,e.marginTop=_?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,p?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=_?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(TH),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let UK=(()=>{class n{constructor(t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new BK}flexibleConnectedTo(t){return new VK(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(uA),a.LFG(fe),a.LFG(va),a.LFG(Z1))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DH=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(fe))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HK=(()=>{class n extends DH{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let c=s.length-1;c>-1;c--)if(s[c]._keydownEvents.observers.length>0){const h=s[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(fe),a.LFG(a.R0b,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jK=(()=>{class n extends DH{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Og(s)},this._clickListener=s=>{const c=Og(s),h="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let _=p.length-1;_>-1;_--){const E=p[_];if(E._outsidePointerEvents.observers.length<1||!E.hasAttached())continue;if(E.overlayElement.contains(c)||E.overlayElement.contains(h))break;const S=E._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>S.next(s)):S.next(s)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(fe),a.LFG(va),a.LFG(a.R0b,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GK=0,dA=(()=>{class n{constructor(t,i,r,s,c,h,p,_,E,S,N){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=c,this._injector=h,this._ngZone=p,this._document=_,this._directionality=E,this._location=S,this._outsideClickDispatcher=N}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),c=new bH(t);return c.direction=c.direction||this._directionality.value,new FK(s,i,r,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+GK++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(a.z2F)),new MK(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(NK),a.LFG(Z1),a.LFG(a._Vd),a.LFG(UK),a.LFG(HK),a.LFG(a.zs3),a.LFG(a.R0b),a.LFG(fe),a.LFG(CC),a.LFG(ce),a.LFG(jK))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const zK={provide:new a.OlP("cdk-connected-overlay-scroll-strategy"),deps:[dA],useFactory:function qK(n){return()=>n.scrollStrategies.reposition()}};let WK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[dA,zK],imports:[[EC,gH,G1],G1]}),n})();function ZK(n,e){}class Y1{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const YK={dialogContainer:DC("dialogContainer",[BO("void, exit",xs({opacity:0,transform:"scale(0.7)"})),BO("enter",xs({transform:"none"})),op("* => enter",VV([rd("150ms cubic-bezier(0, 0, 0.2, 1)",xs({transform:"none",opacity:1})),UV("@*",BV(),{optional:!0})])),op("* => void, * => exit",VV([rd("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",xs({opacity:0})),UV("@*",BV(),{optional:!0})]))])};let KK=(()=>{class n extends z1{constructor(t,i,r,s,c,h,p,_){super(),this._elementRef=t,this._focusTrapFactory=i,this._changeDetectorRef=r,this._config=c,this._interactivityChecker=h,this._ngZone=p,this._focusMonitor=_,this._animationStateChanged=new a.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=E=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(E)),this._ariaLabelledBy=c.ariaLabelledBy||null,this._document=s}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=PO())}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const i=PO(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=PO();return t===i||t.contains(i)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(kW),a.Y36(a.sBO),a.Y36(fe,8),a.Y36(Y1),a.Y36(AV),a.Y36(a.R0b),a.Y36(NV))},n.\u0275dir=a.lG2({type:n,viewQuery:function(t,i){if(1&t&&a.Gf(mH,7),2&t){let r;a.iGM(r=a.CRH())&&(i._portalOutlet=r.first)}},features:[a.qOj]}),n})(),QK=(()=>{class n extends KK{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:i}){"enter"===t?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:t,totalTime:i}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,i){1&t&&a.WFA("@dialogContainer.start",function(s){return i._onAnimationStart(s)})("@dialogContainer.done",function(s){return i._onAnimationDone(s)}),2&t&&(a.Ikx("id",i._id),a.uIk("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),a.d8E("@dialogContainer",i._state))},features:[a.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){1&t&&a.YNc(0,ZK,0,0,"ng-template",0)},directives:[mH],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[YK.dialogContainer]}}),n})(),JK=0;class K1{constructor(e,t,i="mat-dialog-"+JK++){this._overlayRef=e,this._containerInstance=t,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Jt.x,this._afterClosed=new Jt.x,this._beforeClosed=new Jt.x,this._state=0,t._id=i,t._animationStateChanged.pipe(ae(r=>"opened"===r.state),(0,Se.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(ae(r=>"closed"===r.state),(0,Se.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(ae(r=>27===r.keyCode&&!this.disableClose&&!function mW(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(r))).subscribe(r=>{r.preventDefault(),IH(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():IH(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(ae(t=>"closing"===t.state),(0,Se.q)(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function IH(n,e,t){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=e),n.close(t)}const Q1=new a.OlP("MatDialogData"),XK=new a.OlP("mat-dialog-default-options"),SH=new a.OlP("mat-dialog-scroll-strategy"),t7={provide:SH,deps:[dA],useFactory:function e7(n){return()=>n.scrollStrategies.block()}};let n7=(()=>{class n{constructor(t,i,r,s,c,h,p,_,E,S){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=c,this._dialogRefConstructor=p,this._dialogContainerType=_,this._dialogDataToken=E,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Jt.x,this._afterOpenedAtThisLevel=new Jt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=eE(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Lc(void 0))),this._scrollStrategy=h}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,i){i=function i7(n,e){return Object.assign(Object.assign({},e),n)}(i,this._defaultOptions||new Y1),i.id&&this.getDialogById(i.id);const r=this._createOverlay(i),s=this._attachDialogContainer(r,i),c=this._attachDialogContent(t,s,r,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(c),c.afterClosed().subscribe(()=>this._removeOpenDialog(c)),this.afterOpened.next(c),s._initializeWithAttachedContent(),c}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const i=this._getOverlayConfig(t);return this._overlay.create(i)}_getOverlayConfig(t){const i=new bH({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachDialogContainer(t,i){const s=a.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:Y1,useValue:i}]}),c=new q1(this._dialogContainerType,i.viewContainerRef,s,i.componentFactoryResolver);return t.attach(c).instance}_attachDialogContent(t,i,r,s){const c=new this._dialogRefConstructor(r,i,s.id);if(t instanceof a.Rgc)i.attachTemplatePortal(new pH(t,null,{$implicit:s.data,dialogRef:c}));else{const h=this._createInjector(s,c,i),p=i.attachComponentPortal(new q1(t,s.viewContainerRef,h,s.componentFactoryResolver));c.componentInstance=p.instance}return c.updateSize(s.width,s.height).updatePosition(s.position),c}_createInjector(t,i,r){const s=t&&t.viewContainerRef&&t.viewContainerRef.injector,c=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:i}];return t.direction&&(!s||!s.get(CC,null,a.XFs.Optional))&&c.push({provide:CC,useValue:{value:t.direction,change:bt()}}),a.zs3.create({parent:s||this._injector,providers:c})}_removeOpenDialog(t){const i=this.openDialogs.indexOf(t);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,s)=>{r?s.setAttribute("aria-hidden",r):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){let s=i[r];s!==t&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}}return n.\u0275fac=function(t){a.$Z()},n.\u0275dir=a.lG2({type:n}),n})(),AH=(()=>{class n extends n7{constructor(t,i,r,s,c,h,p,_){super(t,i,s,h,p,c,K1,QK,Q1,_)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(dA),a.LFG(a.zs3),a.LFG(ce,8),a.LFG(XK,8),a.LFG(SH),a.LFG(n,12),a.LFG(Z1),a.LFG(cp,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),r7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[AH,t7],imports:[[WK,gH,Jr],Jr]}),n})();function s7(n,e){if(1&n&&(a.O4$(),a._UZ(0,"circle",4)),2&n){const t=a.oxw(),i=a.MAs(1);a.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(i)),a.uIk("r",t._getCircleRadius())}}function o7(n,e){if(1&n&&(a.O4$(),a._UZ(0,"circle",4)),2&n){const t=a.oxw(),i=a.MAs(1);a.Udp("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(i)),a.uIk("r",t._getCircleRadius())}}const l7=GS(class{constructor(n){this._elementRef=n}},"primary"),c7=new a.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function u7(){return{diameter:100}}});class wh extends l7{constructor(e,t,i,r,s,c,h,p){super(e),this._document=i,this._diameter=100,this._value=0,this._resizeSubscription=tl.w0.EMPTY,this.mode="determinate";const _=wh._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),_.has(i.head)||_.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===r&&!!s&&!s._forceAnimations,"mat-spinner"===e.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),s&&(s.diameter&&(this.diameter=s.diameter),s.strokeWidth&&(this.strokeWidth=s.strokeWidth)),t.isBrowser&&t.SAFARI&&h&&c&&p&&(this._resizeSubscription=h.change(150).subscribe(()=>{"indeterminate"===this.mode&&p.run(()=>c.markForCheck())}))}get diameter(){return this._diameter}set diameter(e){this._diameter=CS(e),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(e){this._strokeWidth=CS(e)}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,CS(e)))}ngOnInit(){const e=this._elementRef.nativeElement;this._styleRoot=TV(e)||this._document.head,this._attachStyleNode(),e.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const e=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(e){var t;const i=50*(null!==(t=e.currentScale)&&void 0!==t?t:1);return`${i}% ${i}%`}_attachStyleNode(){const e=this._styleRoot,t=this._diameter,i=wh._diameters;let r=i.get(e);if(!r||!r.has(t)){const s=this._document.createElement("style");s.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),s.textContent=this._getAnimationText(),e.appendChild(s),r||(r=new Set,i.set(e,r)),r.add(t)}}_getAnimationText(){const e=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*e).replace(/END_VALUE/g,""+.2*e).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}wh._diameters=new WeakMap,wh.\u0275fac=function(e){return new(e||wh)(a.Y36(a.SBq),a.Y36(va),a.Y36(fe,8),a.Y36(cp,8),a.Y36(c7),a.Y36(a.sBO),a.Y36(uA),a.Y36(a.R0b))},wh.\u0275cmp=a.Xpm({type:wh,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(e,t){2&e&&(a.uIk("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),a.Udp("width",t.diameter,"px")("height",t.diameter,"px"),a.ekj("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[a.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(a.O4$(),a.TgZ(0,"svg",0,1),a.YNc(2,s7,1,11,"circle",2),a.YNc(3,o7,1,9,"circle",3),a.qZA()),2&e&&(a.Udp("width",t.diameter,"px")("height",t.diameter,"px"),a.Q6J("ngSwitch","indeterminate"===t.mode),a.uIk("viewBox",t._getViewBox()),a.xp6(2),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngSwitchCase",!1))},directives:[Hi,fr],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let h7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Jr,io],Jr]}),n})();function X1(n){return n&&"function"==typeof n.connect}class xH{applyChanges(e,t,i,r,s){e.forEachOperation((c,h,p)=>{let _,E;if(null==c.previousIndex){const S=i(c,h,p);_=t.createEmbeddedView(S.templateRef,S.context,S.index),E=1}else null==p?(t.remove(h),E=3):(_=t.get(h),t.move(_,p),E=2);s&&s({context:null==_?void 0:_.context,operation:E,record:c})})}detach(){}}const BC=new a.OlP("_ViewRepeater"),p7=[[["caption"]],[["colgroup"],["col"]]],m7=["caption","colgroup, col"];function eN(n){return class extends n{constructor(...e){super(...e),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(e){const t=this._sticky;this._sticky=ac(e),this._hasStickyChanged=t!==this._sticky}hasStickyChanged(){const e=this._hasStickyChanged;return this._hasStickyChanged=!1,e}resetStickyChanged(){this._hasStickyChanged=!1}}}const Cv=new a.OlP("CDK_TABLE");let Ev=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),Tv=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),hA=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class v7{}const b7=eN(v7);let Ch=(()=>{class n extends b7{constructor(t){super(),this._table=t,this._stickyEnd=!1}get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const i=this._stickyEnd;this._stickyEnd=ac(t),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Cv,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,i,r){if(1&t&&(a.Suo(r,Ev,5),a.Suo(r,Tv,5),a.Suo(r,hA,5)),2&t){let s;a.iGM(s=a.CRH())&&(i.cell=s.first),a.iGM(s=a.CRH())&&(i.headerCell=s.first),a.iGM(s=a.CRH())&&(i.footerCell=s.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[a._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),a.qOj]}),n})();class tN{constructor(e,t){t.nativeElement.classList.add(...e._columnCssClassName)}}let nN=(()=>{class n extends tN{constructor(t,i){super(t,i)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Ch),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[a.qOj]}),n})(),iN=(()=>{class n extends tN{constructor(t,i){var r;if(super(t,i),1===(null===(r=t._table)||void 0===r?void 0:r._elementRef.nativeElement.nodeType)){const s=t._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===s||"treegrid"===s?"gridcell":"cell")}}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Ch),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[a.qOj]}),n})();class RH{constructor(){this.tasks=[],this.endTasks=[]}}const rN=new a.OlP("_COALESCED_STYLE_SCHEDULER");let OH=(()=>{class n{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new Jt.x}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new RH,this._getScheduleObservable().pipe(ml(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new RH;for(const i of t.tasks)i();for(const i of t.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,$t.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,Se.q)(1))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),sN=(()=>{class n{constructor(t,i){this.template=t,this._differs=i}ngOnChanges(t){if(!this._columnsDiffer){const i=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof UC?t.headerCell.template:this instanceof HC?t.footerCell.template:t.cell.template}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,features:[a.TTD]}),n})();class w7 extends sN{}const C7=eN(w7);let UC=(()=>{class n extends C7{constructor(t,i,r){super(t,i),this._table=r}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(Cv,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[a.qOj,a.TTD]}),n})();class E7 extends sN{}const T7=eN(E7);let HC=(()=>{class n extends T7{constructor(t,i,r){super(t,i),this._table=r}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(Cv,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[a.qOj,a.TTD]}),n})(),fA=(()=>{class n extends sN{constructor(t,i,r){super(t,i),this._table=r}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(Cv,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[a.qOj]}),n})(),Eh=(()=>{class n{constructor(t){this._viewContainer=t,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),oN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&a.GkF(0,0)},directives:[Eh],encapsulation:2}),n})(),lN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&a.GkF(0,0)},directives:[Eh],encapsulation:2}),n})(),pA=(()=>{class n{constructor(t){this.templateRef=t,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const NH=["top","bottom","left","right"];class D7{constructor(e,t,i,r,s=!0,c=!0,h){this._isNativeHtmlTable=e,this._stickCellCss=t,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=c,this._positionListener=h,this._cachedCellWidths=[],this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(e,t){const i=[];for(const r of e)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let s=0;s<r.children.length;s++)i.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,t)})}updateStickyColumns(e,t,i,r=!0){if(!e.length||!this._isBrowser||!t.some(N=>N)&&!i.some(N=>N))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=e[0],c=s.children.length,h=this._getCellWidths(s,r),p=this._getStickyStartColumnPositions(h,t),_=this._getStickyEndColumnPositions(h,i),E=t.lastIndexOf(!0),S=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const N="rtl"===this.direction,j=N?"right":"left",z=N?"left":"right";for(const le of e)for(let we=0;we<c;we++){const pt=le.children[we];t[we]&&this._addStickyStyle(pt,j,p[we],we===E),i[we]&&this._addStickyStyle(pt,z,_[we],we===S)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===E?[]:h.slice(0,E+1).map((le,we)=>t[we]?le:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===S?[]:h.slice(S).map((le,we)=>i[we+S]?le:null).reverse()}))})}stickRows(e,t,i){if(!this._isBrowser)return;const r="bottom"===i?e.slice().reverse():e,s="bottom"===i?t.slice().reverse():t,c=[],h=[],p=[];for(let E=0,S=0;E<r.length;E++){if(!s[E])continue;c[E]=S;const N=r[E];p[E]=this._isNativeHtmlTable?Array.from(N.children):[N];const j=N.getBoundingClientRect().height;S+=j,h[E]=j}const _=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var E,S;for(let N=0;N<r.length;N++){if(!s[N])continue;const j=c[N],z=N===_;for(const le of p[N])this._addStickyStyle(le,i,j,z)}"top"===i?null===(E=this._positionListener)||void 0===E||E.stickyHeaderRowsUpdated({sizes:h,offsets:c,elements:p}):null===(S=this._positionListener)||void 0===S||S.stickyFooterRowsUpdated({sizes:h,offsets:c,elements:p})})}updateStickyFooterContainer(e,t){if(!this._isNativeHtmlTable)return;const i=e.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{t.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(e,t){for(const r of t)e.style[r]="",e.classList.remove(this._borderCellCss[r]);NH.some(r=>-1===t.indexOf(r)&&e.style[r])?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}_addStickyStyle(e,t,i,r){e.classList.add(this._stickCellCss),r&&e.classList.add(this._borderCellCss[t]),e.style[t]=`${i}px`,e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(e){const t={top:100,bottom:10,left:1,right:1};let i=0;for(const r of NH)e.style[r]&&(i+=t[r]);return i?`${i}`:""}_getCellWidths(e,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=e.children;for(let s=0;s<r.length;s++)i.push(r[s].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(e,t){const i=[];let r=0;for(let s=0;s<e.length;s++)t[s]&&(i[s]=r,r+=e[s]);return i}_getStickyEndColumnPositions(e,t){const i=[];let r=0;for(let s=e.length;s>0;s--)t[s]&&(i[s]=r,r+=e[s]);return i}}const cN=new a.OlP("CDK_SPL");let mA=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),gA=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),_A=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),yA=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),vA=(()=>{class n{constructor(t,i,r,s,c,h,p,_,E,S,N,j){this._differs=t,this._changeDetectorRef=i,this._elementRef=r,this._dir=c,this._platform=p,this._viewRepeater=_,this._coalescedStyleScheduler=E,this._viewportRuler=S,this._stickyPositioningListener=N,this._ngZone=j,this._onDestroy=new Jt.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new a.vpe,this.viewChange=new Wr({start:0,end:Number.MAX_VALUE}),s||this._elementRef.nativeElement.setAttribute("role","table"),this._document=h,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=ac(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=ac(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(ml(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(t=>{t.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),X1(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,i,(r,s,c)=>this._getEmbeddedViewArgs(r.item,c),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&a.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,Se.q)(1),ml(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=t.length?"":"none");const s=this._headerRowDefs.map(c=>c.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,s,"top"),this._headerRowDefs.forEach(c=>c.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=t.length?"":"none");const s=this._footerRowDefs.map(c=>c.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,s,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,s),this._footerRowDefs.forEach(c=>c.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((s,c)=>{this._addStickyColumnStyles([s],this._headerRowDefs[c])}),this._rowDefs.forEach(s=>{const c=[];for(let h=0;h<i.length;h++)this._renderRows[h].rowDef===s&&c.push(i[h]);this._addStickyColumnStyles(c,s)}),r.forEach((s,c)=>{this._addStickyColumnStyles([s],this._footerRowDefs[c])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_getAllRenderRows(){const t=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let s=this._data[r];const c=this._getRenderRowsForData(s,r,i.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let h=0;h<c.length;h++){let p=c[h];const _=this._cachedRenderRowsMap.get(p.data);_.has(p.rowDef)?_.get(p.rowDef).push(p):_.set(p.rowDef,[p]),t.push(p)}}return t}_getRenderRowsForData(t,i,r){return this._getRowDefs(t,i).map(c=>{const h=r&&r.has(c)?r.get(c):[];if(h.length){const p=h.shift();return p.dataIndex=i,p}return{data:t,rowDef:c,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),bA(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=bA(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=bA(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=bA(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(c,h)=>c||!!h.getColumnsDiff(),i=this._rowDefs.reduce(t,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(t,!1);r&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(t,!1);return s&&this._forceRenderFooterRows(),i||r||s}_switchDataSource(t){this._data=[],X1(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;X1(this.dataSource)?t=this.dataSource.connect(this):function f7(n){return!!n&&(n instanceof ji.y||(0,en.m)(n.lift)&&(0,en.m)(n.subscribe))}(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=bt(this.dataSource)),this._renderChangeSubscription=t.pipe(ml(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,i)=>this._renderRow(this._headerRowOutlet,t,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,i)=>this._renderRow(this._footerRowOutlet,t,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,i){const r=Array.from(i.columns||[]).map(h=>this._columnDefsByName.get(h)),s=r.map(h=>h.sticky),c=r.map(h=>h.stickyEnd);this._stickyStyler.updateStickyColumns(t,s,c,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const i=[];for(let r=0;r<t.viewContainer.length;r++){const s=t.viewContainer.get(r);i.push(s.rootNodes[0])}return i}_getRowDefs(t,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(s=>!s.when||s.when(i,t));else{let s=this._rowDefs.find(c=>c.when&&c.when(i,t))||this._defaultRowDef;s&&r.push(s)}return r}_getEmbeddedViewArgs(t,i){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:i}}_renderRow(t,i,r,s={}){const c=t.viewContainer.createEmbeddedView(i.template,s,r);return this._renderCellTemplateForItem(i,s),c}_renderCellTemplateForItem(t,i){for(let r of this._getCellTemplates(t))Eh.mostRecentCellOutlet&&Eh.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let i=0,r=t.length;i<r;i++){const c=t.get(i).context;c.count=r,c.first=0===i,c.last=i===r-1,c.even=i%2==0,c.odd=!c.even,this.multiTemplateDataRows?(c.dataIndex=this._renderRows[i].dataIndex,c.renderIndex=i):c.index=this._renderRows[i].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,i=>{const r=this._columnDefsByName.get(i);return t.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const s=this._document.createElement(r.tag);s.setAttribute("role","rowgroup");for(const c of r.outlets)s.appendChild(c.elementRef.nativeElement);t.appendChild(s)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new D7(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:bt()).pipe(ml(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(!t)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const s=r.createEmbeddedView(t.templateRef),c=s.rootNodes[0];1===s.rootNodes.length&&(null==c?void 0:c.nodeType)===this._document.ELEMENT_NODE&&(c.setAttribute("role","row"),c.classList.add(t._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.ZZ4),a.Y36(a.sBO),a.Y36(a.SBq),a.$8M("role"),a.Y36(CC,8),a.Y36(fe),a.Y36(va),a.Y36(BC),a.Y36(rN),a.Y36(uA),a.Y36(cN,12),a.Y36(a.R0b,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,i,r){if(1&t&&(a.Suo(r,pA,5),a.Suo(r,Ch,5),a.Suo(r,fA,5),a.Suo(r,UC,5),a.Suo(r,HC,5)),2&t){let s;a.iGM(s=a.CRH())&&(i._noDataRow=s.first),a.iGM(s=a.CRH())&&(i._contentColumnDefs=s),a.iGM(s=a.CRH())&&(i._contentRowDefs=s),a.iGM(s=a.CRH())&&(i._contentHeaderRowDefs=s),a.iGM(s=a.CRH())&&(i._contentFooterRowDefs=s)}},viewQuery:function(t,i){if(1&t&&(a.Gf(mA,7),a.Gf(gA,7),a.Gf(_A,7),a.Gf(yA,7)),2&t){let r;a.iGM(r=a.CRH())&&(i._rowOutlet=r.first),a.iGM(r=a.CRH())&&(i._headerRowOutlet=r.first),a.iGM(r=a.CRH())&&(i._footerRowOutlet=r.first),a.iGM(r=a.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,i){2&t&&a.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[a._Bn([{provide:Cv,useExisting:n},{provide:BC,useClass:xH},{provide:rN,useClass:OH},{provide:cN,useValue:null}])],ngContentSelectors:m7,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,i){1&t&&(a.F$t(p7),a.Hsn(0),a.Hsn(1,1),a.GkF(2,0)(3,1)(4,2)(5,3))},directives:[gA,mA,yA,_A],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})();function bA(n,e){return n.concat(Array.from(e))}let S7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[G1]]}),n})();const A7=[[["caption"]],[["colgroup"],["col"]]],x7=["caption","colgroup, col"];let FH=(()=>{class n extends vA{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(t,i){2&t&&a.ekj("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[a._Bn([{provide:BC,useClass:xH},{provide:vA,useExisting:n},{provide:Cv,useExisting:n},{provide:rN,useClass:OH},{provide:cN,useValue:null}]),a.qOj],ngContentSelectors:x7,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,i){1&t&&(a.F$t(A7),a.Hsn(0),a.Hsn(1,1),a.GkF(2,0)(3,1)(4,2)(5,3))},directives:[gA,mA,yA,_A],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})(),uN=(()=>{class n extends Ev{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matCellDef",""]],features:[a._Bn([{provide:Ev,useExisting:n}]),a.qOj]}),n})(),dN=(()=>{class n extends Tv{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[a._Bn([{provide:Tv,useExisting:n}]),a.qOj]}),n})(),hN=(()=>{class n extends Ch{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[a._Bn([{provide:Ch,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),a.qOj]}),n})(),fN=(()=>{class n extends nN{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[a.qOj]}),n})(),pN=(()=>{class n extends iN{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[a.qOj]}),n})(),LH=(()=>{class n extends UC{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[a._Bn([{provide:UC,useExisting:n}]),a.qOj]}),n})(),VH=(()=>{class n extends fA{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[a._Bn([{provide:fA,useExisting:n}]),a.qOj]}),n})(),BH=(()=>{class n extends oN{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[a._Bn([{provide:oN,useExisting:n}]),a.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&a.GkF(0,0)},directives:[Eh],encapsulation:2}),n})(),UH=(()=>{class n extends lN{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[a._Bn([{provide:lN,useExisting:n}]),a.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&a.GkF(0,0)},directives:[Eh],encapsulation:2}),n})(),B7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[S7,Jr],Jr]}),n})(),zg=(()=>{class n{constructor(t){this.afs=t}createNote(t){return this.afs.collection("notes").add(t)}userId(){const t=JSON.parse(localStorage.getItem("user"));return null!==t?t.uid:""}getNotes(t){return this.afs.collection("notes",r=>(r.orderBy("title","asc"),r.where("uid","==",t))).snapshotChanges()}getUsers(){return this.afs.collection("users").snapshotChanges()}getaNote(t){return this.afs.doc("notes/"+t).valueChanges()}updateNote(t){this.afs.doc("notes/"+t.id).update(t)}deleteNote(t){this.afs.doc("notes/"+t).delete()}loggedInUser(){return JSON.parse(localStorage.getItem("user"))}activeDeactiveUser(t,i){this.afs.doc("users/"+t).update({isVerified:i})}getTiming(){return this.afs.collection("timing").snapshotChanges()}updateTiming(t){this.afs.doc("timing/"+t.id).update(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(cR))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function H7(n,e){if(1&n&&(a.ynx(0),a.TgZ(1,"h4"),a._uU(2,"Timing"),a.qZA(),a.TgZ(3,"div",1)(4,"h5"),a._uU(5,"First"),a.qZA(),a.TgZ(6,"div",2)(7,"div",3)(8,"mat-card")(9,"mat-card-title"),a._uU(10,"First A"),a.qZA(),a.TgZ(11,"mat-card-content")(12,"div",4),a._uU(13),a.qZA()()()(),a.TgZ(14,"div",3)(15,"mat-card")(16,"mat-card-title"),a._uU(17,"First J"),a.qZA(),a.TgZ(18,"mat-card-content")(19,"div",4),a._uU(20),a.qZA()()()()()(),a.TgZ(21,"div",1)(22,"h5"),a._uU(23,"Second"),a.qZA(),a.TgZ(24,"div",2)(25,"div",3)(26,"mat-card")(27,"mat-card-title"),a._uU(28,"Second A"),a.qZA(),a.TgZ(29,"mat-card-content")(30,"div",4),a._uU(31),a.qZA()()()(),a.TgZ(32,"div",3)(33,"mat-card")(34,"mat-card-title"),a._uU(35,"Second J"),a.qZA(),a.TgZ(36,"mat-card-content")(37,"div",4),a._uU(38),a.qZA()()()()()(),a.TgZ(39,"div",1)(40,"h5"),a._uU(41,"Third"),a.qZA(),a.TgZ(42,"div",2)(43,"div",3)(44,"mat-card")(45,"mat-card-title"),a._uU(46,"Third A"),a.qZA(),a.TgZ(47,"mat-card-content")(48,"div",4),a._uU(49),a.qZA()()()(),a.TgZ(50,"div",3)(51,"mat-card")(52,"mat-card-title"),a._uU(53,"Third J"),a.qZA(),a.TgZ(54,"mat-card-content")(55,"div",4),a._uU(56),a.qZA()()()()()(),a.TgZ(57,"div",1)(58,"h5"),a._uU(59,"Fourth"),a.qZA(),a.TgZ(60,"div",2)(61,"div",3)(62,"mat-card")(63,"mat-card-title"),a._uU(64,"Fourth A"),a.qZA(),a.TgZ(65,"mat-card-content")(66,"div",4),a._uU(67),a.qZA()()()(),a.TgZ(68,"div",3)(69,"mat-card")(70,"mat-card-title"),a._uU(71,"Fourth J"),a.qZA(),a.TgZ(72,"mat-card-content")(73,"div",4),a._uU(74),a.qZA()()()()()(),a.TgZ(75,"div",1)(76,"h5"),a._uU(77,"Fifth"),a.qZA(),a.TgZ(78,"div",2)(79,"div",3)(80,"mat-card")(81,"mat-card-title"),a._uU(82,"Fifth A"),a.qZA(),a.TgZ(83,"mat-card-content")(84,"div",4),a._uU(85),a.qZA()()()(),a.TgZ(86,"div",3)(87,"mat-card")(88,"mat-card-title"),a._uU(89,"Fifth J"),a.qZA(),a.TgZ(90,"mat-card-content")(91,"div",4),a._uU(92),a.qZA()()()()()(),a.BQk()),2&n){const t=a.oxw();a.xp6(13),a.Oqu(t.timing.first_a),a.xp6(7),a.Oqu(t.timing.first_j),a.xp6(11),a.Oqu(t.timing.second_a),a.xp6(7),a.Oqu(t.timing.second_j),a.xp6(11),a.Oqu(t.timing.third_a),a.xp6(7),a.Oqu(t.timing.third_j),a.xp6(11),a.Oqu(t.timing.fourth_a),a.xp6(7),a.Oqu(t.timing.fourth_j),a.xp6(11),a.Oqu(t.timing.fifth_a),a.xp6(7),a.Oqu(t.timing.fifth_j)}}let j7=(()=>{class n{constructor(t){this.userService=t}ngOnInit(){this.getTiming()}getTiming(){this.userService.getTiming().subscribe(t=>{this.timing=t.map(i=>Object.assign({id:i.payload.doc.id},i.payload.doc.data())),this.timing=this.timing[0],console.log(this.timing)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(zg))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-timing"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"time"],[1,"row"],[1,"col-6","timeCard"],[1,"timeT"]],template:function(t,i){1&t&&a.YNc(0,H7,93,10,"ng-container",0),2&t&&a.Q6J("ngIf",i.timing)},directives:[Gn,PB,NB,OB],styles:[""]}),n})(),G7=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-home"]],decls:3,vars:0,consts:[[1,"homeComponent"],[1,"container"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"div",1),a._UZ(2,"app-timing"),a.qZA()())},directives:[j7],styles:[".homeComponent[_ngcontent-%COMP%]{background:#003c34}"]}),n})();function ke(n,e,t,i){var c,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,e,t,i);else for(var h=n.length-1;h>=0;h--)(c=n[h])&&(s=(r<3?c(s):r>3?c(e,t,s):c(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s}function cu(n,e){return function(t,i){e(t,i,n)}}var wa=G(7122);function q7(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"ngx-material-timepicker-24-hours-face",17),a.NdJ("hourChange",function(r){return a.CHM(t),a.oxw(2).onHourChange(r)})("hourSelected",function(r){return a.CHM(t),a.oxw(2).onHourSelected(r)}),a.ALo(1,"async"),a.qZA()}if(2&n){const t=a.oxw(2);a.Q6J("selectedHour",a.lcZ(1,4,t.selectedHour))("minTime",t.minTime)("maxTime",t.maxTime)("format",t.format)}}function z7(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"ngx-material-timepicker-12-hours-face",18),a.NdJ("hourChange",function(r){return a.CHM(t),a.oxw(2).onHourChange(r)})("hourSelected",function(r){return a.CHM(t),a.oxw(2).onHourSelected(r)}),a.ALo(1,"async"),a.ALo(2,"async"),a.qZA()}if(2&n){const t=a.oxw(2);a.Q6J("selectedHour",a.lcZ(1,4,t.selectedHour))("period",a.lcZ(2,6,t.selectedPeriod))("minTime",t.minTime)("maxTime",t.maxTime)}}function W7(n,e){if(1&n&&(a.TgZ(0,"div"),a.YNc(1,q7,2,6,"ngx-material-timepicker-24-hours-face",15),a.YNc(2,z7,3,8,"ng-template",null,16,a.W1O),a.qZA()),2&n){const t=a.MAs(3),i=a.oxw();a.xp6(1),a.Q6J("ngIf",24===i.format)("ngIfElse",t)}}function Z7(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"ngx-material-timepicker-minutes-face",19),a.NdJ("minuteChange",function(r){return a.CHM(t),a.oxw().onMinuteChange(r)}),a.ALo(1,"async"),a.ALo(2,"async"),a.ALo(3,"async"),a.qZA()}if(2&n){const t=a.oxw();let i;a.Q6J("selectedMinute",a.lcZ(1,7,t.selectedMinute))("selectedHour",null==(i=a.lcZ(2,9,t.selectedHour))?null:i.time)("minTime",t.minTime)("maxTime",t.maxTime)("format",t.format)("period",a.lcZ(3,11,t.selectedPeriod))("minutesGap",t.minutesGap)}}function Y7(n,e){1&n&&a.GkF(0)}function K7(n,e){1&n&&a.GkF(0)}function Q7(n,e){1&n&&(a.TgZ(0,"ngx-material-timepicker-button"),a._uU(1,"Cancel"),a.qZA())}function J7(n,e){1&n&&(a.TgZ(0,"ngx-material-timepicker-button"),a._uU(1,"Ok"),a.qZA())}const X7=function(n){return{"timepicker-backdrop-overlay--transparent":n}};function e9(n,e){1&n&&(a.O4$(),a.TgZ(0,"svg",2),a._UZ(1,"path",3),a.qZA())}const t9=[[["","ngxMaterialTimepickerToggleIcon",""]]],n9=["[ngxMaterialTimepickerToggleIcon]"],i9=["clockFace"],r9=["clockHand"],Dv=function(n){return{transform:n}},gN=function(n,e){return{active:n,disabled:e}};function s9(n,e){if(1&n&&(a.TgZ(0,"div",9)(1,"span",10),a.ALo(2,"activeHour"),a._uU(3),a.ALo(4,"timeLocalizer"),a.qZA()()),2&n){const t=e.$implicit,i=a.oxw(2);a.Q6J("ngStyle",a.VKq(11,Dv,"rotateZ("+t.angle+"deg) translateX(-50%)")),a.xp6(1),a.Q6J("ngStyle",a.VKq(13,Dv,"rotateZ(-"+t.angle+"deg)"))("ngClass",a.WLB(15,gN,a.Dn7(2,4,t.time,i.selectedTime.time,i.isClockFaceDisabled),t.disabled)),a.xp6(2),a.hij(" ",a.xi3(4,8,t.time,i.timeUnit.HOUR)," ")}}function o9(n,e){if(1&n&&(a.TgZ(0,"div",13)(1,"span",10),a.ALo(2,"activeHour"),a._uU(3),a.ALo(4,"timeLocalizer"),a.qZA()()),2&n){const t=e.$implicit,i=a.oxw(3);a.Udp("height",i.innerClockFaceSize,"px"),a.Q6J("ngStyle",a.VKq(13,Dv,"rotateZ("+t.angle+"deg) translateX(-50%)")),a.xp6(1),a.Q6J("ngStyle",a.VKq(15,Dv,"rotateZ(-"+t.angle+"deg)"))("ngClass",a.WLB(17,gN,a.Dn7(2,6,t.time,null==i.selectedTime?null:i.selectedTime.time,i.isClockFaceDisabled),t.disabled)),a.xp6(2),a.hij(" ",a.xi3(4,10,t.time,i.timeUnit.HOUR),"")}}function a9(n,e){if(1&n&&(a.TgZ(0,"div",11),a.YNc(1,o9,5,20,"div",12),a.ALo(2,"slice"),a.qZA()),2&n){const t=a.oxw(2);a.Udp("top","calc(50% - "+t.innerClockFaceSize+"px)"),a.xp6(1),a.Q6J("ngForOf",a.Dn7(2,4,t.faceTime,12,24))("ngForTrackBy",t.trackByTime)}}function l9(n,e){if(1&n&&(a.TgZ(0,"div",6),a.YNc(1,s9,5,18,"div",7),a.ALo(2,"slice"),a.YNc(3,a9,3,8,"div",8),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Q6J("ngForOf",a.Dn7(2,3,t.faceTime,0,12))("ngForTrackBy",t.trackByTime),a.xp6(2),a.Q6J("ngIf",t.faceTime.length>12)}}function c9(n,e){if(1&n&&(a.TgZ(0,"div",9)(1,"span",10),a.ALo(2,"activeMinute"),a._uU(3),a.ALo(4,"timeLocalizer"),a.ALo(5,"minutesFormatter"),a.qZA()()),2&n){const t=e.$implicit,i=a.oxw(2);a.Q6J("ngStyle",a.VKq(15,Dv,"rotateZ("+t.angle+"deg) translateX(-50%)")),a.xp6(1),a.Q6J("ngStyle",a.VKq(17,Dv,"rotateZ(-"+t.angle+"deg)"))("ngClass",a.WLB(19,gN,a.gM2(2,4,t.time,null==i.selectedTime?null:i.selectedTime.time,i.minutesGap,i.isClockFaceDisabled),t.disabled)),a.xp6(2),a.hij(" ",a.xi3(4,9,a.xi3(5,12,t.time,i.minutesGap),i.timeUnit.MINUTE),"")}}function u9(n,e){if(1&n&&(a.TgZ(0,"div",6),a.YNc(1,c9,6,22,"div",7),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Q6J("ngForOf",t.faceTime)("ngForTrackBy",t.trackByTime)}}const d9=function(n){return{"clock-face__clock-hand_minute":n}},GH=["*"];function h9(n,e){1&n&&a.GkF(0)}function f9(n,e){1&n&&(a.TgZ(0,"small",10),a._uU(1," * use arrows ("),a.TgZ(2,"span"),a._uU(3,"\u21c5"),a.qZA(),a._uU(4,") to change the time"),a.qZA())}const p9=function(n){return{"timepicker-dial__hint-container--hidden":n}};function m9(n,e){if(1&n&&(a.TgZ(0,"div",7),a.YNc(1,h9,1,0,"ng-container",8),a.YNc(2,f9,5,0,"ng-template",null,9,a.W1O),a.qZA()),2&n){const t=a.MAs(3),i=a.oxw();a.Q6J("ngClass",a.VKq(2,p9,!i.isHintVisible)),a.xp6(1),a.Q6J("ngTemplateOutlet",i.editableHintTmpl?i.editableHintTmpl:t)}}const g9=function(n){return{"timepicker-dial__period--hidden":n}},CA=function(n){return{"timepicker-dial__item_active":n}};function _9(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"input",2),a.NdJ("ngModelChange",function(r){return a.CHM(t),a.oxw().time=r})("input",function(){return a.CHM(t),a.oxw().updateTime()})("focus",function(r){a.CHM(t);const s=a.oxw();return s.saveTimeAndChangeTimeUnit(r,s.timeUnit)}),a.ALo(1,"timeLocalizer"),a.qZA()}if(2&n){const t=a.oxw();a.Q6J("ngClass",a.VKq(7,CA,t.isActive))("ngModel",a.xi3(1,4,t.time,t.timeUnit))("disabled",t.disabled)("timepickerAutofocus",t.isActive)}}function y9(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"input",3),a.NdJ("ngModelChange",function(r){return a.CHM(t),a.oxw().onModelChange(r)})("input",function(){return a.CHM(t),a.oxw().updateTime()})("focus",function(r){a.CHM(t);const s=a.oxw();return s.saveTimeAndChangeTimeUnit(r,s.timeUnit)})("keydown",function(r){return a.CHM(t),a.oxw().onKeydown(r)})("keypress",function(r){return a.CHM(t),a.oxw().changeTimeByKeyboard(r)}),a.ALo(1,"timeLocalizer"),a.ALo(2,"timeParser"),a.qZA()}if(2&n){const t=a.oxw();a.Q6J("ngClass",a.VKq(11,CA,t.isActive))("ngModel",a.Dn7(1,4,a.xi3(2,8,t.time,t.timeUnit),t.timeUnit,!0))("disabled",t.disabled)("timepickerAutofocus",t.isActive)}}function v9(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",3),a.NdJ("@scaleInOut.done",function(){return a.CHM(t),a.oxw().animationDone()}),a.TgZ(1,"p"),a._uU(2,"Current time would be invalid in this period."),a.qZA()()}2&n&&a.Q6J("@scaleInOut",void 0)}function b9(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"ngx-timepicker-period-selector",9),a.NdJ("periodSelected",function(r){return a.CHM(t),a.oxw().changePeriod(r)}),a.qZA()}if(2&n){const t=a.oxw();a.Q6J("selectedPeriod",t.period)("disabled",t.disabled||t.isChangePeriodDisabled)}}function w9(n,e){1&n&&a.GkF(0)}const C9=function(n){return{"ngx-timepicker__toggle--left":n}};function E9(n,e){if(1&n&&(a.TgZ(0,"ngx-material-timepicker-toggle",10)(1,"span",11),a.YNc(2,w9,1,0,"ng-container",12),a.qZA()()),2&n){const t=a.oxw(),i=a.MAs(10),r=a.MAs(12);a.Q6J("ngClass",a.VKq(4,C9,"left"===t.buttonAlign))("for",i)("disabled",t.disabled),a.xp6(2),a.Q6J("ngTemplateOutlet",t.toggleIcon||r)}}function T9(n,e){1&n&&(a.O4$(),a.TgZ(0,"svg",13),a._UZ(1,"path",14),a.qZA())}const D9=function(n){return{"ngx-timepicker--disabled":n}},I9=function(n){return{"ngx-timepicker-control--active":n}},$H=function(n){return{"period-selector__button--active":n}};function S9(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"ul",6)(1,"li")(2,"button",7),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return r.select(r.period.AM)}),a._uU(3),a.qZA()(),a.TgZ(4,"li")(5,"button",7),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return r.select(r.period.PM)}),a._uU(6),a.qZA()()()}if(2&n){const t=a.oxw();a.Q6J("@scaleInOut",void 0)("timepickerAutofocus",!0),a.xp6(2),a.Q6J("ngClass",a.VKq(6,$H,t.localizedPeriod===t.meridiems[0])),a.xp6(1),a.Oqu(t.meridiems[0]),a.xp6(2),a.Q6J("ngClass",a.VKq(8,$H,t.localizedPeriod===t.meridiems[1])),a.xp6(1),a.Oqu(t.meridiems[1])}}function A9(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",8),a.NdJ("click",function(){return a.CHM(t),a.oxw().backdropClick()}),a.qZA()}}const x9=function(n){return{"period-control__button--disabled":n}};function M9(n,e){1&n&&a.GkF(0)}function k9(n,e){if(1&n&&(a.TgZ(0,"div",3),a.YNc(1,M9,1,0,"ng-container",4),a.qZA()),2&n){const t=a.oxw(),i=a.MAs(4);a.Q6J("ngxAppendToInput",t.inputElement),a.xp6(1),a.Q6J("ngTemplateOutlet",i)}}function R9(n,e){1&n&&a.GkF(0)}function O9(n,e){if(1&n&&a.YNc(0,R9,1,0,"ng-container",4),2&n){a.oxw();const t=a.MAs(4);a.Q6J("ngTemplateOutlet",t)}}function N9(n,e){1&n&&a.Hsn(0)}let uu=class{constructor(){this.backdropClickSubject=new Jt.x,this.keydownEventSubject=new Jt.x}get backdropClick(){return this.backdropClickSubject.asObservable().pipe(F({bufferSize:1,refCount:!0}))}get keydownEvent(){return this.keydownEventSubject.asObservable().pipe(F({bufferSize:1,refCount:!0}))}dispatchEvent(e){switch(e.type){case"click":this.backdropClickSubject.next(e);break;case"keydown":this.keydownEventSubject.next(e);break;default:throw new Error("no such event type")}}};uu.\u0275fac=function(e){return new(e||uu)},uu.\u0275prov=a.Yz7({token:uu,factory:function(n){return uu.\u0275fac(n)},providedIn:"root"}),uu.ngInjectableDef=(0,a.Yz7)({factory:function(){return new uu},token:uu,providedIn:"root"});let du=class{constructor(e,t,i,r){this.cfr=e,this.appRef=t,this.injector=i,this.document=r}appendTimepickerToBody(e,t){this.componentRef=this.cfr.resolveComponentFactory(e).create(this.injector),Object.keys(t).forEach(r=>this.componentRef.instance[r]=t[r]),this.appRef.attachView(this.componentRef.hostView),this.document.body.appendChild(this.componentRef.hostView.rootNodes[0])}destroyTimepicker(){this.componentRef.destroy(),this.appRef.detachView(this.componentRef.hostView)}};du.\u0275fac=function(e){return new(e||du)(a.LFG(a._Vd),a.LFG(a.z2F),a.LFG(a.zs3),a.LFG(fe,8))},du.\u0275prov=a.Yz7({token:du,factory:function(n){return du.\u0275fac(n)},providedIn:"root"}),du.ngInjectableDef=(0,a.Yz7)({factory:function(){return new du((0,a.LFG)(a._Vd),(0,a.LFG)(a.z2F),(0,a.LFG)(a.gxx),(0,a.LFG)(fe,8))},token:du,providedIn:"root"}),du=ke([cu(3,(0,a.FiY)()),cu(3,(0,a.tBr)(fe))],du);var Ms=(()=>(function(n){n[n.HOUR=0]="HOUR",n[n.MINUTE=1]="MINUTE"}(Ms||(Ms={})),Ms))(),ks=(()=>(function(n){n.AM="AM",n.PM="PM"}(ks||(ks={})),ks))(),hu=(()=>(function(n){n.TWELVE="hh:mm a",n.TWELVE_SHORT="h:m a",n.TWENTY_FOUR="HH:mm",n.TWENTY_FOUR_SHORT="H:m"}(hu||(hu={})),hu))();function _N(n,e,t="minutes"){return"hours"===t?n.hour>=e.hour:"minutes"===t?n.hasSame(e,t)||n.valueOf()>e.valueOf():void 0}function yN(n,e,t="minutes"){return"hours"===t?n.hour<=e.hour:"minutes"===t?n.hasSame(e,t)||n.valueOf()<=e.valueOf():void 0}function qH(n){return!!([46,8,9,27,13].some(e=>e===n.keyCode)||65==n.keyCode&&(!0===n.ctrlKey||!0===n.metaKey)||67==n.keyCode&&(!0===n.ctrlKey||!0===n.metaKey)||88==n.keyCode&&(!0===n.ctrlKey||!0===n.metaKey)||n.keyCode>=35&&n.keyCode<=40)||!((n.keyCode<48||n.keyCode>57)&&(n.keyCode<96||n.keyCode>105))}let Er=(()=>{class n{static parseTime(t,i){const{numberingSystem:r,locale:s}=n.getLocaleOptionsByTime(t,i),h=2===t.split(" ").length?hu.TWELVE_SHORT:hu.TWENTY_FOUR_SHORT;return wa.ou.fromFormat(t,h,{numberingSystem:r,locale:s})}static formatTime(t,i){if(!t)return"Invalid Time";const{format:r}=i,s=n.parseTime(t,i).setLocale(n.DEFAULT_LOCALE);return 24!==r?s.toLocaleString(Object.assign({},wa.ou.TIME_SIMPLE,{hour12:24!==r,numberingSystem:n.DEFAULT_NUMBERING_SYSTEM})).replace(/\u200E/g,""):s.toISOTime({includeOffset:!1,suppressMilliseconds:!0,suppressSeconds:!0}).replace(/\u200E/g,"")}static toLocaleTimeString(t,i={}){const{format:r=n.DEFAULT_FORMAT,locale:s=n.DEFAULT_LOCALE}=i,h=Object.assign({},wa.ou.TIME_SIMPLE,{hourCycle:24===r?"h23":"h12"});return wa.ou.fromFormat(t,24===r?hu.TWENTY_FOUR_SHORT:hu.TWELVE_SHORT).setLocale(s).toLocaleString(h)}static isTimeAvailable(t,i,r,s,c,h){if(!t)return;const p=this.parseTime(t,{format:h}),_=p.minute;if(c&&_==_&&_%c!=0)throw new Error(`Your minutes - ${_} doesn't match your minutesGap - ${c}`);const E=i&&!r&&_N(p,i,s),S=r&&!i&&yN(p,r,s),N=i&&r&&function P9(n,e,t,i="minutes"){return"hours"===i?yN(n,t,i)&&_N(n,e,i):"minutes"===i?yN(n,t)&&_N(n,e):void 0}(p,i,r,s);return E||S||N||!i&&!r}static formatHour(t,i,r){if(24===i)return t;const s=r===ks.AM?t:t+12;return r===ks.AM&&12===s?0:r===ks.PM&&24===s?12:s}static fromDateTimeToString(t,i){const r=24===i?hu.TWENTY_FOUR:hu.TWELVE;return t.reconfigure({numberingSystem:n.DEFAULT_NUMBERING_SYSTEM,locale:n.DEFAULT_LOCALE}).toFormat(r)}static getLocaleOptionsByTime(t,i){const{numberingSystem:r,locale:s}=wa.ou.local().setLocale(i.locale).resolvedLocaleOpts(),c={numberingSystem:r,locale:s},h={numberingSystem:n.DEFAULT_NUMBERING_SYSTEM,locale:n.DEFAULT_LOCALE};return isNaN(parseInt(t,10))?c:h}}return n.DEFAULT_FORMAT=12,n.DEFAULT_LOCALE="en-US",n.DEFAULT_NUMBERING_SYSTEM="latn",n})();const EA={time:12,angle:360},TA={time:0,angle:360};let yl=class{constructor(){this.hourSubject=new Wr(EA),this.minuteSubject=new Wr(TA),this.periodSubject=new Wr(ks.AM)}set hour(e){this.hourSubject.next(e)}get selectedHour(){return this.hourSubject.asObservable()}set minute(e){this.minuteSubject.next(e)}get selectedMinute(){return this.minuteSubject.asObservable()}set period(e){(e===ks.AM||e===ks.PM)&&this.periodSubject.next(e)}get selectedPeriod(){return this.periodSubject.asObservable()}setDefaultTimeIfAvailable(e,t,i,r,s){try{Er.isTimeAvailable(e,t,i,"minutes",s)&&this.setDefaultTime(e,r)}catch(c){console.error(c)}}getFullTime(e){const t=this.hourSubject.getValue().time,i=this.minuteSubject.getValue().time,h=`${null!=t?t:EA.time}:${null!=i?i:TA.time} ${12===e?this.periodSubject.getValue():""}`.trim();return Er.formatTime(h,{format:e})}setDefaultTime(e,t){const i=Er.parseTime(e,{format:t}).toJSDate();if(wa.ou.fromJSDate(i).isValid){const r=e.substr(e.length-2).toUpperCase(),s=i.getHours();this.hour=Object.assign({},EA,{time:F9(s,r)}),this.minute=Object.assign({},TA,{time:i.getMinutes()}),this.period=r}else this.resetTime()}resetTime(){this.hour=Object.assign({},EA),this.minute=Object.assign({},TA),this.period=ks.AM}};function F9(n,e){switch(e){case ks.AM:return 0===n?12:n;case ks.PM:return 12===n?12:n-12;default:return n}}yl.\u0275fac=function(e){return new(e||yl)},yl.\u0275prov=a.Yz7({token:yl,factory:function(n){return yl.\u0275fac(n)},providedIn:"root"}),yl.ngInjectableDef=(0,a.Yz7)({factory:function(){return new yl},token:yl,providedIn:"root"});const go=new a.OlP("TimeLocale",{providedIn:"root",factory:()=>Er.DEFAULT_LOCALE});var Th=(()=>(function(n){n.ENTER="enter",n.LEAVE="leave"}(Th||(Th={})),Th))();let L9=(()=>{let n=class{constructor(t,i,r){this.timepickerService=t,this.eventService=i,this.locale=r,this.timeUnit=Ms,this.activeTimeUnit=Ms.HOUR,this.unsubscribe=new Jt.x}set defaultTime(t){this._defaultTime=t,this.setDefaultTime(t)}get defaultTime(){return this._defaultTime}onKeydown(t){this.eventService.dispatchEvent(t),t.stopPropagation()}ngOnInit(){this.animationState=!this.disableAnimation&&Th.ENTER,this.defineTime(),this.selectedHour=this.timepickerService.selectedHour.pipe(F({bufferSize:1,refCount:!0})),this.selectedMinute=this.timepickerService.selectedMinute.pipe(F({bufferSize:1,refCount:!0})),this.selectedPeriod=this.timepickerService.selectedPeriod.pipe(F({bufferSize:1,refCount:!0})),this.timepickerBaseRef.timeUpdated.pipe(ml(this.unsubscribe)).subscribe(this.setDefaultTime.bind(this))}onHourChange(t){this.timepickerService.hour=t,this.onTimeChange()}onHourSelected(t){this.hoursOnly||this.changeTimeUnit(Ms.MINUTE),this.timepickerBaseRef.hourSelected.next(t)}onMinuteChange(t){this.timepickerService.minute=t,this.onTimeChange()}changePeriod(t){this.timepickerService.period=t,this.onTimeChange()}changeTimeUnit(t){this.activeTimeUnit=t}setTime(){this.timepickerBaseRef.timeSet.next(this.timepickerService.getFullTime(this.format)),this.close()}close(){this.disableAnimation?this.timepickerBaseRef.close():this.animationState=Th.LEAVE}animationDone(t){"done"===t.phaseName&&t.toState===Th.LEAVE&&this.timepickerBaseRef.close()}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}setDefaultTime(t){this.timepickerService.setDefaultTimeIfAvailable(t,this.minTime,this.maxTime,this.format,this.minutesGap)}defineTime(){const t=this.minTime;if(t&&!this.time&&!this.defaultTime){const i=Er.fromDateTimeToString(t,this.format);this.setDefaultTime(i)}}onTimeChange(){const t=Er.toLocaleTimeString(this.timepickerService.getFullTime(this.format),{locale:this.locale,format:this.format});this.timepickerBaseRef.timeChanged.emit(t)}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(yl),a.Y36(uu),a.Y36(go))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngx-material-timepicker-container"]],hostBindings:function(t,i){1&t&&a.NdJ("keydown",function(s){return i.onKeydown(s)})},inputs:{defaultTime:"defaultTime"},features:[a._Bn([yl])],decls:22,vars:31,consts:[[1,"timepicker-backdrop-overlay",3,"overlay","ngClass"],[1,"timepicker-overlay"],[3,"appendToInput","inputElement","ngxMaterialTimepickerTheme"],[1,"timepicker",3,"ngClass"],[1,"timepicker__header"],[3,"format","hour","minute","period","activeTimeUnit","minTime","maxTime","isEditable","editableHintTmpl","minutesGap","hoursOnly","periodChanged","timeUnitChanged","hourChanged","minuteChanged"],[1,"timepicker__main-content"],[1,"timepicker__body",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange",4,"ngSwitchCase"],[1,"timepicker__actions"],[3,"click"],[4,"ngTemplateOutlet"],["cancelBtnDefault",""],["confirmBtnDefault",""],[3,"selectedHour","minTime","maxTime","format","hourChange","hourSelected",4,"ngIf","ngIfElse"],["ampmHours",""],[3,"selectedHour","minTime","maxTime","format","hourChange","hourSelected"],[3,"selectedHour","period","minTime","maxTime","hourChange","hourSelected"],[3,"selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange"]],template:function(t,i){if(1&t&&(a._UZ(0,"div",0),a.TgZ(1,"div",1)(2,"ngx-material-timepicker-content",2)(3,"div",3),a.NdJ("@timepicker.done",function(s){return i.animationDone(s)}),a.TgZ(4,"header",4)(5,"ngx-material-timepicker-dial",5),a.NdJ("periodChanged",function(s){return i.changePeriod(s)})("timeUnitChanged",function(s){return i.changeTimeUnit(s)})("hourChanged",function(s){return i.onHourChange(s)})("minuteChanged",function(s){return i.onMinuteChange(s)}),a.ALo(6,"async"),a.ALo(7,"async"),a.ALo(8,"async"),a.qZA()(),a.TgZ(9,"div",6)(10,"div",7),a.YNc(11,W7,4,2,"div",8),a.YNc(12,Z7,4,13,"ngx-material-timepicker-minutes-face",9),a.qZA(),a.TgZ(13,"div",10)(14,"div",11),a.NdJ("click",function(){return i.close()}),a.YNc(15,Y7,1,0,"ng-container",12),a.qZA(),a.TgZ(16,"div",11),a.NdJ("click",function(){return i.setTime()}),a.YNc(17,K7,1,0,"ng-container",12),a.qZA()()()()()(),a.YNc(18,Q7,2,0,"ng-template",null,13,a.W1O),a.YNc(20,J7,2,0,"ng-template",null,14,a.W1O)),2&t){const r=a.MAs(19),s=a.MAs(21);let c,h;a.Q6J("overlay",i.preventOverlayClick)("ngClass",a.VKq(29,X7,i.appendToInput)),a.xp6(2),a.Q6J("appendToInput",i.appendToInput)("inputElement",i.inputElement)("ngxMaterialTimepickerTheme",i.theme),a.xp6(1),a.Q6J("@timepicker",i.animationState)("ngClass",i.timepickerClass),a.xp6(2),a.Q6J("format",i.format)("hour",null==(c=a.lcZ(6,23,i.selectedHour))?null:c.time)("minute",null==(h=a.lcZ(7,25,i.selectedMinute))?null:h.time)("period",a.lcZ(8,27,i.selectedPeriod))("activeTimeUnit",i.activeTimeUnit)("minTime",i.minTime)("maxTime",i.maxTime)("isEditable",i.enableKeyboardInput)("editableHintTmpl",i.editableHintTmpl)("minutesGap",i.minutesGap)("hoursOnly",i.hoursOnly),a.xp6(5),a.Q6J("ngSwitch",i.activeTimeUnit),a.xp6(1),a.Q6J("ngSwitchCase",i.timeUnit.HOUR),a.xp6(1),a.Q6J("ngSwitchCase",i.timeUnit.MINUTE),a.xp6(3),a.Q6J("ngTemplateOutlet",i.cancelBtnTmpl?i.cancelBtnTmpl:r),a.xp6(2),a.Q6J("ngTemplateOutlet",i.confirmBtnTmpl?i.confirmBtnTmpl:s)}},directives:function(){return[J9,Mi,sQ,U9,Z9,Hi,fr,Gn,j9,G9,$9,vo,W9]},pipes:function(){return[pu]},styles:["[_nghost-%COMP%]{--body-background-color:#fff;--primary-font-family:'Roboto',sans-serif;--button-color:deepskyblue;--dial-active-color:#fff;--dial-inactive-color:rgba(255, 255, 255, .5);--dial-background-color:deepskyblue;--dial-editable-active-color:deepskyblue;--dial-editable-background-color:#fff;--clock-face-time-active-color:#fff;--clock-face-time-inactive-color:#6c6c6c;--clock-face-inner-time-inactive-color:#929292;--clock-face-time-disabled-color:#c5c5c5;--clock-face-background-color:#f0f0f0;--clock-hand-color:deepskyblue}.timepicker-backdrop-overlay[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;right:0;left:0;background-color:rgba(0,0,0,.3);z-index:999;pointer-events:auto}.timepicker-backdrop-overlay--transparent[_ngcontent-%COMP%]{background-color:transparent}.timepicker-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;z-index:999;pointer-events:none}.timepicker[_ngcontent-%COMP%]{width:300px;border-radius:2px;box-shadow:rgba(0,0,0,.25) 0 14px 45px,rgba(0,0,0,.22) 0 10px 18px;outline:0;position:static;z-index:999;pointer-events:auto}.timepicker__header[_ngcontent-%COMP%]{padding:15px 30px;background-color:#00bfff}@supports (background-color:var(--dial-background-color)){.timepicker__header[_ngcontent-%COMP%]{background-color:var(--dial-background-color)}}.timepicker__body[_ngcontent-%COMP%]{padding:15px 5px;display:flex;justify-content:center;align-items:center;background-color:#fff}@supports (background-color:var(--body-background-color)){.timepicker__body[_ngcontent-%COMP%]{background-color:var(--body-background-color)}}.timepicker__actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:15px;background-color:#fff}@supports (background-color:var(--body-background-color)){.timepicker__actions[_ngcontent-%COMP%]{background-color:var(--body-background-color)}}@media (max-device-width:1023px) and (orientation:landscape){.timepicker[_ngcontent-%COMP%]{display:flex;width:515px}.timepicker__header[_ngcontent-%COMP%]{display:flex;align-items:center}.timepicker__main-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.timepicker__actions[_ngcontent-%COMP%]{padding:5px;margin-top:-1px}}"],data:{animation:[DC("timepicker",[op(`* => ${Th.ENTER}`,[xs({transform:"translateY(-30%)"}),rd("0.2s ease-out",xs({transform:"translateY(0)"}))]),op(`${Th.ENTER} => ${Th.LEAVE}`,[xs({transform:"translateY(0)",opacity:1}),rd("0.2s ease-out",xs({transform:"translateY(-30%)",opacity:0}))])])]}}),ke([(0,a.IIB)()],n.prototype,"defaultTime",null),ke([(0,a.L6J)("keydown",["$event"])],n.prototype,"onKeydown",null),n=ke([cu(2,(0,a.tBr)(go))],n),n})(),zH=(()=>{let n=class{constructor(t,i){this.eventService=t,this.domService=i,this.timeUpdated=new Jt.x,this.isEsc=!0,this.hoursOnly=!1,this.timeSet=new a.vpe,this.opened=new a.vpe,this.closed=new a.vpe,this.hourSelected=new a.vpe,this.timeChanged=new a.vpe,this.unsubscribe=new Jt.x}set ngxMaterialTimepickerTheme(t){console.warn("'ngxMaterialTimepickerTheme' is deprecated. Use 'theme' instead"),this._ngxMaterialTimepickerTheme=t}set format(t){this._format=24===t?24:12}get format(){return this.timepickerInput?this.timepickerInput.format:this._format}set minutesGap(t){null!=t&&(t=Math.floor(t),this._minutesGap=t<=59?t:1)}get minutesGap(){return this._minutesGap}get minTime(){return this.timepickerInput?this.timepickerInput.min:this.min}get maxTime(){return this.timepickerInput?this.timepickerInput.max:this.max}get disabled(){return this.timepickerInput&&this.timepickerInput.disabled}get time(){return this.timepickerInput&&this.timepickerInput.value}get inputElement(){return this.timepickerInput&&this.timepickerInput.element}registerInput(t){if(this.timepickerInput)throw Error("A Timepicker can only be associated with a single input.");this.timepickerInput=t}open(){this.domService.appendTimepickerToBody(L9,{timepickerBaseRef:this,time:this.time,defaultTime:this.defaultTime,maxTime:this.maxTime,minTime:this.minTime,format:this.format,minutesGap:this.minutesGap,disableAnimation:this.disableAnimation,cancelBtnTmpl:this.cancelBtnTmpl,confirmBtnTmpl:this.confirmBtnTmpl,editableHintTmpl:this.editableHintTmpl,disabled:this.disabled,enableKeyboardInput:this.enableKeyboardInput,preventOverlayClick:this.preventOverlayClick,appendToInput:this.appendToInput,hoursOnly:this.hoursOnly,theme:this.theme||this._ngxMaterialTimepickerTheme,timepickerClass:this.timepickerClass,inputElement:this.inputElement}),this.opened.next(),this.subscribeToEvents()}close(){this.domService.destroyTimepicker(),this.closed.next(),this.unsubscribeFromEvents()}updateTime(t){this.timeUpdated.next(t)}subscribeToEvents(){(0,Rr.T)(this.eventService.backdropClick,this.eventService.keydownEvent.pipe(ae(t=>27===t.keyCode&&this.isEsc))).pipe(ml(this.unsubscribe)).subscribe(()=>this.close())}unsubscribeFromEvents(){this.unsubscribe.next(),this.unsubscribe.complete()}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(uu),a.Y36(du))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngx-material-timepicker"]],inputs:{isEsc:["ESC","isEsc"],hoursOnly:"hoursOnly",ngxMaterialTimepickerTheme:"ngxMaterialTimepickerTheme",format:"format",minutesGap:"minutesGap",cancelBtnTmpl:"cancelBtnTmpl",editableHintTmpl:"editableHintTmpl",confirmBtnTmpl:"confirmBtnTmpl",enableKeyboardInput:"enableKeyboardInput",preventOverlayClick:"preventOverlayClick",disableAnimation:"disableAnimation",appendToInput:"appendToInput",defaultTime:"defaultTime",timepickerClass:"timepickerClass",theme:"theme",min:"min",max:"max"},outputs:{timeSet:"timeSet",opened:"opened",closed:"closed",hourSelected:"hourSelected",timeChanged:"timeChanged"},decls:0,vars:0,template:function(t,i){},encapsulation:2}),ke([(0,a.IIB)()],n.prototype,"cancelBtnTmpl",void 0),ke([(0,a.IIB)()],n.prototype,"editableHintTmpl",void 0),ke([(0,a.IIB)()],n.prototype,"confirmBtnTmpl",void 0),ke([(0,a.IIB)("ESC")],n.prototype,"isEsc",void 0),ke([(0,a.IIB)()],n.prototype,"enableKeyboardInput",void 0),ke([(0,a.IIB)()],n.prototype,"preventOverlayClick",void 0),ke([(0,a.IIB)()],n.prototype,"disableAnimation",void 0),ke([(0,a.IIB)()],n.prototype,"appendToInput",void 0),ke([(0,a.IIB)()],n.prototype,"hoursOnly",void 0),ke([(0,a.IIB)()],n.prototype,"defaultTime",void 0),ke([(0,a.IIB)()],n.prototype,"timepickerClass",void 0),ke([(0,a.IIB)()],n.prototype,"theme",void 0),ke([(0,a.IIB)()],n.prototype,"min",void 0),ke([(0,a.IIB)()],n.prototype,"max",void 0),ke([(0,a.IIB)()],n.prototype,"ngxMaterialTimepickerTheme",null),ke([(0,a.IIB)()],n.prototype,"format",null),ke([(0,a.IIB)()],n.prototype,"minutesGap",null),ke([(0,a.r_U)()],n.prototype,"timeSet",void 0),ke([(0,a.r_U)()],n.prototype,"opened",void 0),ke([(0,a.r_U)()],n.prototype,"closed",void 0),ke([(0,a.r_U)()],n.prototype,"hourSelected",void 0),ke([(0,a.r_U)()],n.prototype,"timeChanged",void 0),n})(),vN=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","ngxMaterialTimepickerToggleIcon",""]]}),n})(),B9=(()=>{let n=class{get disabled(){return void 0===this._disabled?this.timepicker.disabled:this._disabled}set disabled(t){this._disabled=t}open(t){this.timepicker&&(this.timepicker.open(),t.stopPropagation())}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngx-material-timepicker-toggle"]],contentQueries:function(t,i,r){if(1&t&&a.Suo(r,vN,7),2&t){let s;a.iGM(s=a.CRH())&&(i.customIcon=s.first)}},inputs:{disabled:"disabled",timepicker:["for","timepicker"]},ngContentSelectors:n9,decls:3,vars:2,consts:[["type","button",1,"ngx-material-timepicker-toggle",3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","width","24px","height","24px",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","width","24px","height","24px"],["d","M 12 2 C 6.4889971 2 2 6.4889971 2 12 C 2 17.511003                   6.4889971 22 12 22 C 17.511003 22 22 17.511003 22 12 C 22 6.4889971 17.511003 2 12 2 z M 12 4 C 16.430123 4 20 7.5698774 20 12 C 20 16.430123 16.430123 20 12 20 C 7.5698774 20 4 16.430123 4 12 C 4 7.5698774 7.5698774 4 12 4 z M 11 6 L 11 12.414062 L 15.292969 16.707031 L 16.707031 15.292969 L 13 11.585938 L 13 6 L 11 6 z"]],template:function(t,i){1&t&&(a.F$t(t9),a.TgZ(0,"button",0),a.NdJ("click",function(s){return i.open(s)}),a.YNc(1,e9,2,0,"svg",1),a.Hsn(2),a.qZA()),2&t&&(a.Q6J("disabled",i.disabled),a.xp6(1),a.Q6J("ngIf",!i.customIcon))},directives:[Gn],styles:[".ngx-material-timepicker-toggle[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:4px;background-color:transparent;border-radius:50%;text-align:center;border:none;outline:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:background-color .3s;cursor:pointer}.ngx-material-timepicker-toggle[_ngcontent-%COMP%]:focus{background-color:rgba(0,0,0,.07)}"]}),ke([(0,a.IIB)("for")],n.prototype,"timepicker",void 0),ke([(0,a.IIB)()],n.prototype,"disabled",null),ke([(0,a.aQ5)(vN,{static:!0})],n.prototype,"customIcon",void 0),n})();var bN;let Go=bN=class{constructor(e,t){this.elementRef=e,this.locale=t,this._format=12,this._value="",this.timepickerSubscriptions=[],this.onTouched=()=>{},this.onChange=()=>{}}set format(e){this._format=24===e?24:12,e&&this.previousFormat&&this.previousFormat!==this._format&&(this.value=this._value,this._timepicker.updateTime(this._value)),this.previousFormat=this._format}get format(){return this._format}set min(e){this._min="string"!=typeof e?e:Er.parseTime(e,{locale:this.locale,format:this.format})}get min(){return this._min}set max(e){this._max="string"!=typeof e?e:Er.parseTime(e,{locale:this.locale,format:this.format})}get max(){return this._max}set timepicker(e){this.registerTimepicker(e)}set value(e){if(!e)return this._value="",void this.updateInputValue();const t=Er.formatTime(e,{locale:this.locale,format:this.format});if(Er.isTimeAvailable(t,this._min,this._max,"minutes",this._timepicker.minutesGap,this._format))return this._value=t,void this.updateInputValue();console.warn("Selected time doesn't match min or max value")}get value(){return this._value?Er.toLocaleTimeString(this._value,{format:this.format,locale:this.locale}):""}get element(){return this.elementRef&&this.elementRef.nativeElement}set defaultTime(e){this._timepicker.defaultTime=Er.formatTime(e,{locale:this.locale,format:this.format})}updateValue(e){this.value=e,this.onChange(e)}ngOnChanges(e){e.value&&e.value.currentValue&&(this.defaultTime=e.value.currentValue)}onClick(e){this.disableClick||(this._timepicker.open(),e.stopPropagation())}writeValue(e){this.value=e,e&&(this.defaultTime=e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}ngOnDestroy(){this.timepickerSubscriptions.forEach(e=>e.unsubscribe())}registerTimepicker(e){if(!e)throw new Error("NgxMaterialTimepickerComponent is not defined. Please make sure you passed the timepicker to ngxTimepicker directive");this._timepicker=e,this._timepicker.registerInput(this),this.timepickerSubscriptions.push(this._timepicker.timeSet.subscribe(t=>{this.value=t,this.onChange(this.value),this.onTouched(),this.defaultTime=this._value}))}updateInputValue(){this.elementRef.nativeElement.value=this.value}};Go.\u0275fac=function(e){return new(e||Go)(a.Y36(a.SBq),a.Y36(go))},Go.\u0275dir=a.lG2({type:Go,selectors:[["","ngxTimepicker",""]],hostVars:1,hostBindings:function(e,t){1&e&&a.NdJ("change",function(r){return t.updateValue(r.target.value)})("blur",function(){return t.onTouched()})("click",function(r){return t.onClick(r)}),2&e&&a.Ikx("disabled",t.disabled)},inputs:{format:"format",value:"value",min:"min",max:"max",timepicker:["ngxTimepicker","timepicker"],disabled:"disabled",disableClick:"disableClick"},features:[a._Bn([{provide:uc,useExisting:bN,multi:!0}]),a.TTD]}),Go.ctorParameters=()=>[{type:a.SBq},{type:String,decorators:[{type:a.tBr,args:[go]}]}],ke([(0,a.IIB)()],Go.prototype,"format",null),ke([(0,a.IIB)()],Go.prototype,"min",null),ke([(0,a.IIB)()],Go.prototype,"max",null),ke([(0,a.IIB)("ngxTimepicker")],Go.prototype,"timepicker",null),ke([(0,a.IIB)()],Go.prototype,"value",null),ke([(0,a.IIB)()],Go.prototype,"disabled",void 0),ke([(0,a.IIB)()],Go.prototype,"disableClick",void 0),ke([(0,a.L6J)("click",["$event"])],Go.prototype,"onClick",null),Go=bN=ke([cu(1,(0,a.tBr)(go))],Go);let U9=(()=>{let n=class{constructor(t){this.element=t.nativeElement}ngAfterViewInit(){this.theme&&this.setTheme(this.theme)}setTheme(t){for(const i in t)if(t.hasOwnProperty(i)){if("string"==typeof t[i]){for(const r in t)t.hasOwnProperty(r)&&this.element.style.setProperty(`--${H9(r)}`,t[r]);return}this.setTheme(t[i])}}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngxMaterialTimepickerTheme",""]],inputs:{theme:["ngxMaterialTimepickerTheme","theme"]}}),ke([(0,a.IIB)("ngxMaterialTimepickerTheme")],n.prototype,"theme",void 0),n})();function H9(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}class Qs{static getHours(e){return Array(e).fill(1).map((t,i)=>{const s=t+i;return{time:24===s?0:s,angle:30*s}})}static disableHours(e,t){return t.min||t.max?e.map(i=>{const r=24===t.format?i.time:Er.formatHour(i.time,t.format,t.period),s=wa.ou.fromObject({hour:r}).toFormat(hu.TWELVE);return Object.assign({},i,{disabled:!Er.isTimeAvailable(s,t.min,t.max,"hours")})}):e}static getMinutes(e=1){const r=[];for(let s=0;s<60;s++){const c=6*s;s%e==0&&r.push({time:s,angle:0!==c?c:360})}return r}static disableMinutes(e,t,i){if(i.min||i.max){const r=Er.formatHour(t,i.format,i.period);return e.map(s=>{const c=wa.ou.fromObject({hour:r,minute:s.time}).toFormat(hu.TWELVE);return Object.assign({},s,{disabled:!Er.isTimeAvailable(c,i.min,i.max,"minutes")})})}return e}}let WH=(()=>{class n{constructor(t){this.hourChange=new a.vpe,this.hourSelected=new a.vpe,this.hoursList=[],this.hoursList=Qs.getHours(t)}onTimeSelected(t){this.hourSelected.next(t)}}return n.\u0275fac=function(t){a.$Z()},n.\u0275dir=a.lG2({type:n,inputs:{selectedHour:"selectedHour",minTime:"minTime",maxTime:"maxTime",format:"format"},outputs:{hourChange:"hourChange",hourSelected:"hourSelected"}}),ke([(0,a.IIB)()],n.prototype,"selectedHour",void 0),ke([(0,a.IIB)()],n.prototype,"minTime",void 0),ke([(0,a.IIB)()],n.prototype,"maxTime",void 0),ke([(0,a.IIB)()],n.prototype,"format",void 0),ke([(0,a.r_U)()],n.prototype,"hourChange",void 0),ke([(0,a.r_U)()],n.prototype,"hourSelected",void 0),n})(),j9=(()=>{let n=class extends WH{constructor(){super(24)}ngAfterContentInit(){this.hoursList=Qs.disableHours(this.hoursList,{min:this.minTime,max:this.maxTime,format:this.format})}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngx-material-timepicker-24-hours-face"]],features:[a.qOj],decls:1,vars:3,consts:[[3,"selectedTime","faceTime","format","timeChange","timeSelected"]],template:function(t,i){1&t&&(a.TgZ(0,"ngx-material-timepicker-face",0),a.NdJ("timeChange",function(s){return i.hourChange.next(s)})("timeSelected",function(s){return i.onTimeSelected(s)}),a.qZA()),2&t&&a.Q6J("selectedTime",i.selectedHour)("faceTime",i.hoursList)("format",i.format)},directives:function(){return[wN]},encapsulation:2,changeDetection:0}),n})(),G9=(()=>{let n=class extends WH{constructor(){super(12)}ngOnChanges(t){t.period&&t.period.currentValue&&(this.hoursList=Qs.disableHours(this.hoursList,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period}))}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngx-material-timepicker-12-hours-face"]],inputs:{period:"period"},features:[a.qOj,a.TTD],decls:1,vars:2,consts:[[3,"selectedTime","faceTime","timeChange","timeSelected"]],template:function(t,i){1&t&&(a.TgZ(0,"ngx-material-timepicker-face",0),a.NdJ("timeChange",function(s){return i.hourChange.next(s)})("timeSelected",function(s){return i.onTimeSelected(s)}),a.qZA()),2&t&&a.Q6J("selectedTime",i.selectedHour)("faceTime",i.hoursList)},directives:function(){return[wN]},encapsulation:2,changeDetection:0}),ke([(0,a.IIB)()],n.prototype,"period",void 0),n})(),$9=(()=>{let n=class{constructor(){this.minutesList=[],this.timeUnit=Ms,this.minuteChange=new a.vpe}ngOnChanges(t){if(t.period&&t.period.currentValue){const i=Qs.getMinutes(this.minutesGap);this.minutesList=Qs.disableMinutes(i,this.selectedHour,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngx-material-timepicker-minutes-face"]],inputs:{selectedMinute:"selectedMinute",selectedHour:"selectedHour",period:"period",minTime:"minTime",maxTime:"maxTime",format:"format",minutesGap:"minutesGap"},outputs:{minuteChange:"minuteChange"},features:[a.TTD],decls:1,vars:4,consts:[[3,"faceTime","selectedTime","minutesGap","unit","timeChange"]],template:function(t,i){1&t&&(a.TgZ(0,"ngx-material-timepicker-face",0),a.NdJ("timeChange",function(s){return i.minuteChange.next(s)}),a.qZA()),2&t&&a.Q6J("faceTime",i.minutesList)("selectedTime",i.selectedMinute)("minutesGap",i.minutesGap)("unit",i.timeUnit.MINUTE)},directives:function(){return[wN]},encapsulation:2}),ke([(0,a.IIB)()],n.prototype,"selectedMinute",void 0),ke([(0,a.IIB)()],n.prototype,"selectedHour",void 0),ke([(0,a.IIB)()],n.prototype,"period",void 0),ke([(0,a.IIB)()],n.prototype,"minTime",void 0),ke([(0,a.IIB)()],n.prototype,"maxTime",void 0),ke([(0,a.IIB)()],n.prototype,"format",void 0),ke([(0,a.IIB)()],n.prototype,"minutesGap",void 0),ke([(0,a.r_U)()],n.prototype,"minuteChange",void 0),n})();const DA_small_height="75px",DA_small_top="calc(50% - 75px)",DA_large_height="103px",DA_large_top="calc(50% - 103px)";let wN=(()=>{let n=class{constructor(){this.timeUnit=Ms,this.innerClockFaceSize=85,this.timeChange=new a.vpe,this.timeSelected=new a.vpe}ngAfterViewInit(){this.setClockHandPosition(),this.addTouchEvents()}ngOnChanges(t){const i=t.faceTime,r=t.selectedTime;i&&i.currentValue&&r&&r.currentValue&&(this.selectedTime=this.faceTime.find(s=>s.time===this.selectedTime.time)),r&&r.currentValue&&this.setClockHandPosition(),i&&i.currentValue&&setTimeout(()=>this.selectAvailableTime())}trackByTime(t,i){return i.time}onMousedown(t){t.preventDefault(),this.isStarted=!0}selectTime(t){if(!this.isStarted&&t instanceof MouseEvent&&"click"!==t.type)return;const i=this.clockFace.nativeElement.getBoundingClientRect(),r=i.left+i.width/2,s=i.top+i.height/2,c=180*Math.atan(Math.abs(t.clientX-r)/Math.abs(t.clientY-s))/Math.PI,h=function z9(n,e,t,i,r){return i>e&&t>=n?180-r:i>e&&t<n?180+r:i<e&&t<n?360-r:r}(r,s,t.clientX,t.clientY,c),p=this.format&&this.isInnerClockFace(r,s,t.clientX,t.clientY),S=(function q9(n,e){return Math.round(n/e)*e}(h,this.unit===Ms.MINUTE?6*(this.minutesGap||1):30)||360)+(p?360:0),N=this.faceTime.find(j=>j.angle===S);N&&!N.disabled&&(this.timeChange.next(N),this.isStarted||this.timeSelected.next(N.time))}onMouseup(t){t.preventDefault(),this.isStarted=!1}ngOnDestroy(){this.removeTouchEvents()}addTouchEvents(){this.touchStartHandler=this.onMousedown.bind(this),this.touchEndHandler=this.onMouseup.bind(this),this.clockFace.nativeElement.addEventListener("touchstart",this.touchStartHandler),this.clockFace.nativeElement.addEventListener("touchend",this.touchEndHandler)}removeTouchEvents(){this.clockFace.nativeElement.removeEventListener("touchstart",this.touchStartHandler),this.clockFace.nativeElement.removeEventListener("touchend",this.touchEndHandler)}setClockHandPosition(){24===this.format&&(this.selectedTime.time>12||0===this.selectedTime.time?this.decreaseClockHand():this.increaseClockHand()),this.clockHand.nativeElement.style.transform=`rotate(${this.selectedTime.angle}deg)`}selectAvailableTime(){const t=this.faceTime.find(i=>this.selectedTime.time===i.time);if(this.isClockFaceDisabled=this.faceTime.every(i=>i.disabled),t&&t.disabled&&!this.isClockFaceDisabled){const i=this.faceTime.find(r=>!r.disabled);this.timeChange.next(i)}}isInnerClockFace(t,i,r,s){return Math.sqrt(Math.pow(r-t,2)+Math.pow(s-i,2))<this.innerClockFaceSize}decreaseClockHand(){this.clockHand.nativeElement.style.height=DA_small_height,this.clockHand.nativeElement.style.top=DA_small_top}increaseClockHand(){this.clockHand.nativeElement.style.height=DA_large_height,this.clockHand.nativeElement.style.top=DA_large_top}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngx-material-timepicker-face"]],viewQuery:function(t,i){if(1&t&&(a.Gf(i9,7),a.Gf(r9,7)),2&t){let r;a.iGM(r=a.CRH())&&(i.clockFace=r.first),a.iGM(r=a.CRH())&&(i.clockHand=r.first)}},hostBindings:function(t,i){1&t&&a.NdJ("mousedown",function(s){return i.onMousedown(s)})("click",function(s){return i.selectTime(s)})("touchmove",function(s){return i.selectTime(s.changedTouches[0])})("touchend",function(s){return i.selectTime(s.changedTouches[0])})("mousemove",function(s){return i.selectTime(s)})("mouseup",function(s){return i.onMouseup(s)})},inputs:{selectedTime:"selectedTime",faceTime:"faceTime",unit:"unit",format:"format",minutesGap:"minutesGap"},outputs:{timeChange:"timeChange",timeSelected:"timeSelected"},features:[a.TTD],decls:7,vars:6,consts:[[1,"clock-face"],["clockFace",""],["class","clock-face__container",4,"ngIf","ngIfElse"],[1,"clock-face__clock-hand",3,"ngClass","hidden"],["clockHand",""],["minutesFace",""],[1,"clock-face__container"],["class","clock-face__number clock-face__number--outer",3,"ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],["class","clock-face__inner",3,"top",4,"ngIf"],[1,"clock-face__number","clock-face__number--outer",3,"ngStyle"],[3,"ngStyle","ngClass"],[1,"clock-face__inner"],["class","clock-face__number clock-face__number--inner",3,"ngStyle","height",4,"ngFor","ngForOf","ngForTrackBy"],[1,"clock-face__number","clock-face__number--inner",3,"ngStyle"]],template:function(t,i){if(1&t&&(a.TgZ(0,"div",0,1),a.YNc(2,l9,4,7,"div",2),a._UZ(3,"span",3,4),a.qZA(),a.YNc(5,u9,2,2,"ng-template",null,5,a.W1O)),2&t){const r=a.MAs(6);a.xp6(2),a.Q6J("ngIf",i.unit!==i.timeUnit.MINUTE)("ngIfElse",r),a.xp6(1),a.Q6J("ngClass",a.VKq(4,d9,i.unit===i.timeUnit.MINUTE))("hidden",i.isClockFaceDisabled)}},directives:function(){return[Gn,Si,El,Mi]},pipes:function(){return[Wo,iQ,EN,rQ,X9]},styles:[".clock-face[_ngcontent-%COMP%]{width:290px;height:290px;border-radius:50%;position:relative;display:flex;justify-content:center;padding:20px;box-sizing:border-box;background-color:#f0f0f0}@supports (background-color:var(--clock-face-background-color)){.clock-face[_ngcontent-%COMP%]{background-color:var(--clock-face-background-color)}}.clock-face__inner[_ngcontent-%COMP%]{position:absolute}.clock-face__container[_ngcontent-%COMP%]{margin-left:-2px}.clock-face__number[_ngcontent-%COMP%]{position:absolute;transform-origin:0 100%;width:50px;text-align:center;z-index:2}.clock-face__number--outer[_ngcontent-%COMP%]{height:calc(290px / 2 - 20px)}.clock-face__number--outer[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:16px;color:#6c6c6c}@supports (color:var(--clock-face-time-inactive-color)){.clock-face__number--outer[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:var(--clock-face-time-inactive-color)}}.clock-face__number--inner[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:14px;color:#929292}@supports (color:var(--clock-face-inner-time-inactive-color)){.clock-face__number--inner[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:var(--clock-face-inner-time-inactive-color)}}.clock-face__number[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:30px;height:30px;display:flex;justify-content:center;align-items:center;margin:auto;border-radius:50%;font-weight:500;font-family:Roboto,sans-serif}@supports (font-family:var(--primary-font-family)){.clock-face__number[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-family:var(--primary-font-family)}}.clock-face__number[_ngcontent-%COMP%] > span.active[_ngcontent-%COMP%]{background-color:#00bfff;color:#fff}@supports (background-color:var(--clock-hand-color)){.clock-face__number[_ngcontent-%COMP%] > span.active[_ngcontent-%COMP%]{background-color:var(--clock-hand-color);color:var(--clock-face-time-active-color)}}.clock-face__number[_ngcontent-%COMP%] > span.disabled[_ngcontent-%COMP%]{color:#c5c5c5}@supports (color:var(--clock-face-time-disabled-color)){.clock-face__number[_ngcontent-%COMP%] > span.disabled[_ngcontent-%COMP%]{color:var(--clock-face-time-disabled-color)}}.clock-face__clock-hand[_ngcontent-%COMP%]{height:103px;width:2px;transform-origin:0 100%;position:absolute;top:calc(50% - 103px);z-index:1;background-color:#00bfff}@supports (background-color:var(--clock-hand-color)){.clock-face__clock-hand[_ngcontent-%COMP%]{background-color:var(--clock-hand-color)}}.clock-face__clock-hand[_ngcontent-%COMP%]:after{content:'';width:7px;height:7px;border-radius:50%;background-color:inherit;position:absolute;bottom:-3px;left:-3.5px}.clock-face__clock-hand_minute[_ngcontent-%COMP%]:before{content:'';width:7px;height:7px;background-color:#fff;border-radius:50%;position:absolute;top:-8px;left:calc(50% - 8px);box-sizing:content-box;border:4px solid #00bfff}@supports (border-color:var(--clock-hand-color)){.clock-face__clock-hand_minute[_ngcontent-%COMP%]:before{border-color:var(--clock-hand-color)}}@media (max-device-width:1023px) and (orientation:landscape){.clock-face[_ngcontent-%COMP%]{width:225px;height:225px;padding:5px}.clock-face__number--outer[_ngcontent-%COMP%]{height:calc(225px / 2 - 5px)}.clock-face__clock-hand_minute[_ngcontent-%COMP%]:before{top:0}}"],changeDetection:0}),ke([(0,a.IIB)()],n.prototype,"faceTime",void 0),ke([(0,a.IIB)()],n.prototype,"selectedTime",void 0),ke([(0,a.IIB)()],n.prototype,"unit",void 0),ke([(0,a.IIB)()],n.prototype,"format",void 0),ke([(0,a.IIB)()],n.prototype,"minutesGap",void 0),ke([(0,a.r_U)()],n.prototype,"timeChange",void 0),ke([(0,a.r_U)()],n.prototype,"timeSelected",void 0),ke([(0,a.i9L)("clockFace",{static:!0})],n.prototype,"clockFace",void 0),ke([(0,a.i9L)("clockHand",{static:!0})],n.prototype,"clockHand",void 0),ke([(0,a.L6J)("mousedown",["$event"])],n.prototype,"onMousedown",null),ke([(0,a.L6J)("click",["$event"]),(0,a.L6J)("touchmove",["$event.changedTouches[0]"]),(0,a.L6J)("touchend",["$event.changedTouches[0]"]),(0,a.L6J)("mousemove",["$event"])],n.prototype,"selectTime",null),ke([(0,a.L6J)("mouseup",["$event"])],n.prototype,"onMouseup",null),n})(),W9=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngx-material-timepicker-button"]],ngContentSelectors:GH,decls:3,vars:0,consts:[["type","button",1,"timepicker-button"]],template:function(t,i){1&t&&(a.F$t(),a.TgZ(0,"button",0)(1,"span"),a.Hsn(2),a.qZA()())},styles:[".timepicker-button[_ngcontent-%COMP%]{display:inline-block;height:36px;min-width:88px;line-height:36px;border:12px;border-radius:2px;background-color:transparent;text-align:center;transition:450ms cubic-bezier(.23,1,.32,1);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;cursor:pointer;outline:0;color:#00bfff}@supports (color:var(--button-color)){.timepicker-button[_ngcontent-%COMP%]{color:var(--button-color)}}.timepicker-button[_ngcontent-%COMP%]:focus, .timepicker-button[_ngcontent-%COMP%]:hover{background-color:rgba(153,153,153,.2)}.timepicker-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:14px;text-transform:uppercase;font-weight:600;padding-left:16px;padding-right:16px;font-family:Roboto,sans-serif}@supports (font-family:var(--primary-font-family)){.timepicker-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-family:var(--primary-font-family)}}"]}),n})(),Z9=(()=>{let n=class{constructor(t){this.locale=t,this.timeUnit=Ms,this.meridiems=wa.kI.meridiems({locale:this.locale}),this.periodChanged=new a.vpe,this.timeUnitChanged=new a.vpe,this.hourChanged=new a.vpe,this.minuteChanged=new a.vpe}ngOnChanges(t){if(t.period&&t.period.currentValue||t.format&&t.format.currentValue){const i=Qs.getHours(this.format);this.hours=Qs.disableHours(i,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}if(t.period&&t.period.currentValue||t.hour&&t.hour.currentValue){const i=Qs.getMinutes(this.minutesGap);this.minutes=Qs.disableMinutes(i,+this.hour,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}}changeTimeUnit(t){this.timeUnitChanged.next(t)}changePeriod(t){this.periodChanged.next(t)}changeHour(t){this.hourChanged.next(t)}changeMinute(t){this.minuteChanged.next(t)}showHint(){this.isHintVisible=!0}hideHint(){this.isHintVisible=!1}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(go))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngx-material-timepicker-dial"]],inputs:{editableHintTmpl:"editableHintTmpl",hour:"hour",minute:"minute",format:"format",period:"period",activeTimeUnit:"activeTimeUnit",minTime:"minTime",maxTime:"maxTime",isEditable:"isEditable",minutesGap:"minutesGap",hoursOnly:"hoursOnly"},outputs:{periodChanged:"periodChanged",timeUnitChanged:"timeUnitChanged",hourChanged:"hourChanged",minuteChanged:"minuteChanged"},features:[a.TTD],decls:9,vars:25,consts:[[1,"timepicker-dial"],[1,"timepicker-dial__container"],[1,"timepicker-dial__time"],[3,"timeList","time","timeUnit","isActive","isEditable","timeUnitChanged","timeChanged","focused","unfocused"],[3,"timeList","time","timeUnit","isActive","isEditable","minutesGap","disabled","timeUnitChanged","timeChanged","focused","unfocused"],[1,"timepicker-dial__period",3,"ngClass","selectedPeriod","activeTimeUnit","maxTime","minTime","format","hours","minutes","selectedHour","meridiems","periodChanged"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[4,"ngTemplateOutlet"],["editableHintDefault",""],[1,"timepicker-dial__hint"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"ngx-material-timepicker-dial-control",3),a.NdJ("timeUnitChanged",function(s){return i.changeTimeUnit(s)})("timeChanged",function(s){return i.changeHour(s)})("focused",function(){return i.showHint()})("unfocused",function(){return i.hideHint()}),a.qZA(),a.TgZ(4,"span"),a._uU(5,":"),a.qZA(),a.TgZ(6,"ngx-material-timepicker-dial-control",4),a.NdJ("timeUnitChanged",function(s){return i.changeTimeUnit(s)})("timeChanged",function(s){return i.changeMinute(s)})("focused",function(){return i.showHint()})("unfocused",function(){return i.hideHint()}),a.qZA()(),a.TgZ(7,"ngx-material-timepicker-period",5),a.NdJ("periodChanged",function(s){return i.changePeriod(s)}),a.qZA()(),a.YNc(8,m9,4,4,"div",6),a.qZA()),2&t&&(a.xp6(3),a.Q6J("timeList",i.hours)("time",i.hour)("timeUnit",i.timeUnit.HOUR)("isActive",i.activeTimeUnit===i.timeUnit.HOUR)("isEditable",i.isEditable),a.xp6(3),a.Q6J("timeList",i.minutes)("time",i.minute)("timeUnit",i.timeUnit.MINUTE)("isActive",i.activeTimeUnit===i.timeUnit.MINUTE)("isEditable",i.isEditable)("minutesGap",i.minutesGap)("disabled",i.hoursOnly),a.xp6(1),a.Q6J("ngClass",a.VKq(23,g9,24===i.format))("selectedPeriod",i.period)("activeTimeUnit",i.activeTimeUnit)("maxTime",i.maxTime)("minTime",i.minTime)("format",i.format)("hours",i.hours)("minutes",i.minutes)("selectedHour",i.hour)("meridiems",i.meridiems),a.xp6(1),a.Q6J("ngIf",i.isEditable||i.editableHintTmpl))},directives:function(){return[Y9,Q9,Mi,Gn,vo]},styles:[".timepicker-dial[_ngcontent-%COMP%]{text-align:right}.timepicker-dial__container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;-webkit-tap-highlight-color:transparent}.timepicker-dial__time[_ngcontent-%COMP%]{display:flex;align-items:baseline;line-height:normal;font-size:50px;color:rgba(255,255,255,.5);font-family:Roboto,sans-serif}@supports (font-family:var(--primary-font-family)){.timepicker-dial__time[_ngcontent-%COMP%]{font-family:var(--primary-font-family);color:var(--dial-inactive-color)}}.timepicker-dial__period[_ngcontent-%COMP%]{display:block;margin-left:10px}.timepicker-dial__hint-container--hidden[_ngcontent-%COMP%], .timepicker-dial__period--hidden[_ngcontent-%COMP%]{visibility:hidden}.timepicker-dial__hint[_ngcontent-%COMP%]{display:inline-block;font-size:10px;color:#fff}@supports (color:var(--dial-active-color)){.timepicker-dial__hint[_ngcontent-%COMP%]{color:var(--dial-active-color)}}.timepicker-dial__hint[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}@media (max-device-width:1023px) and (orientation:landscape){.timepicker-dial__container[_ngcontent-%COMP%]{flex-direction:column}.timepicker-dial__period[_ngcontent-%COMP%]{margin-left:0}}"],changeDetection:0}),ke([(0,a.IIB)()],n.prototype,"editableHintTmpl",void 0),ke([(0,a.IIB)()],n.prototype,"hour",void 0),ke([(0,a.IIB)()],n.prototype,"minute",void 0),ke([(0,a.IIB)()],n.prototype,"format",void 0),ke([(0,a.IIB)()],n.prototype,"period",void 0),ke([(0,a.IIB)()],n.prototype,"activeTimeUnit",void 0),ke([(0,a.IIB)()],n.prototype,"minTime",void 0),ke([(0,a.IIB)()],n.prototype,"maxTime",void 0),ke([(0,a.IIB)()],n.prototype,"isEditable",void 0),ke([(0,a.IIB)()],n.prototype,"minutesGap",void 0),ke([(0,a.IIB)()],n.prototype,"hoursOnly",void 0),ke([(0,a.r_U)()],n.prototype,"periodChanged",void 0),ke([(0,a.r_U)()],n.prototype,"timeUnitChanged",void 0),ke([(0,a.r_U)()],n.prototype,"hourChanged",void 0),ke([(0,a.r_U)()],n.prototype,"minuteChanged",void 0),n=ke([cu(0,(0,a.tBr)(go))],n),n})(),Iv=(()=>{let n=class{constructor(t){this.locale=t,this.numberingSystem=wa.ou.local().setLocale(this.locale).resolvedLocaleOpts().numberingSystem}transform(t,i=Ms.HOUR){return null==t||""===t?"":isNaN(+t)?i===Ms.MINUTE?this.parseTime(t,"m","minute"):this.parseTime(t,"H","hour"):t}parseTime(t,i,r){const s=wa.ou.fromFormat(String(t),i,{numberingSystem:this.numberingSystem})[r];if(!isNaN(s))return s;throw new Error(`Cannot parse time - ${t}`)}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(go,16))},n.\u0275pipe=a.Yjl({name:"timeParser",type:n,pure:!0}),n.\u0275prov=a.Yz7({token:n,factory:function(e){return n.\u0275fac(e)}}),n=ke([cu(0,(0,a.tBr)(go))],n),n})(),Y9=(()=>{let n=class{constructor(t){this.timeParserPipe=t,this.timeUnitChanged=new a.vpe,this.timeChanged=new a.vpe,this.focused=new a.vpe,this.unfocused=new a.vpe}get selectedTime(){if(this.time)return this.timeList.find(t=>t.time===+this.time)}saveTimeAndChangeTimeUnit(t,i){t.preventDefault(),this.previousTime=this.time,this.timeUnitChanged.next(i),this.focused.next()}updateTime(){const t=this.selectedTime;t&&(this.timeChanged.next(t),this.previousTime=t.time)}changeTimeByKeyboard(t){const i=String.fromCharCode(t.keyCode);(function K9(n,e,t){if(/\d/.test(e))return ZH(n+e,t)})(this.time,i,this.timeList)&&t.preventDefault()}onKeydown(t){qH(t)?this.changeTimeByArrow(t.keyCode):t.preventDefault()}onModelChange(t){this.time=this.timeParserPipe.transform(t,this.timeUnit).toString()}changeTimeByArrow(t){let s;38===t?s=String(+this.time+(this.minutesGap||1)):40===t&&(s=String(+this.time-(this.minutesGap||1))),ZH(s,this.timeList)||(this.time=s,this.updateTime())}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(Iv))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngx-material-timepicker-dial-control"]],inputs:{time:"time",timeList:"timeList",timeUnit:"timeUnit",isActive:"isActive",isEditable:"isEditable",minutesGap:"minutesGap",disabled:"disabled"},outputs:{timeUnitChanged:"timeUnitChanged",timeChanged:"timeChanged",focused:"focused",unfocused:"unfocused"},features:[a._Bn([Iv])],decls:3,vars:2,consts:[["class","timepicker-dial__control timepicker-dial__item","readonly","",3,"ngClass","ngModel","disabled","timepickerAutofocus","ngModelChange","input","focus",4,"ngIf","ngIfElse"],["editableTemplate",""],["readonly","",1,"timepicker-dial__control","timepicker-dial__item",3,"ngClass","ngModel","disabled","timepickerAutofocus","ngModelChange","input","focus"],[1,"timepicker-dial__control","timepicker-dial__item","timepicker-dial__control_editable",3,"ngClass","ngModel","disabled","timepickerAutofocus","ngModelChange","input","focus","keydown","keypress"]],template:function(t,i){if(1&t&&(a.YNc(0,_9,2,9,"input",0),a.YNc(1,y9,3,13,"ng-template",null,1,a.W1O)),2&t){const r=a.MAs(2);a.Q6J("ngIf",!i.isEditable)("ngIfElse",r)}},directives:function(){return[Gn,up,Mi,bv,nA,YH]},pipes:function(){return[EN,Iv]},styles:[".timepicker-dial__item[_ngcontent-%COMP%]{cursor:pointer;color:rgba(255,255,255,.5);font-family:Roboto,sans-serif}@supports (font-family:var(--primary-font-family)){.timepicker-dial__item[_ngcontent-%COMP%]{font-family:var(--primary-font-family);color:var(--dial-inactive-color)}}.timepicker-dial__item_active[_ngcontent-%COMP%]{color:#fff}@supports (color:var(--dial-active-color)){.timepicker-dial__item_active[_ngcontent-%COMP%]{color:var(--dial-active-color)}}.timepicker-dial__control[_ngcontent-%COMP%]{border:none;background-color:transparent;font-size:50px;width:60px;padding:0;border-radius:3px;text-align:right}.timepicker-dial__control_editable[_ngcontent-%COMP%]:focus{color:#00bfff;background-color:#fff;outline:#00bfff}@supports (color:var(--dial-editable-active-color)){.timepicker-dial__control_editable[_ngcontent-%COMP%]:focus{color:var(--dial-editable-active-color)}}@supports (background-color:var(--dial-editable-background-color)){.timepicker-dial__control_editable[_ngcontent-%COMP%]:focus{background-color:var(--dial-editable-background-color)}}@supports (outline:var(--dial-editable-active-color)){.timepicker-dial__control_editable[_ngcontent-%COMP%]:focus{outline:var(--dial-editable-active-color)}}.timepicker-dial__control[_ngcontent-%COMP%]:disabled{cursor:default}"]}),ke([(0,a.IIB)()],n.prototype,"timeList",void 0),ke([(0,a.IIB)()],n.prototype,"timeUnit",void 0),ke([(0,a.IIB)()],n.prototype,"time",void 0),ke([(0,a.IIB)()],n.prototype,"isActive",void 0),ke([(0,a.IIB)()],n.prototype,"isEditable",void 0),ke([(0,a.IIB)()],n.prototype,"minutesGap",void 0),ke([(0,a.IIB)()],n.prototype,"disabled",void 0),ke([(0,a.r_U)()],n.prototype,"timeUnitChanged",void 0),ke([(0,a.r_U)()],n.prototype,"timeChanged",void 0),ke([(0,a.r_U)()],n.prototype,"focused",void 0),ke([(0,a.r_U)()],n.prototype,"unfocused",void 0),n})();function ZH(n,e){const t=e.find(i=>i.time===+n);return!t||t&&t.disabled}let Q9=(()=>{let n=class{constructor(){this.timePeriod=ks,this.isPeriodAvailable=!0,this.periodChanged=new a.vpe}changePeriod(t){this.isPeriodAvailable=this.isSwitchPeriodAvailable(t),this.isPeriodAvailable&&this.periodChanged.next(t)}animationDone(){this.isPeriodAvailable=!0}isSwitchPeriodAvailable(t){return!this.getDisabledTimeByPeriod(t).every(r=>r.disabled)}getDisabledTimeByPeriod(t){switch(this.activeTimeUnit){case Ms.HOUR:return Qs.disableHours(this.hours,{min:this.minTime,max:this.maxTime,format:this.format,period:t});case Ms.MINUTE:return Qs.disableMinutes(this.minutes,+this.selectedHour,{min:this.minTime,max:this.maxTime,format:this.format,period:t});default:throw new Error("no such TimeUnit")}}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngx-material-timepicker-period"]],inputs:{selectedPeriod:"selectedPeriod",format:"format",activeTimeUnit:"activeTimeUnit",hours:"hours",minutes:"minutes",minTime:"minTime",maxTime:"maxTime",selectedHour:"selectedHour",meridiems:"meridiems"},outputs:{periodChanged:"periodChanged"},decls:6,vars:9,consts:[[1,"timepicker-period"],["type","button",1,"timepicker-dial__item","timepicker-period__btn",3,"ngClass","click"],["class","timepicker-period__warning",4,"ngIf"],[1,"timepicker-period__warning"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"button",1),a.NdJ("click",function(){return i.changePeriod(i.timePeriod.AM)}),a._uU(2),a.qZA(),a.TgZ(3,"button",1),a.NdJ("click",function(){return i.changePeriod(i.timePeriod.PM)}),a._uU(4),a.qZA(),a.YNc(5,v9,3,1,"div",2),a.qZA()),2&t&&(a.xp6(1),a.Q6J("ngClass",a.VKq(5,CA,i.selectedPeriod===i.timePeriod.AM)),a.xp6(1),a.Oqu(i.meridiems[0]),a.xp6(1),a.Q6J("ngClass",a.VKq(7,CA,i.selectedPeriod===i.timePeriod.PM)),a.xp6(1),a.Oqu(i.meridiems[1]),a.xp6(1),a.Q6J("ngIf",!i.isPeriodAvailable))},directives:[Mi,Gn],styles:[".timepicker-dial__item[_ngcontent-%COMP%]{cursor:pointer;color:rgba(255,255,255,.5);font-family:Roboto,sans-serif}@supports (font-family:var(--primary-font-family)){.timepicker-dial__item[_ngcontent-%COMP%]{font-family:var(--primary-font-family);color:var(--dial-inactive-color)}}.timepicker-dial__item_active[_ngcontent-%COMP%]{color:#fff}@supports (color:var(--dial-active-color)){.timepicker-dial__item_active[_ngcontent-%COMP%]{color:var(--dial-active-color)}}.timepicker-period[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}.timepicker-period__btn[_ngcontent-%COMP%]{padding:1px 3px;border:0;background-color:transparent;font-size:18px;font-weight:500;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;outline:0;border-radius:3px;transition:background-color .5s;font-family:Roboto,sans-serif}.timepicker-period__btn[_ngcontent-%COMP%]:focus{background-color:rgba(0,0,0,.07)}.timepicker-period__warning[_ngcontent-%COMP%]{padding:5px 10px;border-radius:3px;background-color:rgba(0,0,0,.55);color:#fff;position:absolute;width:200px;left:-20px;top:40px}.timepicker-period__warning[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:0;font-size:12px;font-family:Roboto,sans-serif}@supports (font-family:var(--primary-font-family)){.timepicker-period__btn[_ngcontent-%COMP%], .timepicker-period__warning[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-family:var(--primary-font-family)}}"],data:{animation:[DC("scaleInOut",[op(":enter",[xs({transform:"scale(0)"}),rd(".2s",xs({transform:"scale(1)"})),VO([rd("3s",xs({opacity:1})),rd(".3s",xs({opacity:0}))])])])]}}),ke([(0,a.IIB)()],n.prototype,"selectedPeriod",void 0),ke([(0,a.IIB)()],n.prototype,"format",void 0),ke([(0,a.IIB)()],n.prototype,"activeTimeUnit",void 0),ke([(0,a.IIB)()],n.prototype,"hours",void 0),ke([(0,a.IIB)()],n.prototype,"minutes",void 0),ke([(0,a.IIB)()],n.prototype,"minTime",void 0),ke([(0,a.IIB)()],n.prototype,"maxTime",void 0),ke([(0,a.IIB)()],n.prototype,"selectedHour",void 0),ke([(0,a.IIB)()],n.prototype,"meridiems",void 0),ke([(0,a.r_U)()],n.prototype,"periodChanged",void 0),n})(),J9=(()=>{let n=class{constructor(t){this.eventService=t}onClick(t){this.preventClick||this.eventService.dispatchEvent(t),t.preventDefault()}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(uu))},n.\u0275dir=a.lG2({type:n,selectors:[["","overlay",""]],hostBindings:function(t,i){1&t&&a.NdJ("click",function(s){return i.onClick(s)})},inputs:{preventClick:["overlay","preventClick"]}}),ke([(0,a.IIB)("overlay")],n.prototype,"preventClick",void 0),ke([(0,a.L6J)("click",["$event"])],n.prototype,"onClick",null),n})(),X9=(()=>{let n=class{transform(t,i=5){return t&&(t%i==0?t:"")}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=a.Yjl({name:"minutesFormatter",type:n,pure:!0}),n})(),YH=(()=>{let n=class{constructor(t,i){this.element=t,this.document=i,this.activeElement=this.document.activeElement}ngOnChanges(){this.isFocusActive&&setTimeout(()=>this.element.nativeElement.focus({preventScroll:!0}))}ngOnDestroy(){setTimeout(()=>this.activeElement.focus({preventScroll:!0}))}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(fe,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","timepickerAutofocus",""]],inputs:{isFocusActive:["timepickerAutofocus","isFocusActive"]},features:[a.TTD]}),ke([(0,a.IIB)("timepickerAutofocus")],n.prototype,"isFocusActive",void 0),n=ke([cu(1,(0,a.FiY)()),cu(1,(0,a.tBr)(fe))],n),n})();var CN;let Rs=CN=class{constructor(e,t){this.timepickerService=e,this.locale=t,this.minHour=1,this.maxHour=12,this.timeUnit=Ms,this.buttonAlign="right",this.timeChanged=new a.vpe,this._format=12,this.unsubscribe$=new Jt.x,this.isFirstTimeChange=!0,this.onChange=()=>{}}set format(e){this._format=24===e?24:12,this.minHour=12===this._format?1:0,this.maxHour=12===this._format?12:23,this.hoursList=Qs.getHours(this._format),e&&this.previousFormat&&this.previousFormat!==this._format&&this.updateTime(this.timepickerTime),this.previousFormat=this._format}get format(){return this._format}set min(e){this._min="string"!=typeof e?e:Er.parseTime(e,{locale:this.locale,format:this.format})}get min(){return this._min}set max(e){this._max="string"!=typeof e?e:Er.parseTime(e,{locale:this.locale,format:this.format})}get max(){return this._max}set defaultTime(e){this._defaultTime=e,this.isDefaultTime=!!e}get defaultTime(){return this._defaultTime}ngOnInit(){this.initTime(this.defaultTime),this.hoursList=Qs.getHours(this._format),this.minutesList=Qs.getMinutes(),this.isTimeRangeSet=!(!this.min&&!this.max),this.hour$=this.timepickerService.selectedHour.pipe((0,_r.b)(e=>this.selectedHour=e.time),(0,M.U)(this.changeDefaultTimeValue.bind(this)),(0,_r.b)(()=>this.isTimeRangeSet&&this.updateAvailableMinutes())),this.minute$=this.timepickerService.selectedMinute.pipe((0,M.U)(this.changeDefaultTimeValue.bind(this)),(0,_r.b)(()=>this.isFirstTimeChange=!1)),12===this.format&&this.timepickerService.selectedPeriod.pipe(D_(),(0,_r.b)(e=>this.period=e),(0,_r.b)(e=>this.isChangePeriodDisabled=this.isPeriodDisabled(e)),ml(this.unsubscribe$)).subscribe(()=>this.isTimeRangeSet&&this.updateAvailableTime())}writeValue(e){e?this.initTime(e):this.resetTime()}registerOnTouched(e){}registerOnChange(e){this.onChange=e}setDisabledState(e){this.disabled=e}changeHour(e){this.timepickerService.hour=this.hoursList.find(t=>t.time===e),this.changeTime()}changeMinute(e){this.timepickerService.minute=this.minutesList.find(t=>t.time===e),this.changeTime()}changePeriod(e){this.timepickerService.period=e,this.changeTime()}onTimeSet(e){this.updateTime(e),this.emitLocalTimeChange(e)}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}changeTime(){const e=this.timepickerService.getFullTime(this.format);this.timepickerTime=e,this.emitLocalTimeChange(e)}resetTime(){this.timepickerService.hour={angle:0,time:null},this.timepickerService.minute={angle:0,time:null}}emitLocalTimeChange(e){const t=Er.toLocaleTimeString(e,{format:this.format,locale:this.locale});this.onChange(t),this.timeChanged.emit(t)}changeDefaultTimeValue(e){return!this.isDefaultTime&&this.isFirstTimeChange?Object.assign({},e,{time:null}):e}updateAvailableHours(){this.hoursList=Qs.disableHours(this.hoursList,{min:this.min,max:this.max,format:this.format,period:this.period})}updateAvailableMinutes(){this.minutesList=Qs.disableMinutes(this.minutesList,this.selectedHour,{min:this.min,max:this.max,format:this.format,period:this.period})}updateAvailableTime(){this.updateAvailableHours(),this.selectedHour&&this.updateAvailableMinutes()}updateTime(e){if(e){const t=Er.formatTime(e,{locale:this.locale,format:this.format});this.timepickerService.setDefaultTimeIfAvailable(t,this.min,this.max,this.format),this.timepickerTime=t}}initTime(e){if(!Er.isTimeAvailable(e,this.min,this.max,"minutes",null,this.format)){if(this.min)return void this.updateTime(Er.fromDateTimeToString(this.min,this.format));if(this.max)return void this.updateTime(Er.fromDateTimeToString(this.max,this.format))}this.updateTime(e)}isPeriodDisabled(e){return Qs.disableHours(Qs.getHours(12),{min:this.min,max:this.max,format:12,period:e===ks.AM?ks.PM:ks.AM}).every(t=>t.disabled)}};Rs.\u0275fac=function(e){return new(e||Rs)(a.Y36(yl),a.Y36(go))},Rs.\u0275cmp=a.Xpm({type:Rs,selectors:[["ngx-timepicker-field"]],inputs:{buttonAlign:"buttonAlign",format:"format",min:"min",max:"max",defaultTime:"defaultTime",disabled:"disabled",toggleIcon:"toggleIcon",clockTheme:"clockTheme",controlOnly:"controlOnly",cancelBtnTmpl:"cancelBtnTmpl",confirmBtnTmpl:"confirmBtnTmpl"},outputs:{timeChanged:"timeChanged"},features:[a._Bn([yl,{provide:uc,useExisting:CN,multi:!0}])],decls:13,vars:32,consts:[[1,"ngx-timepicker",3,"ngClass"],[1,"ngx-timepicker__control--first",3,"placeholder","time","min","max","timeUnit","disabled","timeList","preventTyping","timeChanged"],[1,"ngx-timepicker__time-colon","ngx-timepicker__control--second"],[1,"ngx-timepicker__control--third",3,"placeholder","time","min","max","timeUnit","disabled","timeList","preventTyping","timeChanged"],["class","ngx-timepicker__control--forth",3,"selectedPeriod","disabled","periodSelected",4,"ngIf"],["class","ngx-timepicker__toggle",3,"ngClass","for","disabled",4,"ngIf"],[3,"min","max","theme","defaultTime","format","cancelBtnTmpl","confirmBtnTmpl","timeSet"],["timepicker",""],["defaultIcon",""],[1,"ngx-timepicker__control--forth",3,"selectedPeriod","disabled","periodSelected"],[1,"ngx-timepicker__toggle",3,"ngClass","for","disabled"],["ngxMaterialTimepickerToggleIcon",""],[4,"ngTemplateOutlet"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","width","24px","height","24px"],["d","M 12 2 C 6.4889971 2 2 6.4889971 2 12 C 2 17.511003                   6.4889971 22 12 22 C 17.511003 22 22 17.511003 22 12 C 22 6.4889971 17.511003 2 12 2 z M 12 4 C 16.430123 4 20 7.5698774 20 12 C 20 16.430123 16.430123 20 12 20 C 7.5698774 20 4 16.430123 4 12 C 4 7.5698774 7.5698774 4 12 4 z M 11 6 L 11 12.414062 L 15.292969 16.707031 L 16.707031 15.292969 L 13 11.585938 L 13 6 L 11 6 z"]],template:function(e,t){if(1&e&&(a.TgZ(0,"div",0)(1,"ngx-timepicker-time-control",1),a.NdJ("timeChanged",function(r){return t.changeHour(r)}),a.ALo(2,"async"),a.qZA(),a.TgZ(3,"span",2),a._uU(4,":"),a.qZA(),a.TgZ(5,"ngx-timepicker-time-control",3),a.NdJ("timeChanged",function(r){return t.changeMinute(r)}),a.ALo(6,"async"),a.qZA(),a.YNc(7,b9,1,2,"ngx-timepicker-period-selector",4),a.YNc(8,E9,3,6,"ngx-material-timepicker-toggle",5),a.qZA(),a.TgZ(9,"ngx-material-timepicker",6,7),a.NdJ("timeSet",function(r){return t.onTimeSet(r)}),a.qZA(),a.YNc(11,T9,2,0,"ng-template",null,8,a.W1O)),2&e){let i,r;a.Q6J("ngClass",a.VKq(30,D9,t.disabled)),a.xp6(1),a.Q6J("placeholder","HH")("time",null==(i=a.lcZ(2,26,t.hour$))?null:i.time)("min",t.minHour)("max",t.maxHour)("timeUnit",t.timeUnit.HOUR)("disabled",t.disabled)("timeList",t.hoursList)("preventTyping",t.isTimeRangeSet),a.xp6(4),a.Q6J("placeholder","MM")("time",null==(r=a.lcZ(6,28,t.minute$))?null:r.time)("min",0)("max",59)("timeUnit",t.timeUnit.MINUTE)("disabled",t.disabled)("timeList",t.minutesList)("preventTyping",t.isTimeRangeSet),a.xp6(2),a.Q6J("ngIf",24!==t.format),a.xp6(1),a.Q6J("ngIf",!t.controlOnly),a.xp6(1),a.Q6J("min",t.min)("max",t.max)("theme",t.clockTheme)("defaultTime",t.timepickerTime)("format",t.format)("cancelBtnTmpl",t.cancelBtnTmpl)("confirmBtnTmpl",t.confirmBtnTmpl)}},directives:function(){return[Mi,eQ,Gn,nQ,B9,vN,vo,zH]},pipes:function(){return[pu]},styles:[".ngx-timepicker[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;border-bottom:1px solid rgba(0,0,0,.12)}.ngx-timepicker--disabled[_ngcontent-%COMP%]{background:rgba(0,0,0,.07);pointer-events:none}.ngx-timepicker__time-colon[_ngcontent-%COMP%]{margin-left:10px}.ngx-timepicker__control--first[_ngcontent-%COMP%]{order:1}.ngx-timepicker__control--second[_ngcontent-%COMP%]{order:2}.ngx-timepicker__control--third[_ngcontent-%COMP%]{order:3}.ngx-timepicker__control--forth[_ngcontent-%COMP%], .ngx-timepicker__toggle[_ngcontent-%COMP%]{order:4}.ngx-timepicker__toggle--left[_ngcontent-%COMP%]{order:0}"],changeDetection:0}),Rs.ctorParameters=()=>[{type:yl},{type:String,decorators:[{type:a.tBr,args:[go]}]}],ke([(0,a.IIB)()],Rs.prototype,"disabled",void 0),ke([(0,a.IIB)()],Rs.prototype,"toggleIcon",void 0),ke([(0,a.IIB)()],Rs.prototype,"buttonAlign",void 0),ke([(0,a.IIB)()],Rs.prototype,"clockTheme",void 0),ke([(0,a.IIB)()],Rs.prototype,"controlOnly",void 0),ke([(0,a.IIB)()],Rs.prototype,"cancelBtnTmpl",void 0),ke([(0,a.IIB)()],Rs.prototype,"confirmBtnTmpl",void 0),ke([(0,a.IIB)()],Rs.prototype,"format",null),ke([(0,a.IIB)()],Rs.prototype,"min",null),ke([(0,a.IIB)()],Rs.prototype,"max",null),ke([(0,a.IIB)()],Rs.prototype,"defaultTime",null),ke([(0,a.r_U)()],Rs.prototype,"timeChanged",void 0),Rs=CN=ke([cu(1,(0,a.tBr)(go))],Rs);let eQ=(()=>{let n=class{constructor(t){this.timeParser=t,this.timeChanged=new a.vpe}ngOnChanges(t){t.timeList&&null!=this.time&&this.isSelectedTimeDisabled(this.time)&&this.setAvailableTime()}changeTime(t){t.stopPropagation();const i=String.fromCharCode(t.keyCode),r=function tQ(n,e){if(/\d/.test(e))return+(n+e)}(String(this.time),i);this.changeTimeIfValid(r)}onKeydown(t){switch(t.stopPropagation(),qH(t)||t.preventDefault(),t.key){case"ArrowUp":this.increase();break;case"ArrowDown":this.decrease()}this.preventTyping&&"Tab"!==t.key&&t.preventDefault()}increase(){if(!this.disabled){let t=+this.time+1;t>this.max&&(t=this.min),this.isSelectedTimeDisabled(t)&&(t=this.getAvailableTime(t,this.getNextAvailableTime.bind(this))),t!==this.time&&this.timeChanged.emit(t)}}decrease(){if(!this.disabled){let t=+this.time-1;t<this.min&&(t=this.max),this.isSelectedTimeDisabled(t)&&(t=this.getAvailableTime(t,this.getPrevAvailableTime.bind(this))),t!==this.time&&this.timeChanged.emit(t)}}onFocus(){this.isFocused=!0,this.previousTime=this.time}onBlur(){this.isFocused=!1,this.previousTime!==this.time&&this.changeTimeIfValid(+this.time)}onModelChange(t){this.time=+this.timeParser.transform(t,this.timeUnit)}changeTimeIfValid(t){if(!isNaN(t)){if(this.time=t,this.time>this.max){const i=String(t);this.time=+i[i.length-1]}this.time<this.min&&(this.time=this.min),this.timeChanged.emit(this.time)}}isSelectedTimeDisabled(t){return this.timeList.find(i=>i.time===t).disabled}getNextAvailableTime(t){const i=this.timeList,r=i.length;for(let s=t+1;s<r;s++){const c=i[s];if(!c.disabled)return c.time}}getPrevAvailableTime(t){for(let i=t;i>=0;i--){const r=this.timeList[i];if(!r.disabled)return r.time}}getAvailableTime(t,i){const s=i(this.timeList.findIndex(c=>c.time===t));return null!=s?s:this.time}setAvailableTime(){this.time=this.timeList.find(t=>!t.disabled).time,this.timeChanged.emit(this.time)}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(Iv))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngx-timepicker-time-control"]],inputs:{time:"time",min:"min",max:"max",placeholder:"placeholder",timeUnit:"timeUnit",disabled:"disabled",timeList:"timeList",preventTyping:"preventTyping"},outputs:{timeChanged:"timeChanged"},features:[a._Bn([Iv]),a.TTD],decls:9,vars:13,consts:[[1,"ngx-timepicker-control",3,"ngClass"],["maxlength","2",1,"ngx-timepicker-control__input",3,"ngModel","placeholder","disabled","ngModelChange","keydown","keypress","focus","blur"],[1,"ngx-timepicker-control__arrows"],["role","button",1,"ngx-timepicker-control__arrow",3,"click"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"input",1),a.NdJ("ngModelChange",function(s){return i.onModelChange(s)})("keydown",function(s){return i.onKeydown(s)})("keypress",function(s){return i.changeTime(s)})("focus",function(){return i.onFocus()})("blur",function(){return i.onBlur()}),a.ALo(2,"timeLocalizer"),a.ALo(3,"timeParser"),a.qZA(),a.TgZ(4,"div",2)(5,"span",3),a.NdJ("click",function(){return i.increase()}),a._uU(6," \u25b2 "),a.qZA(),a.TgZ(7,"span",3),a.NdJ("click",function(){return i.decrease()}),a._uU(8," \u25bc "),a.qZA()()()),2&t&&(a.Q6J("ngClass",a.VKq(11,I9,i.isFocused)),a.xp6(1),a.Q6J("ngModel",a.Dn7(2,4,a.xi3(3,8,i.time,i.timeUnit),i.timeUnit,!0))("placeholder",i.placeholder)("disabled",i.disabled))},directives:function(){return[Mi,up,N1,bv,nA]},pipes:function(){return[EN,Iv]},styles:[".ngx-timepicker-control[_ngcontent-%COMP%]{position:relative;display:flex;width:60px;height:30px;padding:0 5px;box-sizing:border-box}.ngx-timepicker-control--active[_ngcontent-%COMP%]:after{content:'';position:absolute;bottom:-2px;left:0;width:100%;height:1px;background-color:#00bfff}.ngx-timepicker-control__input[_ngcontent-%COMP%]{width:100%;height:100%;padding:0 5px 0 0;border:0;font-size:1rem;color:inherit;outline:0;text-align:center}.ngx-timepicker-control__input[_ngcontent-%COMP%]:disabled{background-color:transparent}.ngx-timepicker-control__arrows[_ngcontent-%COMP%]{position:absolute;right:2px;top:0;display:flex;flex-direction:column}.ngx-timepicker-control__arrow[_ngcontent-%COMP%]{font-size:11px;color:rgba(0,0,0,.4);cursor:pointer;transition:color .2s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ngx-timepicker-control__arrow[_ngcontent-%COMP%]:hover{color:rgba(0,0,0,.9)}"],changeDetection:0}),ke([(0,a.IIB)()],n.prototype,"time",void 0),ke([(0,a.IIB)()],n.prototype,"min",void 0),ke([(0,a.IIB)()],n.prototype,"max",void 0),ke([(0,a.IIB)()],n.prototype,"placeholder",void 0),ke([(0,a.IIB)()],n.prototype,"timeUnit",void 0),ke([(0,a.IIB)()],n.prototype,"disabled",void 0),ke([(0,a.IIB)()],n.prototype,"timeList",void 0),ke([(0,a.IIB)()],n.prototype,"preventTyping",void 0),ke([(0,a.r_U)()],n.prototype,"timeChanged",void 0),n})(),nQ=(()=>{let n=class{constructor(t){this.locale=t,this.periodSelected=new a.vpe,this.period=ks,this.meridiems=wa.kI.meridiems({locale:this.locale})}set selectedPeriod(t){t&&(this.localizedPeriod=this.meridiems[[ks.AM,ks.PM].indexOf(t)])}open(){this.disabled||(this.isOpened=!0)}select(t){this.periodSelected.next(t),this.isOpened=!1}backdropClick(){this.isOpened=!1}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(go))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngx-timepicker-period-selector"]],inputs:{selectedPeriod:"selectedPeriod",isOpened:"isOpened",disabled:"disabled"},outputs:{periodSelected:"periodSelected"},decls:9,vars:6,consts:[[1,"period"],[1,"period-control"],["type","button",1,"period-control__button","period__btn--default",3,"ngClass","click"],[1,"period-control__arrow"],["class","period-selector",3,"timepickerAutofocus",4,"ngIf"],["class","overlay",3,"click",4,"ngIf"],[1,"period-selector",3,"timepickerAutofocus"],["type","button",1,"period-selector__button","period__btn--default",3,"ngClass","click"],[1,"overlay",3,"click"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"button",2),a.NdJ("click",function(){return i.open()}),a.TgZ(3,"span"),a._uU(4),a.qZA(),a.TgZ(5,"span",3),a._uU(6,"\u25bc"),a.qZA()()(),a.YNc(7,S9,7,10,"ul",4),a.qZA(),a.YNc(8,A9,1,0,"div",5)),2&t&&(a.xp6(2),a.Q6J("ngClass",a.VKq(4,x9,i.disabled)),a.xp6(2),a.Oqu(i.localizedPeriod),a.xp6(3),a.Q6J("ngIf",i.isOpened),a.xp6(1),a.Q6J("ngIf",i.isOpened))},directives:[Mi,Gn,YH],styles:[".period[_ngcontent-%COMP%]{position:relative}.period__btn--default[_ngcontent-%COMP%]{padding:0;border:none;background-color:transparent;cursor:pointer;text-align:left;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;outline:0}.period-control[_ngcontent-%COMP%]{position:relative}.period-control__button[_ngcontent-%COMP%]{position:relative;width:60px;font-size:1rem;color:inherit;text-align:center}.period-control__button[_ngcontent-%COMP%]:not(.period-control__button--disabled):focus:after{content:'';position:absolute;bottom:-8px;left:0;width:100%;height:1px;background-color:#00bfff}.period-control__arrow[_ngcontent-%COMP%]{margin-left:10px;font-size:12px;color:rgba(0,0,0,.4)}.period-selector[_ngcontent-%COMP%]{position:absolute;top:calc(50% - 50px);right:calc(-50% + -50px);max-width:135px;width:150px;padding:6px 0;margin:0;list-style:none;background-color:#f5f5f5;box-shadow:0 1px 3px 0 rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 2px 1px -1px rgba(0,0,0,.12);z-index:201}.period-selector__button[_ngcontent-%COMP%]{width:100%;height:48px;padding:0 16px;line-height:48px}.period-selector__button--active[_ngcontent-%COMP%]{color:#00bfff}.period-selector__button[_ngcontent-%COMP%]:focus{background-color:#eee}.overlay[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%;top:0;left:0;background-color:transparent;z-index:200}"],data:{animation:[DC("scaleInOut",[op(":enter",[xs({transform:"scale(0)",opacity:0}),rd(200,xs({transform:"scale(1)",opacity:1}))]),op(":leave",[rd(200,xs({transform:"scale(0)",opacity:0}))])])]},changeDetection:0}),ke([(0,a.IIB)()],n.prototype,"isOpened",void 0),ke([(0,a.IIB)()],n.prototype,"disabled",void 0),ke([(0,a.IIB)()],n.prototype,"selectedPeriod",null),ke([(0,a.r_U)()],n.prototype,"periodSelected",void 0),n=ke([cu(0,(0,a.tBr)(go))],n),n})(),EN=(()=>{let n=class{constructor(t){this.locale=t}transform(t,i,r=!1){if(null==t||""===t)return"";switch(i){case Ms.HOUR:return this.formatTime("hour",t,0===t||r?"HH":"H");case Ms.MINUTE:return this.formatTime("minute",t,"mm");default:throw new Error(`There is no Time Unit with type ${i}`)}}formatTime(t,i,r){try{return wa.ou.fromObject({[t]:+i}).setLocale(this.locale).toFormat(r)}catch(s){throw new Error(`Cannot format provided time - ${i} to locale - ${this.locale}`)}}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(go,16))},n.\u0275pipe=a.Yjl({name:"timeLocalizer",type:n,pure:!0}),n=ke([cu(0,(0,a.tBr)(go))],n),n})(),iQ=(()=>{let n=class{transform(t,i,r){return null!=t&&!r&&t===i}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=a.Yjl({name:"activeHour",type:n,pure:!0}),n})(),rQ=(()=>{let n=class{transform(t,i,r,s){return null!=t&&!s&&i===t&&t%(r||5)==0}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=a.Yjl({name:"activeMinute",type:n,pure:!0}),n})(),sQ=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngx-material-timepicker-content"]],inputs:{appendToInput:"appendToInput",inputElement:"inputElement"},ngContentSelectors:GH,decls:5,vars:2,consts:[[3,"ngxAppendToInput",4,"ngIf","ngIfElse"],["timepickerModal",""],["timepickerOutlet",""],[3,"ngxAppendToInput"],[4,"ngTemplateOutlet"]],template:function(t,i){if(1&t&&(a.F$t(),a.YNc(0,k9,2,2,"div",0),a.YNc(1,O9,1,1,"ng-template",null,1,a.W1O),a.YNc(3,N9,1,0,"ng-template",null,2,a.W1O)),2&t){const r=a.MAs(2);a.Q6J("ngIf",i.appendToInput)("ngIfElse",r)}},directives:function(){return[Gn,oQ,vo]},encapsulation:2}),ke([(0,a.IIB)()],n.prototype,"appendToInput",void 0),ke([(0,a.IIB)()],n.prototype,"inputElement",void 0),n})(),oQ=(()=>{let n=class{constructor(t,i){this.renderer=i,this.element=t.nativeElement}get inputCords(){return this.inputElement.getBoundingClientRect()}get direction(){const t=this.element.offsetHeight,{bottom:i,top:r}=this._inputCords,s=(window&&window.innerHeight)-i<t;return s&&r>t?"top":s&&r<t?"center":"bottom"}ngAfterViewInit(){this._inputCords=this.inputCords,this._direction=this.direction,this.append()}changePosition(){const{bottom:t,top:i}=this.inputCords,r=this.defineElementYByDirection(i,t);this.setStyle("top",`${r}px`)}append(){const{left:t,bottom:i,top:r}=this._inputCords,s=this.defineElementYByDirection(r,i);this.setStyle("position","fixed"),this.setStyle("left",`${t}px`),this.setStyle("top",`${s}px`)}setStyle(t,i){this.renderer.setStyle(this.element,t,i)}defineElementYByDirection(t,i){return"top"===this._direction?t-this.element.offsetHeight:"center"===this._direction?t-this.element.offsetHeight/2:i}};return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.Qsj))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngxAppendToInput",""]],hostBindings:function(t,i){1&t&&a.NdJ("scroll",function(){return i.changePosition()},!1,a.Jf7)},inputs:{inputElement:["ngxAppendToInput","inputElement"]}}),ke([(0,a.IIB)("ngxAppendToInput")],n.prototype,"inputElement",void 0),ke([(0,a.L6J)("window:scroll")],n.prototype,"changePosition",null),n})();var KH;let Sv=KH=class{static setLocale(e){return{ngModule:KH,providers:[{provide:go,useValue:e}]}}};function aQ(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Field is required "),a.qZA())}function lQ(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Field is required "),a.qZA())}function cQ(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Field is required "),a.qZA())}function uQ(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Field is required "),a.qZA())}function dQ(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Field is required "),a.qZA())}function hQ(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Field is required "),a.qZA())}function fQ(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Field is required "),a.qZA())}function pQ(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Field is required "),a.qZA())}function mQ(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Field is required "),a.qZA())}function gQ(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Field is required "),a.qZA())}function _Q(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"form",2),a.NdJ("ngSubmit",function(){return a.CHM(t),a.oxw().submitTiming()}),a.TgZ(1,"h2"),a._uU(2,"Timing"),a.qZA(),a.TgZ(3,"div",3)(4,"div",4)(5,"mat-form-field",5)(6,"mat-label"),a._uU(7,"First A"),a.qZA(),a.TgZ(8,"input",6),a.NdJ("ngModelChange",function(r){return a.CHM(t),a.oxw().timing.first_a=r}),a.qZA(),a._UZ(9,"ngx-material-timepicker",null,7),a.YNc(11,aQ,2,0,"mat-error",8),a.qZA()(),a.TgZ(12,"div",4)(13,"mat-form-field",5)(14,"mat-label"),a._uU(15,"First J"),a.qZA(),a.TgZ(16,"input",9),a.NdJ("ngModelChange",function(r){return a.CHM(t),a.oxw().timing.first_j=r}),a.qZA(),a._UZ(17,"ngx-material-timepicker",null,10),a.YNc(19,lQ,2,0,"mat-error",8),a.qZA()(),a.TgZ(20,"div",4)(21,"mat-form-field",5)(22,"mat-label"),a._uU(23,"Second A"),a.qZA(),a.TgZ(24,"input",11),a.NdJ("ngModelChange",function(r){return a.CHM(t),a.oxw().timing.second_a=r}),a.qZA(),a._UZ(25,"ngx-material-timepicker",null,12),a.YNc(27,cQ,2,0,"mat-error",8),a.qZA()(),a.TgZ(28,"div",4)(29,"mat-form-field",5)(30,"mat-label"),a._uU(31,"Second J"),a.qZA(),a.TgZ(32,"input",13),a.NdJ("ngModelChange",function(r){return a.CHM(t),a.oxw().timing.second_j=r}),a.qZA(),a._UZ(33,"ngx-material-timepicker",null,14),a.YNc(35,uQ,2,0,"mat-error",8),a.qZA()(),a.TgZ(36,"div",4)(37,"mat-form-field",5)(38,"mat-label"),a._uU(39,"Third A"),a.qZA(),a.TgZ(40,"input",15),a.NdJ("ngModelChange",function(r){return a.CHM(t),a.oxw().timing.third_a=r}),a.qZA(),a._UZ(41,"ngx-material-timepicker",null,16),a.YNc(43,dQ,2,0,"mat-error",8),a.qZA()(),a.TgZ(44,"div",4)(45,"mat-form-field",5)(46,"mat-label"),a._uU(47,"Third J"),a.qZA(),a.TgZ(48,"input",17),a.NdJ("ngModelChange",function(r){return a.CHM(t),a.oxw().timing.third_j=r}),a.qZA(),a._UZ(49,"ngx-material-timepicker",null,18),a.YNc(51,hQ,2,0,"mat-error",8),a.qZA()(),a.TgZ(52,"div",4)(53,"mat-form-field",5)(54,"mat-label"),a._uU(55,"Fourth A"),a.qZA(),a.TgZ(56,"input",19),a.NdJ("ngModelChange",function(r){return a.CHM(t),a.oxw().timing.fourth_a=r}),a.qZA(),a._UZ(57,"ngx-material-timepicker",null,20),a.YNc(59,fQ,2,0,"mat-error",8),a.qZA()(),a.TgZ(60,"div",4)(61,"mat-form-field",5)(62,"mat-label"),a._uU(63,"Fourth J"),a.qZA(),a.TgZ(64,"input",21),a.NdJ("ngModelChange",function(r){return a.CHM(t),a.oxw().timing.fourth_j=r}),a.qZA(),a._UZ(65,"ngx-material-timepicker",null,22),a.YNc(67,pQ,2,0,"mat-error",8),a.qZA()(),a.TgZ(68,"div",4)(69,"mat-form-field",5)(70,"mat-label"),a._uU(71,"Fifth A"),a.qZA(),a.TgZ(72,"input",23),a.NdJ("ngModelChange",function(r){return a.CHM(t),a.oxw().timing.fifth_a=r}),a.qZA(),a._UZ(73,"ngx-material-timepicker",null,24),a.YNc(75,mQ,2,0,"mat-error",8),a.qZA()(),a.TgZ(76,"div",4)(77,"mat-form-field",5)(78,"mat-label"),a._uU(79,"Fifth J"),a.qZA(),a.TgZ(80,"input",25),a.NdJ("ngModelChange",function(r){return a.CHM(t),a.oxw().timing.fifth_j=r}),a.qZA(),a._UZ(81,"ngx-material-timepicker",null,26),a.YNc(83,gQ,2,0,"mat-error",8),a.qZA()()(),a.TgZ(84,"button",27),a._uU(85,"Update Timing"),a.qZA()()}if(2&n){const t=a.MAs(10),i=a.MAs(18),r=a.MAs(26),s=a.MAs(34),c=a.MAs(42),h=a.MAs(50),p=a.MAs(58),_=a.MAs(66),E=a.MAs(74),S=a.MAs(82),N=a.oxw();a.Q6J("formGroup",N.updateTimingForm),a.xp6(8),a.Q6J("ngxTimepicker",t)("ngModel",N.timing.first_a),a.xp6(3),a.Q6J("ngIf",N.updateTimingForm.get("first_a").invalid),a.xp6(5),a.Q6J("ngxTimepicker",i)("ngModel",N.timing.first_j),a.xp6(3),a.Q6J("ngIf",N.updateTimingForm.get("first_j").invalid),a.xp6(5),a.Q6J("ngxTimepicker",r)("ngModel",N.timing.second_a),a.xp6(3),a.Q6J("ngIf",N.updateTimingForm.get("second_a").invalid),a.xp6(5),a.Q6J("ngxTimepicker",s)("ngModel",N.timing.second_j),a.xp6(3),a.Q6J("ngIf",N.updateTimingForm.get("second_j").invalid),a.xp6(5),a.Q6J("ngxTimepicker",c)("ngModel",N.timing.third_a),a.xp6(3),a.Q6J("ngIf",N.updateTimingForm.get("third_a").invalid),a.xp6(5),a.Q6J("ngxTimepicker",h)("ngModel",N.timing.third_j),a.xp6(3),a.Q6J("ngIf",N.updateTimingForm.get("third_j").invalid),a.xp6(5),a.Q6J("ngxTimepicker",p)("ngModel",N.timing.fourth_a),a.xp6(3),a.Q6J("ngIf",N.updateTimingForm.get("fourth_a").invalid),a.xp6(5),a.Q6J("ngxTimepicker",_)("ngModel",N.timing.fourth_j),a.xp6(3),a.Q6J("ngIf",N.updateTimingForm.get("fourth_j").invalid),a.xp6(5),a.Q6J("ngxTimepicker",E)("ngModel",N.timing.fifth_a),a.xp6(3),a.Q6J("ngIf",N.updateTimingForm.get("fifth_a").invalid),a.xp6(5),a.Q6J("ngxTimepicker",S)("ngModel",N.timing.fifth_j),a.xp6(3),a.Q6J("ngIf",N.updateTimingForm.get("fifth_j").invalid)}}Sv.\u0275fac=function(e){return new(e||Sv)},Sv.\u0275mod=a.oAB({type:Sv}),Sv.\u0275inj=a.cJS({imports:[[io,tY]]});let yQ=(()=>{class n{constructor(t,i){this.fb=t,this.userService=i,this.updateTimingForm=Hg}ngOnInit(){this.updateTimingForm=this.fb.group({first_a:["",po.required],first_j:["",po.required],second_a:["",po.required],second_j:["",po.required],third_a:["",po.required],third_j:["",po.required],fourth_a:["",po.required],fourth_j:["",po.required],fifth_a:["",po.required],fifth_j:["",po.required]}),this.getTiming()}getTiming(){this.userService.getTiming().subscribe(t=>{this.timing=t.map(i=>Object.assign({id:i.payload.doc.id},i.payload.doc.data())),this.timing=this.timing[0],console.log(this.timing)})}submitTiming(){this.updateTimingForm.value.id=this.timing.id,console.log(this.updateTimingForm.value),this.userService.updateTiming(this.updateTimingForm.value)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(P1),a.Y36(zg))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-update-timing"]],decls:2,vars:1,consts:[[1,"container"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-6"],["appearance","fill",1,"example-full-width"],["matInput","","formControlName","first_a",3,"ngxTimepicker","ngModel","ngModelChange"],["picker_first_a",""],[4,"ngIf"],["matInput","","formControlName","first_j",3,"ngxTimepicker","ngModel","ngModelChange"],["picker_first_j",""],["matInput","","formControlName","second_a",3,"ngxTimepicker","ngModel","ngModelChange"],["picker_second_a",""],["matInput","","formControlName","second_j",3,"ngxTimepicker","ngModel","ngModelChange"],["picker_second_j",""],["matInput","","formControlName","third_a",3,"ngxTimepicker","ngModel","ngModelChange"],["picker_third_a",""],["matInput","","formControlName","third_j",3,"ngxTimepicker","ngModel","ngModelChange"],["picker_third_j",""],["matInput","","formControlName","fourth_a",3,"ngxTimepicker","ngModel","ngModelChange"],["picker_fourth_a",""],["matInput","","formControlName","fourth_j",3,"ngxTimepicker","ngModel","ngModelChange"],["picker_fourth_j",""],["matInput","","formControlName","fifth_a",3,"ngxTimepicker","ngModel","ngModelChange"],["picker_fifth_a",""],["matInput","","formControlName","fifth_j",3,"ngxTimepicker","ngModel","ngModelChange"],["picker_fifth_j",""],["mat-raised-button","","color","primary"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0),a.YNc(1,_Q,86,31,"form",1),a.qZA()),2&t&&(a.xp6(1),a.Q6J("ngIf",i.timing))},directives:[Gn,iA,zS,jg,V1,PC,B1,up,bv,NC,Go,zH,F1,Vg],styles:[""]}),n})(),vQ=(()=>{class n{constructor(t,i,r){this.authService=t,this.router=i,this.userService=r}canActivate(t,i){return this.authService.isLoggedIn&&1!=this.userService.loggedInUser().isAdmin&&this.router.navigate(["user-notes"]),!0}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(vg),a.LFG(Ts),a.LFG(zg))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function bQ(n,e){1&n&&a._UZ(0,"th",11)}function wQ(n,e){if(1&n&&(a.TgZ(0,"td",12),a._UZ(1,"img",13),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.Q6J("src",t.photoURL,a.LSH)}}function CQ(n,e){1&n&&(a.TgZ(0,"th",11),a._uU(1,"Name"),a.qZA())}function EQ(n,e){if(1&n&&(a.TgZ(0,"td",12),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.hij(" ",t.displayName," ")}}function TQ(n,e){1&n&&(a.TgZ(0,"th",11),a._uU(1,"Email"),a.qZA())}function DQ(n,e){if(1&n&&(a.TgZ(0,"td",12),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.hij(" ",t.email," ")}}function IQ(n,e){1&n&&(a.TgZ(0,"th",11),a._uU(1,"Is Verified"),a.qZA())}function SQ(n,e){if(1&n&&(a.TgZ(0,"td",12),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.hij(" ",t.isVerified," ")}}function AQ(n,e){1&n&&a._UZ(0,"th",11)}function xQ(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"td",12)(1,"button",14),a.NdJ("click",function(){const s=a.CHM(t).$implicit;return a.oxw().activeDeactiveUser(s.id,1)}),a._uU(2,"Activate"),a.qZA(),a.TgZ(3,"button",15),a.NdJ("click",function(){const s=a.CHM(t).$implicit;return a.oxw().activeDeactiveUser(s.id,0)}),a._uU(4,"Deactivate"),a.qZA()()}}function MQ(n,e){1&n&&a._UZ(0,"tr",16)}function kQ(n,e){1&n&&a._UZ(0,"tr",17)}let RQ=(()=>{class n{constructor(t){this.userService=t,this.users=[],this.displayedColumns=["photoURL","displayName","email","isVerified","Action"]}ngOnInit(){this.getAllUsers()}getAllUsers(){this.userService.getUsers().subscribe(t=>{this.users=t.map(i=>Object.assign({id:i.payload.doc.id},i.payload.doc.data())),console.log(this.users,"this.users")})}activeDeactiveUser(t,i){this.userService.activeDeactiveUser(t,i)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(zg))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-users"]],decls:21,vars:3,consts:[[1,"container"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","photoURL"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","displayName"],["matColumnDef","email"],["matColumnDef","isVerified"],["matColumnDef","Action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"src"],["mat-raised-button","","color","primary",1,"me-3",3,"click"],["mat-raised-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"h1"),a._uU(2,"Users"),a.qZA(),a.TgZ(3,"table",1),a.ynx(4,2),a.YNc(5,bQ,1,0,"th",3),a.YNc(6,wQ,2,1,"td",4),a.BQk(),a.ynx(7,5),a.YNc(8,CQ,2,0,"th",3),a.YNc(9,EQ,2,1,"td",4),a.BQk(),a.ynx(10,6),a.YNc(11,TQ,2,0,"th",3),a.YNc(12,DQ,2,1,"td",4),a.BQk(),a.ynx(13,7),a.YNc(14,IQ,2,0,"th",3),a.YNc(15,SQ,2,1,"td",4),a.BQk(),a.ynx(16,8),a.YNc(17,AQ,1,0,"th",3),a.YNc(18,xQ,5,0,"td",4),a.BQk(),a.YNc(19,MQ,1,0,"tr",9),a.YNc(20,kQ,1,0,"tr",10),a.qZA()()),2&t&&(a.xp6(3),a.Q6J("dataSource",i.users),a.xp6(16),a.Q6J("matHeaderRowDef",i.displayedColumns),a.xp6(1),a.Q6J("matRowDefColumns",i.displayedColumns))},directives:[FH,hN,dN,fN,uN,pN,Vg,LH,BH,VH,UH],styles:["table[_ngcontent-%COMP%]{width:100%}"]}),n})(),OQ=(()=>{class n{constructor(t,i){this.dialogRef=t,this.data=i}ngOnInit(){}closeDialog(t){this.dialogRef.close(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(K1),a.Y36(Q1))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-confirm-dialog"]],decls:5,vars:1,consts:[[3,"innerHTML"],["mat-raised-button","","color","primary",1,"me-2",3,"click"],["mat-raised-button","","color","accent",3,"click"]],template:function(t,i){1&t&&(a._UZ(0,"div",0),a.TgZ(1,"button",1),a.NdJ("click",function(){return i.closeDialog("yes")}),a._uU(2,"Delete"),a.qZA(),a.TgZ(3,"button",2),a.NdJ("click",function(){return i.closeDialog("no")}),a._uU(4,"Cancel"),a.qZA()),2&t&&a.Q6J("innerHTML",i.data.html,a.oJD)},directives:[Vg],styles:[""]}),n})();function NQ(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Title field is required "),a.qZA())}function PQ(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Note must be at least 50 characters long. "),a.qZA())}function FQ(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"form",1),a.NdJ("ngSubmit",function(){return a.CHM(t),a.oxw().updateNote()}),a.TgZ(1,"mat-form-field",2)(2,"mat-label"),a._uU(3,"Title"),a.qZA(),a.TgZ(4,"input",3),a.NdJ("ngModelChange",function(r){return a.CHM(t),a.oxw().note.title=r}),a.qZA(),a.YNc(5,NQ,2,0,"mat-error",4),a.qZA(),a.TgZ(6,"mat-form-field",2)(7,"mat-label"),a._uU(8,"Note"),a.qZA(),a.TgZ(9,"textarea",5),a.NdJ("ngModelChange",function(r){return a.CHM(t),a.oxw().note.note=r}),a._uU(10),a.qZA(),a.YNc(11,PQ,2,0,"mat-error",4),a.qZA(),a.TgZ(12,"button",6),a._uU(13,"Update Note"),a.qZA(),a.TgZ(14,"button",7),a.NdJ("click",function(){return a.CHM(t),a.oxw().closeDialog()}),a._uU(15,"Close"),a.qZA()()}if(2&n){const t=a.oxw();a.Q6J("formGroup",t.editNoteForm),a.xp6(4),a.Q6J("ngModel",t.note.title),a.xp6(1),a.Q6J("ngIf",t.editNoteForm.get("title").invalid),a.xp6(4),a.Q6J("ngModel",t.note.note),a.xp6(1),a.Oqu(t.note.note),a.xp6(1),a.Q6J("ngIf",t.editNoteForm.get("note").invalid&&(t.editNoteForm.get("note").dirty||t.editNoteForm.get("note").touched)),a.xp6(1),a.Q6J("disabled",t.editNoteForm.invalid)}}let LQ=(()=>{class n{constructor(t,i,r,s){this.dialogRef=t,this.data=i,this.fb=r,this.userService=s,this.editNoteForm=Hg}ngOnInit(){this.userId=this.userService.userId(),this.editNoteForm=this.fb.group({title:["",[po.required]],note:["",[po.required,po.minLength(20)]],time:Date()}),this.getNote()}closeDialog(){this.dialogRef.close()}updateNote(){"VALID"===this.editNoteForm.status&&(this.editNoteForm.value.id=this.data.id,this.userService.updateNote(this.editNoteForm.value),this.dialogRef.close(),console.log(this.editNoteForm,"this.editNoteForm"))}getNote(){console.log(this.data.id,"this.data.id"),this.userService.getaNote(this.data.id).subscribe(t=>{this.note=t,console.log(t,"data")})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(K1),a.Y36(Q1),a.Y36(P1),a.Y36(zg))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-edit-note"]],decls:3,vars:1,consts:[["class","example-form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"example-form",3,"formGroup","ngSubmit"],["appearance","fill",1,"example-full-width"],["matInput","","placeholder","","formControlName","title",3,"ngModel","ngModelChange"],[4,"ngIf"],["matInput","","formControlName","note",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary",1,"me-2",3,"disabled"],["mat-raised-button","","color","accent","type","button",3,"click"]],template:function(t,i){1&t&&(a.TgZ(0,"h1"),a._uU(1,"Edit Note"),a.qZA(),a.YNc(2,FQ,16,7,"form",0)),2&t&&(a.xp6(2),a.Q6J("ngIf",i.note))},directives:[Gn,iA,zS,jg,V1,PC,B1,up,bv,NC,F1,Vg],styles:[""]}),n})();function VQ(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Title field is required "),a.qZA())}function BQ(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Note must be at least 50 characters long. "),a.qZA())}let UQ=(()=>{class n{constructor(t,i){this.fb=t,this.userService=i,this.addNoteForm=Hg,this.notes=[]}ngOnInit(){this.userId=this.userService.userId(),this.addNoteForm=this.fb.group({title:["",[po.required]],note:["",[po.required,po.minLength(20)]],time:Date()})}addNote(){"VALID"===this.addNoteForm.status&&(this.addNoteForm.value.uid=this.userId,this.userService.createNote(this.addNoteForm.value),this.addNoteForm.reset(),console.log(this.addNoteForm,"this.addNoteForm"))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(P1),a.Y36(zg))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-add-note"]],decls:15,vars:4,consts:[[1,"example-form",3,"formGroup","ngSubmit"],["appearance","fill",1,"example-full-width"],["matInput","","placeholder","","formControlName","title"],[4,"ngIf"],["matInput","","formControlName","note"],["mat-raised-button","","color","primary",3,"disabled"]],template:function(t,i){1&t&&(a.TgZ(0,"h1"),a._uU(1,"Add Note"),a.qZA(),a.TgZ(2,"form",0),a.NdJ("ngSubmit",function(){return i.addNote()}),a.TgZ(3,"mat-form-field",1)(4,"mat-label"),a._uU(5,"Title"),a.qZA(),a._UZ(6,"input",2),a.YNc(7,VQ,2,0,"mat-error",3),a.qZA(),a.TgZ(8,"mat-form-field",1)(9,"mat-label"),a._uU(10,"Note"),a.qZA(),a._UZ(11,"textarea",4),a.YNc(12,BQ,2,0,"mat-error",3),a.qZA(),a.TgZ(13,"button",5),a._uU(14,"Add Note"),a.qZA()()),2&t&&(a.xp6(2),a.Q6J("formGroup",i.addNoteForm),a.xp6(5),a.Q6J("ngIf",i.addNoteForm.get("title").invalid),a.xp6(5),a.Q6J("ngIf",i.addNoteForm.get("note").invalid&&(i.addNoteForm.get("note").dirty||i.addNoteForm.get("note").touched)),a.xp6(1),a.Q6J("disabled",i.addNoteForm.invalid))},directives:[iA,zS,jg,V1,PC,B1,up,bv,NC,Gn,F1,Vg],styles:[""]}),n})();function HQ(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",6)(1,"mat-card")(2,"mat-card-title",7)(3,"span"),a._uU(4),a.qZA(),a.TgZ(5,"div")(6,"mat-icon",8),a.NdJ("click",function(){const s=a.CHM(t).$implicit;return a.oxw(2).editNoteDialog(s.id)}),a._uU(7,"edit "),a.qZA(),a.TgZ(8,"mat-icon",9),a.NdJ("click",function(){const s=a.CHM(t).$implicit;return a.oxw(2).deleteNote(s.id)}),a._uU(9,"delete "),a.qZA()()(),a.TgZ(10,"mat-card-content"),a._uU(11),a.qZA()()()}if(2&n){const t=e.$implicit;a.xp6(4),a.Oqu(t.title),a.xp6(7),a.hij(" ",t.note," ")}}function jQ(n,e){if(1&n&&(a.ynx(0),a.YNc(1,HQ,12,2,"div",5),a.BQk()),2&n){const t=a.oxw();a.xp6(1),a.Q6J("ngForOf",t.notes)}}function GQ(n,e){1&n&&a._UZ(0,"mat-spinner")}const $Q=[{path:"",redirectTo:"/sign-in",pathMatch:"full"},{path:"sign-in",component:(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}signIn(){this.authService.GoogleAuth()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(vg))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-sign-in"]],decls:4,vars:0,consts:[["mat-raised-button","","color","primary",3,"click"]],template:function(t,i){1&t&&(a.TgZ(0,"h1"),a._uU(1,"Welcome to App"),a.qZA(),a.TgZ(2,"button",0),a.NdJ("click",function(){return i.signIn()}),a._uU(3,"Sign-in With Google"),a.qZA())},directives:[Vg],styles:[""]}),n})(),canActivate:[gF]},{path:"home",component:G7},{path:"user-profile",component:(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(vg))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-user-profile"]],decls:2,vars:0,template:function(t,i){1&t&&(a.TgZ(0,"p"),a._uU(1,"user-profile works!"),a.qZA())},styles:[""]}),n})(),canActivate:[MI]},{path:"user-notes",component:(()=>{class n{constructor(t,i){this.userService=t,this.dialog=i,this.notes=[],this.spinner=!1}ngOnInit(){this.userId=this.userService.userId(),this.getNotes(),this.userService.getUsers().subscribe(t=>{console.log(t,"data users")})}editNoteDialog(t){this.dialog.open(LQ,{width:"500px",data:{id:t}}).afterClosed().subscribe(r=>{console.log("The dialog was closed"),console.log(r,"result")})}deleteNote(t){this.dialog.open(OQ,{width:"500px",data:{html:"<h4>Delete Note</h4>\n        <p>Are you sure you want to delete this note</p>\n      "}}).afterClosed().subscribe(r=>{console.log("The dialog was closed"),"yes"===r&&this.userService.deleteNote(t),console.log(r,"result")})}getNotes(){this.spinner=!0,this.userService.getNotes(this.userId).subscribe(t=>{this.spinner=!1,this.notes=t.map(i=>Object.assign({id:i.payload.doc.id},i.payload.doc.data())),console.log(this.notes,"data")})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(zg),a.Y36(AH))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-user-notes"]],decls:8,vars:2,consts:[[1,"container"],[1,"mt-5"],[1,"row"],[4,"ngIf","ngIfElse"],["showSpinner",""],["class","col-md-4 mb-3",4,"ngFor","ngForOf"],[1,"col-md-4","mb-3"],[1,"d-flex","justify-content-between"],["aria-hidden","false","aria-label","Example home icon",1,"text-primary",3,"click"],["aria-hidden","false","aria-label","Example home icon",1,"text-danger",3,"click"]],template:function(t,i){if(1&t&&(a.TgZ(0,"div",0),a._UZ(1,"app-add-note"),a.TgZ(2,"h2",1),a._uU(3,"My Notes"),a.qZA(),a.TgZ(4,"div",2),a.YNc(5,jQ,2,1,"ng-container",3),a.YNc(6,GQ,1,0,"ng-template",null,4,a.W1O),a.qZA()()),2&t){const r=a.MAs(7);a.xp6(5),a.Q6J("ngIf",!i.spinner)("ngIfElse",r)}},directives:[UQ,Gn,Si,PB,NB,uK,OB,wh],styles:[""]}),n})(),canActivate:[MI]},{path:"update-timing",component:yQ,canActivate:[MI]},{path:"users",component:RQ,canActivate:[vQ]}];let qQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[YE.forRoot($Q)],YE]}),n})(),zQ=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}logout(){this.authService.SignOut()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(vg))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-header"]],decls:2,vars:0,consts:[["mat-raised-button","","color","primary",3,"click"]],template:function(t,i){1&t&&(a.TgZ(0,"button",0),a.NdJ("click",function(){return i.logout()}),a._uU(1,"Logout"),a.qZA())},directives:[Vg],styles:[""]}),n})(),WQ=(()=>{class n{constructor(){this.title="ng-firebase"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,i){1&t&&a._UZ(0,"app-header")(1,"router-outlet")},directives:[zQ,Hp],styles:[""]}),n})(),ZQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n,bootstrap:[WQ]}),n.\u0275inj=a.cJS({providers:[vg,MI,gF],imports:[[ao,pi.hO.initializeApp(bV_firebase),Hh,tG,$6,tW,qQ,FZ,HU,Sv,t8,r8,a8,GY,dK,r7,h7,B7]]}),n})();(0,a.G48)(),mr().bootstrapModule(ZQ).catch(n=>console.error(n))},5867:(Ot,Ue,G)=>{G.d(Ue,{C6:()=>a.getApps,Mq:()=>a.getApp});var a=G(9681);(0,a.registerVersion)("firebase","9.6.11","app")},127:(Ot,Ue,G)=>{G.d(Ue,{Z:()=>a.Z});var a=G(3942);a.Z.registerVersion("firebase","9.6.11","app-compat")},5881:(Ot,Ue,G)=>{G.r(Ue);var a=G(5861),J=G(3942),U=G(573),ye=G(2090),fe=(G(9681),G(1877),G(4859));function Ee(){return window}function ne(){return(ne=(0,a.Z)(function*(q,K,te){var Ce;const{BuildInfo:et}=Ee();(0,U.ap)(K.sessionId,"AuthEvent did not contain a session ID");const lt=yield Ve(K.sessionId),Ut={};return(0,U.aq)()?Ut.ibi=et.packageName:(0,U.ar)()?Ut.apn=et.packageName:(0,U.as)(q,"operation-not-supported-in-this-environment"),et.displayName&&(Ut.appDisplayName=et.displayName),Ut.sessionId=lt,(0,U.at)(q,te,K.type,void 0,null!==(Ce=K.eventId)&&void 0!==Ce?Ce:void 0,Ut)})).apply(this,arguments)}function st(){return(st=(0,a.Z)(function*(q){const{BuildInfo:K}=Ee(),te={};(0,U.aq)()?te.iosBundleId=K.packageName:(0,U.ar)()?te.androidPackageName=K.packageName:(0,U.as)(q,"operation-not-supported-in-this-environment"),yield(0,U.au)(q,te)})).apply(this,arguments)}function Xe(){return(Xe=(0,a.Z)(function*(q,K,te){const{cordova:Ce}=Ee();let et=()=>{};try{yield new Promise((lt,Ut)=>{let Ct=null;function qt(){var En;lt();const Xi=null===(En=Ce.plugins.browsertab)||void 0===En?void 0:En.close;"function"==typeof Xi&&Xi(),"function"==typeof(null==te?void 0:te.close)&&te.close()}function di(){Ct||(Ct=window.setTimeout(()=>{Ut((0,U.av)(q,"redirect-cancelled-by-user"))},2e3))}function Vi(){"visible"===(null==document?void 0:document.visibilityState)&&di()}K.addPassiveListener(qt),document.addEventListener("resume",di,!1),(0,U.ar)()&&document.addEventListener("visibilitychange",Vi,!1),et=()=>{K.removePassiveListener(qt),document.removeEventListener("resume",di,!1),document.removeEventListener("visibilitychange",Vi,!1),Ct&&window.clearTimeout(Ct)}})}finally{et()}})).apply(this,arguments)}function Ve(q){return gt.apply(this,arguments)}function gt(){return(gt=(0,a.Z)(function*(q){const K=Qe(q),te=yield crypto.subtle.digest("SHA-256",K);return Array.from(new Uint8Array(te)).map(et=>et.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Qe(q){if((0,U.ap)(/[0-9a-zA-Z]+/.test(q),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(q);const K=new ArrayBuffer(q.length),te=new Uint8Array(K);for(let Ce=0;Ce<q.length;Ce++)te[Ce]=q.charCodeAt(Ce);return te}class ce extends U.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(K=>{this.resolveInialized=K})}addPassiveListener(K){this.passiveListeners.add(K)}removePassiveListener(K){this.passiveListeners.delete(K)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(K){return this.resolveInialized(),this.passiveListeners.forEach(te=>te(K)),super.onEvent(K)}initialized(){var K=this;return(0,a.Z)(function*(){yield K.initPromise})()}}function me(q){return ft.apply(this,arguments)}function ft(){return(ft=(0,a.Z)(function*(q){const K=yield Te()._get(Ae(q));return K&&(yield Te()._remove(Ae(q))),K})).apply(this,arguments)}function Ie(){const q=[],K="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let te=0;te<20;te++){const Ce=Math.floor(Math.random()*K.length);q.push(K.charAt(Ce))}return q.join("")}function Te(){return(0,U.ax)(U.b)}function Ae(q){return(0,U.ay)("authEvent",q.config.apiKey,q.name)}function Bt(q){if(!(null==q?void 0:q.includes("?")))return{};const[K,...te]=q.split("?");return(0,ye.zd)(te.join("?"))}function At(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,U.av)("no-auth-event")}}function Cn(){var q;return(null===(q=null==self?void 0:self.location)||void 0===q?void 0:q.protocol)||null}function ni(q=(0,ye.z$)()){return!("file:"!==Cn()&&"ionic:"!==Cn()||!q.toLowerCase().match(/iphone|ipad|ipod|android/))}function Xr(){try{const q=self.localStorage,K=U.aG();if(q)return q.setItem(K,"1"),q.removeItem(K),!function Lr(q=(0,ye.z$)()){return function Kt(){return(0,ye.w1)()&&11===(null==document?void 0:document.documentMode)}()||function vi(q=(0,ye.z$)()){return/Edge\/\d+/.test(q)}(q)}()||(0,ye.hl)()}catch(q){return qi()&&(0,ye.hl)()}return!1}function qi(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function ii(){return(function An(){return"http:"===Cn()||"https:"===Cn()}()||(0,ye.ru)()||ni())&&!function xi(){return(0,ye.b$)()||(0,ye.UG)()}()&&Xr()&&!qi()}function Sr(){return ni()&&"undefined"!=typeof document}function ur(){return(ur=(0,a.Z)(function*(){return!!Sr()&&new Promise(q=>{const K=setTimeout(()=>{q(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(K),q(!0)})})})).apply(this,arguments)}const Nn={LOCAL:"local",NONE:"none",SESSION:"session"},ri=U.aw,Di="persistence";function Zn(q){return jn.apply(this,arguments)}function jn(){return(jn=(0,a.Z)(function*(q){yield q._initializationPromise;const K=sn(),te=U.ay(Di,q.config.apiKey,q.name);K&&K.setItem(te,q._getPersistence())})).apply(this,arguments)}function sn(){var q;try{return(null===(q=function bi(){return"undefined"!=typeof window?window:null}())||void 0===q?void 0:q.sessionStorage)||null}catch(K){return null}}const It=U.aw;class vt{constructor(){this.browserResolver=U.ax(U.k),this.cordovaResolver=U.ax(class gi{constructor(){this._redirectPersistence=U.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=U.aA}_initialize(K){var te=this;return(0,a.Z)(function*(){const Ce=K._key();let et=te.eventManagers.get(Ce);return et||(et=new ce(K),te.eventManagers.set(Ce,et),te.attachCallbackListeners(K,et)),et})()}_openPopup(K){(0,U.as)(K,"operation-not-supported-in-this-environment")}_openRedirect(K,te,Ce,et){var lt=this;return(0,a.Z)(function*(){!function Re(q){var K,te,Ce,et,lt,Ut,Ct,qt,di,Vi;const En=Ee();(0,U.aw)("function"==typeof(null===(K=null==En?void 0:En.universalLinks)||void 0===K?void 0:K.subscribe),q,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,U.aw)(void 0!==(null===(te=null==En?void 0:En.BuildInfo)||void 0===te?void 0:te.packageName),q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,U.aw)("function"==typeof(null===(lt=null===(et=null===(Ce=null==En?void 0:En.cordova)||void 0===Ce?void 0:Ce.plugins)||void 0===et?void 0:et.browsertab)||void 0===lt?void 0:lt.openUrl),q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,U.aw)("function"==typeof(null===(qt=null===(Ct=null===(Ut=null==En?void 0:En.cordova)||void 0===Ut?void 0:Ut.plugins)||void 0===Ct?void 0:Ct.browsertab)||void 0===qt?void 0:qt.isAvailable),q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,U.aw)("function"==typeof(null===(Vi=null===(di=null==En?void 0:En.cordova)||void 0===di?void 0:di.InAppBrowser)||void 0===Vi?void 0:Vi.open),q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(K);const Ut=yield lt._initialize(K);yield Ut.initialized(),Ut.resetRedirect(),(0,U.aB)(),yield lt._originValidation(K);const Ct=function Oe(q,K,te=null){return{type:K,eventId:te,urlResponse:null,sessionId:Ie(),postBody:null,tenantId:q.tenantId,error:(0,U.av)(q,"no-auth-event")}}(K,Ce,et);yield function it(q,K){return Te()._set(Ae(q),K)}(K,Ct);const qt=yield function re(q,K,te){return ne.apply(this,arguments)}(K,Ct,te),di=yield function je(q){const{cordova:K}=Ee();return new Promise(te=>{K.plugins.browsertab.isAvailable(Ce=>{let et=null;Ce?K.plugins.browsertab.openUrl(q):et=K.InAppBrowser.open(q,(0,U.ao)()?"_blank":"_system","location=yes"),te(et)})})}(qt);return function Ke(q,K,te){return Xe.apply(this,arguments)}(K,Ut,di)})()}_isIframeWebStorageSupported(K,te){throw new Error("Method not implemented.")}_originValidation(K){const te=K._key();return this.originValidationPromises[te]||(this.originValidationPromises[te]=function _e(q){return st.apply(this,arguments)}(K)),this.originValidationPromises[te]}attachCallbackListeners(K,te){const{universalLinks:Ce,handleOpenURL:et,BuildInfo:lt}=Ee(),Ut=setTimeout((0,a.Z)(function*(){yield me(K),te.onEvent(At())}),500),Ct=function(){var Vi=(0,a.Z)(function*(En){clearTimeout(Ut);const Xi=yield me(K);let ps=null;Xi&&(null==En?void 0:En.url)&&(ps=function ue(q,K){var te,Ce;const et=function be(q){const K=Bt(q),te=K.link?decodeURIComponent(K.link):void 0,Ce=Bt(te).link,et=K.deep_link_id?decodeURIComponent(K.deep_link_id):void 0;return Bt(et).link||et||Ce||te||q}(K);if(et.includes("/__/auth/callback")){const lt=Bt(et),Ut=lt.firebaseError?function We(q){try{return JSON.parse(q)}catch(K){return null}}(decodeURIComponent(lt.firebaseError)):null,Ct=null===(Ce=null===(te=null==Ut?void 0:Ut.code)||void 0===te?void 0:te.split("auth/"))||void 0===Ce?void 0:Ce[1],qt=Ct?(0,U.av)(Ct):null;return qt?{type:q.type,eventId:q.eventId,tenantId:q.tenantId,error:qt,urlResponse:null,sessionId:null,postBody:null}:{type:q.type,eventId:q.eventId,tenantId:q.tenantId,sessionId:q.sessionId,urlResponse:et,postBody:null}}return null}(Xi,En.url)),te.onEvent(ps||At())});return function(Xi){return Vi.apply(this,arguments)}}();void 0!==Ce&&"function"==typeof Ce.subscribe&&Ce.subscribe(null,Ct);const qt=et,di=`${lt.packageName.toLowerCase()}://`;Ee().handleOpenURL=function(){var Vi=(0,a.Z)(function*(En){if(En.toLowerCase().startsWith(di)&&Ct({url:En}),"function"==typeof qt)try{qt(En)}catch(Xi){console.error(Xi)}});return function(En){return Vi.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=U.a,this._completeRedirectFn=U.aA}_initialize(K){var te=this;return(0,a.Z)(function*(){return yield te.selectUnderlyingResolver(),te.assertedUnderlyingResolver._initialize(K)})()}_openPopup(K,te,Ce,et){var lt=this;return(0,a.Z)(function*(){return yield lt.selectUnderlyingResolver(),lt.assertedUnderlyingResolver._openPopup(K,te,Ce,et)})()}_openRedirect(K,te,Ce,et){var lt=this;return(0,a.Z)(function*(){return yield lt.selectUnderlyingResolver(),lt.assertedUnderlyingResolver._openRedirect(K,te,Ce,et)})()}_isIframeWebStorageSupported(K,te){this.assertedUnderlyingResolver._isIframeWebStorageSupported(K,te)}_originValidation(K){return this.assertedUnderlyingResolver._originValidation(K)}get _shouldInitProactively(){return Sr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return It(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var K=this;return(0,a.Z)(function*(){if(K.underlyingResolver)return;const te=yield function kt(){return ur.apply(this,arguments)}();K.underlyingResolver=te?K.cordovaResolver:K.browserResolver})()}}function Ji(q){return q.unwrap()}function cn(q){return Ci(q)}function Ci(q){const{_tokenResponse:K}=q instanceof ye.ZR?q.customData:q;if(!K)return null;if(!(q instanceof ye.ZR)&&"temporaryProof"in K&&"phoneNumber"in K)return U.P.credentialFromResult(q);const te=K.providerId;if(!te||te===U.o.PASSWORD)return null;let Ce;switch(te){case U.o.GOOGLE:Ce=U.N;break;case U.o.FACEBOOK:Ce=U.M;break;case U.o.GITHUB:Ce=U.Q;break;case U.o.TWITTER:Ce=U.V;break;default:const{oauthIdToken:et,oauthAccessToken:lt,oauthTokenSecret:Ut,pendingToken:Ct,nonce:qt}=K;return lt||Ut||et||Ct?Ct?te.startsWith("saml.")?U.aJ._create(te,Ct):U.I._fromParams({providerId:te,signInMethod:te,pendingToken:Ct,idToken:et,accessToken:lt}):new U.T(te).credential({idToken:et,accessToken:lt,rawNonce:qt}):null}return q instanceof ye.ZR?Ce.credentialFromError(q):Ce.credentialFromResult(q)}function kn(q,K){return K.catch(te=>{throw te instanceof ye.ZR&&function ts(q,K){var te;const Ce=null===(te=K.customData)||void 0===te?void 0:te._tokenResponse;if("auth/multi-factor-auth-required"===K.code)K.resolver=new un(q,U.am(q,K));else if(Ce){const et=Ci(K),lt=K;et&&(lt.credential=et,lt.tenantId=Ce.tenantId||void 0,lt.email=Ce.email||void 0,lt.phoneNumber=Ce.phoneNumber||void 0)}}(q,te),te}).then(te=>{const et=te.user;return{operationType:te.operationType,credential:cn(te),additionalUserInfo:U.ak(te),user:at.getOrCreate(et)}})}function Pt(q,K){return ui.apply(this,arguments)}function ui(){return(ui=(0,a.Z)(function*(q,K){const te=yield K;return{verificationId:te.verificationId,confirm:Ce=>kn(q,te.confirm(Ce))}})).apply(this,arguments)}class un{constructor(K,te){this.resolver=te,this.auth=function es(q){return q.wrapped()}(K)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(K){return kn(Ji(this.auth),this.resolver.resolveSignIn(K))}}class at{constructor(K){this._delegate=K,this.multiFactor=U.an(K)}static getOrCreate(K){return at.USER_MAP.has(K)||at.USER_MAP.set(K,new at(K)),at.USER_MAP.get(K)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(K){return this._delegate.getIdTokenResult(K)}getIdToken(K){return this._delegate.getIdToken(K)}linkAndRetrieveDataWithCredential(K){return this.linkWithCredential(K)}linkWithCredential(K){var te=this;return(0,a.Z)(function*(){return kn(te.auth,U.Y(te._delegate,K))})()}linkWithPhoneNumber(K,te){var Ce=this;return(0,a.Z)(function*(){return Pt(Ce.auth,U.l(Ce._delegate,K,te))})()}linkWithPopup(K){var te=this;return(0,a.Z)(function*(){return kn(te.auth,U.d(te._delegate,K,vt))})()}linkWithRedirect(K){var te=this;return(0,a.Z)(function*(){return yield Zn(U.aC(te.auth)),U.g(te._delegate,K,vt)})()}reauthenticateAndRetrieveDataWithCredential(K){return this.reauthenticateWithCredential(K)}reauthenticateWithCredential(K){var te=this;return(0,a.Z)(function*(){return kn(te.auth,U.Z(te._delegate,K))})()}reauthenticateWithPhoneNumber(K,te){return Pt(this.auth,U.r(this._delegate,K,te))}reauthenticateWithPopup(K){return kn(this.auth,U.e(this._delegate,K,vt))}reauthenticateWithRedirect(K){var te=this;return(0,a.Z)(function*(){return yield Zn(U.aC(te.auth)),U.h(te._delegate,K,vt)})()}sendEmailVerification(K){return U.aa(this._delegate,K)}unlink(K){var te=this;return(0,a.Z)(function*(){return yield U.aj(te._delegate,K),te})()}updateEmail(K){return U.af(this._delegate,K)}updatePassword(K){return U.ag(this._delegate,K)}updatePhoneNumber(K){return U.u(this._delegate,K)}updateProfile(K){return U.ae(this._delegate,K)}verifyBeforeUpdateEmail(K,te){return U.ab(this._delegate,K,te)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}at.USER_MAP=new WeakMap;const Be=U.aw;let Je=(()=>{class q{constructor(te,Ce){if(this.app=te,Ce.isInitialized())return this._delegate=Ce.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:et}=te.options;Be(et,"invalid-api-key",{appName:te.name}),Be(et,"invalid-api-key",{appName:te.name});const lt="undefined"!=typeof window?vt:void 0;this._delegate=Ce.initialize({options:{persistence:nn(et,te.name),popupRedirectResolver:lt}}),this._delegate._updateErrorMap(U.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?at.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(te){this._delegate.languageCode=te}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(te){this._delegate.tenantId=te}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(te,Ce){U.E(this._delegate,te,Ce)}applyActionCode(te){return U.a1(this._delegate,te)}checkActionCode(te){return U.a2(this._delegate,te)}confirmPasswordReset(te,Ce){return U.a0(this._delegate,te,Ce)}createUserWithEmailAndPassword(te,Ce){var et=this;return(0,a.Z)(function*(){return kn(et._delegate,U.a4(et._delegate,te,Ce))})()}fetchProvidersForEmail(te){return this.fetchSignInMethodsForEmail(te)}fetchSignInMethodsForEmail(te){return U.a9(this._delegate,te)}isSignInWithEmailLink(te){return U.a7(this._delegate,te)}getRedirectResult(){var te=this;return(0,a.Z)(function*(){Be(ii(),te._delegate,"operation-not-supported-in-this-environment");const Ce=yield U.j(te._delegate,vt);return Ce?kn(te._delegate,Promise.resolve(Ce)):{credential:null,user:null}})()}addFrameworkForLogging(te){!function Hn(q,K){(0,U.aC)(q)._logFramework(K)}(this._delegate,te)}onAuthStateChanged(te,Ce,et){const{next:lt,error:Ut,complete:Ct}=Nt(te,Ce,et);return this._delegate.onAuthStateChanged(lt,Ut,Ct)}onIdTokenChanged(te,Ce,et){const{next:lt,error:Ut,complete:Ct}=Nt(te,Ce,et);return this._delegate.onIdTokenChanged(lt,Ut,Ct)}sendSignInLinkToEmail(te,Ce){return U.a6(this._delegate,te,Ce)}sendPasswordResetEmail(te,Ce){return U.$(this._delegate,te,Ce||void 0)}setPersistence(te){var Ce=this;return(0,a.Z)(function*(){let et;switch(function wi(q,K){ri(Object.values(Nn).includes(K),q,"invalid-persistence-type"),(0,ye.b$)()?ri(K!==Nn.SESSION,q,"unsupported-persistence-type"):(0,ye.UG)()?ri(K===Nn.NONE,q,"unsupported-persistence-type"):qi()?ri(K===Nn.NONE||K===Nn.LOCAL&&(0,ye.hl)(),q,"unsupported-persistence-type"):ri(K===Nn.NONE||Xr(),q,"unsupported-persistence-type")}(Ce._delegate,te),te){case Nn.SESSION:et=U.a;break;case Nn.LOCAL:et=(yield U.ax(U.i)._isAvailable())?U.i:U.b;break;case Nn.NONE:et=U.K;break;default:return U.as("argument-error",{appName:Ce._delegate.name})}return Ce._delegate.setPersistence(et)})()}signInAndRetrieveDataWithCredential(te){return this.signInWithCredential(te)}signInAnonymously(){return kn(this._delegate,U.W(this._delegate))}signInWithCredential(te){return kn(this._delegate,U.X(this._delegate,te))}signInWithCustomToken(te){return kn(this._delegate,U._(this._delegate,te))}signInWithEmailAndPassword(te,Ce){return kn(this._delegate,U.a5(this._delegate,te,Ce))}signInWithEmailLink(te,Ce){return kn(this._delegate,U.a8(this._delegate,te,Ce))}signInWithPhoneNumber(te,Ce){return Pt(this._delegate,U.s(this._delegate,te,Ce))}signInWithPopup(te){var Ce=this;return(0,a.Z)(function*(){return Be(ii(),Ce._delegate,"operation-not-supported-in-this-environment"),kn(Ce._delegate,U.c(Ce._delegate,te,vt))})()}signInWithRedirect(te){var Ce=this;return(0,a.Z)(function*(){return Be(ii(),Ce._delegate,"operation-not-supported-in-this-environment"),yield Zn(Ce._delegate),U.f(Ce._delegate,te,vt)})()}updateCurrentUser(te){return this._delegate.updateCurrentUser(te)}verifyPasswordResetCode(te){return U.a3(this._delegate,te)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return q.Persistence=Nn,q})();function Nt(q,K,te){let Ce=q;"function"!=typeof q&&({next:Ce,error:K,complete:te}=q);const et=Ce;return{next:Ut=>et(Ut&&at.getOrCreate(Ut)),error:K,complete:te}}function nn(q,K){const te=function Os(q,K){const te=sn();if(!te)return[];const Ce=U.ay(Di,q,K);switch(te.getItem(Ce)){case Nn.NONE:return[U.K];case Nn.LOCAL:return[U.i,U.a];case Nn.SESSION:return[U.a];default:return[]}}(q,K);if("undefined"!=typeof self&&!te.includes(U.i)&&te.push(U.i),"undefined"!=typeof window)for(const Ce of[U.b,U.a])te.includes(Ce)||te.push(Ce);return te.includes(U.K)||te.push(U.K),te}class on{constructor(){this.providerId="phone",this._delegate=new U.P(Ji(J.Z.auth()))}static credential(K,te){return U.P.credential(K,te)}verifyPhoneNumber(K,te){return this._delegate.verifyPhoneNumber(K,te)}unwrap(){return this._delegate}}on.PHONE_SIGN_IN_METHOD=U.P.PHONE_SIGN_IN_METHOD,on.PROVIDER_ID=U.P.PROVIDER_ID;const se=U.aw;class ee{constructor(K,te,Ce=J.Z.app()){var et;se(null===(et=Ce.options)||void 0===et?void 0:et.apiKey,"invalid-api-key",{appName:Ce.name}),this._delegate=new U.R(K,te,Ce.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function xe(q){q.INTERNAL.registerComponent(new fe.wA("auth-compat",K=>{const te=K.getProvider("app-compat").getImmediate(),Ce=K.getProvider("auth");return new Je(te,Ce)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:U.A.EMAIL_SIGNIN,PASSWORD_RESET:U.A.PASSWORD_RESET,RECOVER_EMAIL:U.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:U.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:U.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:U.A.VERIFY_EMAIL}},EmailAuthProvider:U.L,FacebookAuthProvider:U.M,GithubAuthProvider:U.Q,GoogleAuthProvider:U.N,OAuthProvider:U.T,SAMLAuthProvider:U.U,PhoneAuthProvider:on,PhoneMultiFactorGenerator:U.m,RecaptchaVerifier:ee,TwitterAuthProvider:U.V,Auth:Je,AuthCredential:U.G,Error:ye.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),q.registerVersion("@firebase/auth-compat","0.2.12")}(J.Z)},7122:(Ot,Ue)=>{function a(C,M){for(var I=0;I<M.length;I++){var b=M[I];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(C,b.key,b)}}function J(C,M,I){return M&&a(C.prototype,M),I&&a(C,I),C}function U(C,M){C.prototype=Object.create(M.prototype),C.prototype.constructor=C,C.__proto__=M}function ye(C){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(I){return I.__proto__||Object.getPrototypeOf(I)})(C)}function ge(C,M){return(ge=Object.setPrototypeOf||function(b,R){return b.__proto__=R,b})(C,M)}function Pe(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(C){return!1}}function fe(C,M,I){return(fe=Pe()?Reflect.construct:function(R,F,$){var Q=[null];Q.push.apply(Q,F);var Se=new(Function.bind.apply(R,Q));return $&&ge(Se,$.prototype),Se}).apply(null,arguments)}function Me(C){var M="function"==typeof Map?new Map:void 0;return Me=function(b){if(null===b||!function Ee(C){return-1!==Function.toString.call(C).indexOf("[native code]")}(b))return b;if("function"!=typeof b)throw new TypeError("Super expression must either be null or a function");if(void 0!==M){if(M.has(b))return M.get(b);M.set(b,R)}function R(){return fe(b,arguments,ye(this).constructor)}return R.prototype=Object.create(b.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),ge(R,b)},Me(C)}function _e(C,M){(null==M||M>C.length)&&(M=C.length);for(var I=0,b=new Array(M);I<M;I++)b[I]=C[I];return b}function st(C){var M=0;if("undefined"==typeof Symbol||null==C[Symbol.iterator]){if(Array.isArray(C)||(C=function ne(C,M){if(C){if("string"==typeof C)return _e(C,M);var I=Object.prototype.toString.call(C).slice(8,-1);if("Object"===I&&C.constructor&&(I=C.constructor.name),"Map"===I||"Set"===I)return Array.from(I);if("Arguments"===I||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return _e(C,M)}}(C)))return function(){return M>=C.length?{done:!0}:{done:!1,value:C[M++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(M=C[Symbol.iterator]()).next.bind(M)}var je=function(C){function M(){return C.apply(this,arguments)||this}return U(M,C),M}(Me(Error)),Ke=function(C){function M(I){return C.call(this,"Invalid DateTime: "+I.toMessage())||this}return U(M,C),M}(je),Xe=function(C){function M(I){return C.call(this,"Invalid Interval: "+I.toMessage())||this}return U(M,C),M}(je),Re=function(C){function M(I){return C.call(this,"Invalid Duration: "+I.toMessage())||this}return U(M,C),M}(je),Ve=function(C){function M(){return C.apply(this,arguments)||this}return U(M,C),M}(je),gt=function(C){function M(I){return C.call(this,"Invalid unit "+I)||this}return U(M,C),M}(je),Qe=function(C){function M(){return C.apply(this,arguments)||this}return U(M,C),M}(je),He=function(C){function M(){return C.call(this,"Zone is an abstract class")||this}return U(M,C),M}(je),ce="numeric",Oe="short",it="long",me={year:ce,month:ce,day:ce},ft={year:ce,month:Oe,day:ce},ue={year:ce,month:it,day:ce},Ie={year:ce,month:it,day:ce,weekday:it},Te={hour:ce,minute:ce},Ae={hour:ce,minute:ce,second:ce},We={hour:ce,minute:ce,second:ce,timeZoneName:Oe},be={hour:ce,minute:ce,second:ce,timeZoneName:it},Bt={hour:ce,minute:ce,hour12:!1},Sn={hour:ce,minute:ce,second:ce,hour12:!1},gi={hour:ce,minute:ce,second:ce,hour12:!1,timeZoneName:Oe},St={hour:ce,minute:ce,second:ce,hour12:!1,timeZoneName:it},At={year:ce,month:ce,day:ce,hour:ce,minute:ce},Hn={year:ce,month:ce,day:ce,hour:ce,minute:ce,second:ce},Vn={year:ce,month:Oe,day:ce,hour:ce,minute:ce},Ir={year:ce,month:Oe,day:ce,hour:ce,minute:ce,second:ce},Mn={year:ce,month:Oe,day:ce,weekday:Oe,hour:ce,minute:ce},Cn={year:ce,month:it,day:ce,hour:ce,minute:ce,timeZoneName:Oe},An={year:ce,month:it,day:ce,hour:ce,minute:ce,second:ce,timeZoneName:Oe},ni={year:ce,month:it,day:ce,weekday:it,hour:ce,minute:ce,timeZoneName:it},xi={year:ce,month:it,day:ce,weekday:it,hour:ce,minute:ce,second:ce,timeZoneName:it};function Kt(C){return void 0===C}function vi(C){return"number"==typeof C}function Lr(C){return"number"==typeof C&&C%1==0}function ii(){try{return"undefined"!=typeof Intl&&Intl.DateTimeFormat}catch(C){return!1}}function Sr(){return!Kt(Intl.DateTimeFormat.prototype.formatToParts)}function kt(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(C){return!1}}function bi(C,M,I){if(0!==C.length)return C.reduce(function(b,R){var F=[M(R),R];return b&&I(b[0],F[0])===b[0]?b:F},null)[1]}function Nn(C,M){return M.reduce(function(I,b){return I[b]=C[b],I},{})}function ri(C,M){return Object.prototype.hasOwnProperty.call(C,M)}function Di(C,M,I){return Lr(C)&&C>=M&&C<=I}function Zn(C,M){return void 0===M&&(M=2),C.toString().length<M?("0".repeat(M)+C).slice(-M):C.toString()}function jn(C){if(!Kt(C)&&null!==C&&""!==C)return parseInt(C,10)}function Os(C){if(!Kt(C)&&null!==C&&""!==C){var M=1e3*parseFloat("0."+C);return Math.floor(M)}}function sn(C,M,I){void 0===I&&(I=!1);var b=Math.pow(10,M);return(I?Math.trunc:Math.round)(C*b)/b}function It(C){return C%4==0&&(C%100!=0||C%400==0)}function vt(C){return It(C)?366:365}function Ji(C,M){var I=function wi(C,M){return C-M*Math.floor(C/M)}(M-1,12)+1;return 2===I?It(C+(M-I)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][I-1]}function es(C){var M=Date.UTC(C.year,C.month-1,C.day,C.hour,C.minute,C.second,C.millisecond);return C.year<100&&C.year>=0&&(M=new Date(M)).setUTCFullYear(M.getUTCFullYear()-1900),+M}function cn(C){var M=(C+Math.floor(C/4)-Math.floor(C/100)+Math.floor(C/400))%7,I=C-1,b=(I+Math.floor(I/4)-Math.floor(I/100)+Math.floor(I/400))%7;return 4===M||3===b?53:52}function ts(C){return C>99?C:C>60?1900+C:2e3+C}function Ci(C,M,I,b){void 0===b&&(b=null);var R=new Date(C),F={hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};b&&(F.timeZone=b);var $=Object.assign({timeZoneName:M},F),Q=ii();if(Q&&Sr()){var ae=new Intl.DateTimeFormat(I,$).formatToParts(R).find(function(wt){return"timezonename"===wt.type.toLowerCase()});return ae?ae.value:null}if(Q){var Se=new Intl.DateTimeFormat(I,F).format(R);return new Intl.DateTimeFormat(I,$).format(R).substring(Se.length).replace(/^[, \u200e]+/,"")}return null}function kn(C,M){var I=parseInt(C,10);Number.isNaN(I)&&(I=0);var b=parseInt(M,10)||0;return 60*I+(I<0||Object.is(I,-0)?-b:b)}function Pt(C){var M=Number(C);if("boolean"==typeof C||""===C||Number.isNaN(M))throw new Qe("Invalid unit value "+C);return M}function ui(C,M,I){var b={};for(var R in C)if(ri(C,R)){if(I.indexOf(R)>=0)continue;var F=C[R];if(null==F)continue;b[M(R)]=Pt(F)}return b}function un(C,M){var I=Math.trunc(C/60),b=Math.abs(C%60),R=I>=0&&!Object.is(I,-0)?"+":"-",F=""+R+Math.abs(I);switch(M){case"short":return""+R+Zn(Math.abs(I),2)+":"+Zn(b,2);case"narrow":return b>0?F+":"+b:F;case"techie":return""+R+Zn(Math.abs(I),2)+Zn(b,2);default:throw new RangeError("Value format "+M+" is out of range for property format")}}function at(C){return Nn(C,["hour","minute","second","millisecond"])}var Be=/[A-Za-z_+-]{1,256}(:?\/[A-Za-z_+-]{1,256}(\/[A-Za-z_+-]{1,256})?)?/;function Je(C){return JSON.stringify(C,Object.keys(C).sort())}var Nt=["January","February","March","April","May","June","July","August","September","October","November","December"],nn=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],on=["J","F","M","A","M","J","J","A","S","O","N","D"];function se(C){switch(C){case"narrow":return on;case"short":return nn;case"long":return Nt;case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var ee=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],oe=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],xe=["M","T","W","T","F","S","S"];function q(C){switch(C){case"narrow":return xe;case"short":return oe;case"long":return ee;case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var K=["AM","PM"],te=["Before Christ","Anno Domini"],Ce=["BC","AD"],et=["B","A"];function lt(C){switch(C){case"narrow":return et;case"short":return Ce;case"long":return te;default:return null}}function Xi(C,M){for(var R,I="",b=st(C);!(R=b()).done;){var F=R.value;I+=F.literal?F.val:M(F.val)}return I}var ps={D:me,DD:ft,DDD:ue,DDDD:Ie,t:Te,tt:Ae,ttt:We,tttt:be,T:Bt,TT:Sn,TTT:gi,TTTT:St,f:At,ff:Vn,fff:Cn,ffff:ni,F:Hn,FF:Ir,FFF:An,FFFF:xi},qn=function(){function C(I,b){this.opts=b,this.loc=I,this.systemLoc=null}C.create=function(b,R){return void 0===R&&(R={}),new C(b,R)},C.parseFormat=function(b){for(var R=null,F="",$=!1,Q=[],ae=0;ae<b.length;ae++){var Se=b.charAt(ae);"'"===Se?(F.length>0&&Q.push({literal:$,val:F}),R=null,F="",$=!$):$||Se===R?F+=Se:(F.length>0&&Q.push({literal:!1,val:F}),F=Se,R=Se)}return F.length>0&&Q.push({literal:$,val:F}),Q},C.macroTokenToFormatOpts=function(b){return ps[b]};var M=C.prototype;return M.formatWithSystemDefault=function(b,R){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(b,Object.assign({},this.opts,R)).format()},M.formatDateTime=function(b,R){return void 0===R&&(R={}),this.loc.dtFormatter(b,Object.assign({},this.opts,R)).format()},M.formatDateTimeParts=function(b,R){return void 0===R&&(R={}),this.loc.dtFormatter(b,Object.assign({},this.opts,R)).formatToParts()},M.resolvedOptions=function(b,R){return void 0===R&&(R={}),this.loc.dtFormatter(b,Object.assign({},this.opts,R)).resolvedOptions()},M.num=function(b,R){if(void 0===R&&(R=0),this.opts.forceSimple)return Zn(b,R);var F=Object.assign({},this.opts);return R>0&&(F.padTo=R),this.loc.numberFormatter(F).format(b)},M.formatDateTimeFromString=function(b,R){var F=this,$="en"===this.loc.listingMode(),Q=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar&&Sr(),ae=function(jt,Gt){return F.loc.extract(b,jt,Gt)},Se=function(jt){return b.isOffsetFixed&&0===b.offset&&jt.allowZ?"Z":b.isValid?b.zone.formatOffset(b.ts,jt.format):""},Ze=function(jt,Gt){return $?function qt(C,M){return se(M)[C.month-1]}(b,jt):ae(Gt?{month:jt}:{month:jt,day:"numeric"},"month")},ot=function(jt,Gt){return $?function Ct(C,M){return q(M)[C.weekday-1]}(b,jt):ae(Gt?{weekday:jt}:{weekday:jt,month:"long",day:"numeric"},"weekday")},gn=function(jt){return $?function di(C,M){return lt(M)[C.year<0?0:1]}(b,jt):ae({era:jt},"era")};return Xi(C.parseFormat(R),function(jt){switch(jt){case"S":return F.num(b.millisecond);case"u":case"SSS":return F.num(b.millisecond,3);case"s":return F.num(b.second);case"ss":return F.num(b.second,2);case"m":return F.num(b.minute);case"mm":return F.num(b.minute,2);case"h":return F.num(b.hour%12==0?12:b.hour%12);case"hh":return F.num(b.hour%12==0?12:b.hour%12,2);case"H":return F.num(b.hour);case"HH":return F.num(b.hour,2);case"Z":return Se({format:"narrow",allowZ:F.opts.allowZ});case"ZZ":return Se({format:"short",allowZ:F.opts.allowZ});case"ZZZ":return Se({format:"techie",allowZ:F.opts.allowZ});case"ZZZZ":return console.log(b.zone),b.zone.offsetName(b.ts,{format:"short",locale:F.loc.locale});case"ZZZZZ":return b.zone.offsetName(b.ts,{format:"long",locale:F.loc.locale});case"z":return b.zoneName;case"a":return $?function Ut(C){return K[C.hour<12?0:1]}(b):ae({hour:"numeric",hour12:!0},"dayperiod");case"d":return Q?ae({day:"numeric"},"day"):F.num(b.day);case"dd":return Q?ae({day:"2-digit"},"day"):F.num(b.day,2);case"c":case"E":return F.num(b.weekday);case"ccc":return ot("short",!0);case"cccc":return ot("long",!0);case"ccccc":return ot("narrow",!0);case"EEE":return ot("short",!1);case"EEEE":return ot("long",!1);case"EEEEE":return ot("narrow",!1);case"L":return Q?ae({month:"numeric",day:"numeric"},"month"):F.num(b.month);case"LL":return Q?ae({month:"2-digit",day:"numeric"},"month"):F.num(b.month,2);case"LLL":return Ze("short",!0);case"LLLL":return Ze("long",!0);case"LLLLL":return Ze("narrow",!0);case"M":return Q?ae({month:"numeric"},"month"):F.num(b.month);case"MM":return Q?ae({month:"2-digit"},"month"):F.num(b.month,2);case"MMM":return Ze("short",!1);case"MMMM":return Ze("long",!1);case"MMMMM":return Ze("narrow",!1);case"y":return Q?ae({year:"numeric"},"year"):F.num(b.year);case"yy":return Q?ae({year:"2-digit"},"year"):F.num(b.year.toString().slice(-2),2);case"yyyy":return Q?ae({year:"numeric"},"year"):F.num(b.year,4);case"yyyyyy":return Q?ae({year:"numeric"},"year"):F.num(b.year,6);case"G":return gn("short");case"GG":return gn("long");case"GGGGG":return gn("narrow");case"kk":return F.num(b.weekYear.toString().slice(-2),2);case"kkkk":return F.num(b.weekYear,4);case"W":return F.num(b.weekNumber);case"WW":return F.num(b.weekNumber,2);case"o":return F.num(b.ordinal);case"ooo":return F.num(b.ordinal,3);case"q":return F.num(b.quarter);case"qq":return F.num(b.quarter,2);case"X":return F.num(Math.floor(b.ts/1e3));case"x":return F.num(b.ts);default:return function(jt){var Gt=C.macroTokenToFormatOpts(jt);return Gt?F.formatWithSystemDefault(b,Gt):jt}(jt)}})},M.formatDurationFromString=function(b,R){var ot,F=this,$=function(ot){switch(ot[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"M":return"month";case"y":return"year";default:return null}},ae=C.parseFormat(R),Se=ae.reduce(function(Ze,ot){return ot.literal?Ze:Ze.concat(ot.val)},[]),rt=b.shiftTo.apply(b,Se.map($).filter(function(Ze){return Ze}));return Xi(ae,(ot=rt,function(wt){var gn=$(wt);return gn?F.num(ot.get(gn),wt.length):wt}))},C}(),Ar=function(){function C(I,b){this.reason=I,this.explanation=b}return C.prototype.toMessage=function(){return this.explanation?this.reason+": "+this.explanation:this.reason},C}(),Rn=function(){function C(){}var M=C.prototype;return M.offsetName=function(b,R){throw new He},M.formatOffset=function(b,R){throw new He},M.offset=function(b){throw new He},M.equals=function(b){throw new He},J(C,[{key:"type",get:function(){throw new He}},{key:"name",get:function(){throw new He}},{key:"universal",get:function(){throw new He}},{key:"isValid",get:function(){throw new He}}]),C}(),ct=null,mn=function(C){function M(){return C.apply(this,arguments)||this}U(M,C);var I=M.prototype;return I.offsetName=function(R,F){return Ci(R,F.format,F.locale)},I.formatOffset=function(R,F){return un(this.offset(R),F)},I.offset=function(R){return-new Date(R).getTimezoneOffset()},I.equals=function(R){return"local"===R.type},J(M,[{key:"type",get:function(){return"local"}},{key:"name",get:function(){return ii()?(new Intl.DateTimeFormat).resolvedOptions().timeZone:"local"}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return!0}}],[{key:"instance",get:function(){return null===ct&&(ct=new M),ct}}]),M}(Rn),Yn=RegExp("^"+Be.source+"$"),Bi={},Ui={year:0,month:1,day:2,hour:3,minute:4,second:5},fi={},hr=function(C){function M(b){var R;return(R=C.call(this)||this).zoneName=b,R.valid=M.isValidZone(b),R}U(M,C),M.create=function(R){return fi[R]||(fi[R]=new M(R)),fi[R]},M.resetCache=function(){fi={},Bi={}},M.isValidSpecifier=function(R){return!(!R||!R.match(Yn))},M.isValidZone=function(R){try{return new Intl.DateTimeFormat("en-US",{timeZone:R}).format(),!0}catch(F){return!1}},M.parseGMTOffset=function(R){if(R){var F=R.match(/^Etc\/GMT([+-]\d{1,2})$/i);if(F)return-60*parseInt(F[1])}return null};var I=M.prototype;return I.offsetName=function(R,F){return Ci(R,F.format,F.locale,this.name)},I.formatOffset=function(R,F){return un(this.offset(R),F)},I.offset=function(R){var F=new Date(R),$=function Xs(C){return Bi[C]||(Bi[C]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:C,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),Bi[C]}(this.name),Q=$.formatToParts?function hi(C,M){for(var I=C.formatToParts(M),b=[],R=0;R<I.length;R++){var F=I[R],Q=F.value,ae=Ui[F.type];Kt(ae)||(b[ae]=parseInt(Q,10))}return b}($,F):function dr(C,M){var I=C.format(M).replace(/\u200E/g,""),b=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(I);return[b[3],b[1],b[2],b[4],b[5],b[6]]}($,F),Ze=Q[3],_n=+F,jt=_n%1e3;return(es({year:Q[0],month:Q[1],day:Q[2],hour:24===Ze?0:Ze,minute:Q[4],second:Q[5],millisecond:0})-(_n-=jt>=0?jt:1e3+jt))/6e4},I.equals=function(R){return"iana"===R.type&&R.name===this.name},J(M,[{key:"type",get:function(){return"iana"}},{key:"name",get:function(){return this.zoneName}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return this.valid}}]),M}(Rn),Qt=null,er=function(C){function M(b){var R;return(R=C.call(this)||this).fixed=b,R}U(M,C),M.instance=function(R){return 0===R?M.utcInstance:new M(R)},M.parseSpecifier=function(R){if(R){var F=R.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(F)return new M(kn(F[1],F[2]))}return null},J(M,null,[{key:"utcInstance",get:function(){return null===Qt&&(Qt=new M(0)),Qt}}]);var I=M.prototype;return I.offsetName=function(){return this.name},I.formatOffset=function(R,F){return un(this.fixed,F)},I.offset=function(){return this.fixed},I.equals=function(R){return"fixed"===R.type&&R.fixed===this.fixed},J(M,[{key:"type",get:function(){return"fixed"}},{key:"name",get:function(){return 0===this.fixed?"UTC":"UTC"+un(this.fixed,"narrow")}},{key:"universal",get:function(){return!0}},{key:"isValid",get:function(){return!0}}]),M}(Rn),Mi=function(C){function M(b){var R;return(R=C.call(this)||this).zoneName=b,R}U(M,C);var I=M.prototype;return I.offsetName=function(){return null},I.formatOffset=function(){return""},I.offset=function(){return NaN},I.equals=function(){return!1},J(M,[{key:"type",get:function(){return"invalid"}},{key:"name",get:function(){return this.zoneName}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return!1}}]),M}(Rn);function eo(C,M){var I;if(Kt(C)||null===C)return M;if(C instanceof Rn)return C;if(function Xr(C){return"string"==typeof C}(C)){var b=C.toLowerCase();return"local"===b?M:"utc"===b||"gmt"===b?er.utcInstance:null!=(I=hr.parseGMTOffset(C))?er.instance(I):hr.isValidSpecifier(b)?hr.create(C):er.parseSpecifier(b)||new Mi(C)}return vi(C)?er.instance(C):"object"==typeof C&&C.offset&&"number"==typeof C.offset?C:new Mi(C)}var ms=function(){return Date.now()},Si=null,to=null,_o=null,Gn=null,Kn=!1,Qn=function(){function C(){}return C.resetCaches=function(){_i.resetCache(),hr.resetCache()},J(C,null,[{key:"now",get:function(){return ms},set:function(I){ms=I}},{key:"defaultZoneName",get:function(){return C.defaultZone.name},set:function(I){Si=I?eo(I):null}},{key:"defaultZone",get:function(){return Si||mn.instance}},{key:"defaultLocale",get:function(){return to},set:function(I){to=I}},{key:"defaultNumberingSystem",get:function(){return _o},set:function(I){_o=I}},{key:"defaultOutputCalendar",get:function(){return Gn},set:function(I){Gn=I}},{key:"throwOnInvalid",get:function(){return Kn},set:function(I){Kn=I}}]),C}(),wl={};function Hi(C,M){void 0===M&&(M={});var I=JSON.stringify([C,M]),b=wl[I];return b||(b=new Intl.DateTimeFormat(C,M),wl[I]=b),b}var fr={},yo={};var zi=null;function ns(C,M,I,b,R){var F=C.listingMode(I);return"error"===F?null:"en"===F?b(M):R(M)}var fu=function(){function C(I,b,R){if(this.padTo=R.padTo||0,this.floor=R.floor||!1,!b&&ii()){var F={useGrouping:!1};R.padTo>0&&(F.minimumIntegerDigits=R.padTo),this.inf=function Cl(C,M){void 0===M&&(M={});var I=JSON.stringify([C,M]),b=fr[I];return b||(b=new Intl.NumberFormat(C,M),fr[I]=b),b}(I,F)}}return C.prototype.format=function(b){if(this.inf){var R=this.floor?Math.floor(b):b;return this.inf.format(R)}return Zn(this.floor?Math.floor(b):sn(b,3),this.padTo)},C}(),pu=function(){function C(I,b,R){var F;if(this.opts=R,this.hasIntl=ii(),I.zone.universal&&this.hasIntl?(F="UTC",this.dt=R.timeZoneName||0===I.offset?I:vn.fromMillis(I.ts+60*I.offset*1e3)):"local"===I.zone.type?this.dt=I:(this.dt=I,F=I.zone.name),this.hasIntl){var $=Object.assign({},this.opts);F&&($.timeZone=F),this.dtf=Hi(b,$)}}var M=C.prototype;return M.format=function(){if(this.hasIntl)return this.dtf.format(this.dt.toJSDate());var b=function En(C){var b="EEEE, LLLL d, yyyy, h:mm a";switch(Je(Nn(C,["weekday","era","year","month","day","hour","minute","second","timeZoneName","hour12"]))){case Je(me):return"M/d/yyyy";case Je(ft):return"LLL d, yyyy";case Je(ue):return"LLLL d, yyyy";case Je(Ie):return"EEEE, LLLL d, yyyy";case Je(Te):return"h:mm a";case Je(Ae):return"h:mm:ss a";case Je(We):case Je(be):return"h:mm a";case Je(Bt):return"HH:mm";case Je(Sn):return"HH:mm:ss";case Je(gi):case Je(St):return"HH:mm";case Je(At):return"M/d/yyyy, h:mm a";case Je(Vn):return"LLL d, yyyy, h:mm a";case Je(Cn):return"LLLL d, yyyy, h:mm a";case Je(ni):return b;case Je(Hn):return"M/d/yyyy, h:mm:ss a";case Je(Ir):return"LLL d, yyyy, h:mm:ss a";case Je(Mn):return"EEE, d LLL yyyy, h:mm a";case Je(An):return"LLLL d, yyyy, h:mm:ss a";case Je(xi):return"EEEE, LLLL d, yyyy, h:mm:ss a";default:return b}}(this.opts),R=_i.create("en-US");return qn.create(R).formatDateTimeFromString(this.dt,b)},M.formatToParts=function(){return this.hasIntl&&Sr()?this.dtf.formatToParts(this.dt.toJSDate()):[]},M.resolvedOptions=function(){return this.hasIntl?this.dtf.resolvedOptions():{locale:"en-US",numberingSystem:"latn",outputCalendar:"gregory"}},C}(),$a=function(){function C(I,b,R){this.opts=Object.assign({style:"long"},R),!b&&kt()&&(this.rtf=function Ea(C,M){void 0===M&&(M={});var R=function re(C,M){if(null==C)return{};var R,F,I={},b=Object.keys(C);for(F=0;F<b.length;F++)!(M.indexOf(R=b[F])>=0)&&(I[R]=C[R]);return I}(M,["base"]),F=JSON.stringify([C,R]),$=yo[F];return $||($=new Intl.RelativeTimeFormat(C,M),yo[F]=$),$}(I,R))}var M=C.prototype;return M.format=function(b,R){return this.rtf?this.rtf.format(b,R):function Vi(C,M,I,b){void 0===I&&(I="always"),void 0===b&&(b=!1);var R={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},F=-1===["hours","minutes","seconds"].indexOf(C);if("auto"===I&&F){var $="days"===C;switch(M){case 1:return $?"tomorrow":"next "+R[C][0];case-1:return $?"yesterday":"last "+R[C][0];case 0:return $?"today":"this "+R[C][0]}}var Q=Object.is(M,-0)||M<0,ae=Math.abs(M),Se=1===ae,rt=R[C],Ze=b?Se?rt[1]:rt[2]||rt[1]:Se?R[C][0]:C;return Q?ae+" "+Ze+" ago":"in "+ae+" "+Ze}(R,b,this.opts.numeric,"long"!==this.opts.style)},M.formatToParts=function(b,R){return this.rtf?this.rtf.formatToParts(b,R):[]},C}(),_i=function(){function C(I,b,R,F){var $=function vo(C){var M=C.indexOf("-u-");if(-1===M)return[C];var I,b=C.substring(0,M);try{I=Hi(C).resolvedOptions()}catch(Q){I=Hi(b).resolvedOptions()}return[b,I.numberingSystem,I.calendar]}(I),ae=$[1],Se=$[2];this.locale=$[0],this.numberingSystem=b||ae||null,this.outputCalendar=R||Se||null,this.intl=function bo(C,M,I){return ii()?((I||M)&&(C+="-u",I&&(C+="-ca-"+I),M&&(C+="-nu-"+M)),C):[]}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=F,this.fastNumbersCached=null}C.fromOpts=function(b){return C.create(b.locale,b.numberingSystem,b.outputCalendar,b.defaultToEN)},C.create=function(b,R,F,$){void 0===$&&($=!1);var Q=b||Qn.defaultLocale,ae=Q||($?"en-US":function El(){if(zi)return zi;if(ii()){var C=(new Intl.DateTimeFormat).resolvedOptions().locale;return zi=C&&"und"!==C?C:"en-US"}return zi="en-US"}());return new C(ae,R||Qn.defaultNumberingSystem,F||Qn.defaultOutputCalendar,Q)},C.resetCache=function(){zi=null,wl={},fr={},yo={}},C.fromObject=function(b){var R=void 0===b?{}:b;return C.create(R.locale,R.numberingSystem,R.outputCalendar)};var M=C.prototype;return M.listingMode=function(b){void 0===b&&(b=!0);var F=ii()&&Sr(),$=this.isEnglish(),Q=!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar);return F||$&&Q||b?!F||$&&Q?"en":"intl":"error"},M.clone=function(b){return b&&0!==Object.getOwnPropertyNames(b).length?C.create(b.locale||this.specifiedLocale,b.numberingSystem||this.numberingSystem,b.outputCalendar||this.outputCalendar,b.defaultToEN||!1):this},M.redefaultToEN=function(b){return void 0===b&&(b={}),this.clone(Object.assign({},b,{defaultToEN:!0}))},M.redefaultToSystem=function(b){return void 0===b&&(b={}),this.clone(Object.assign({},b,{defaultToEN:!1}))},M.months=function(b,R,F){var $=this;return void 0===R&&(R=!1),void 0===F&&(F=!0),ns(this,b,F,se,function(){var Q=R?{month:b,day:"numeric"}:{month:b},ae=R?"format":"standalone";return $.monthsCache[ae][b]||($.monthsCache[ae][b]=function Vr(C){for(var M=[],I=1;I<=12;I++){var b=vn.utc(2016,I,1);M.push(C(b))}return M}(function(Se){return $.extract(Se,Q,"month")})),$.monthsCache[ae][b]})},M.weekdays=function(b,R,F){var $=this;return void 0===R&&(R=!1),void 0===F&&(F=!0),ns(this,b,F,q,function(){var Q=R?{weekday:b,year:"numeric",month:"long",day:"numeric"}:{weekday:b},ae=R?"format":"standalone";return $.weekdaysCache[ae][b]||($.weekdaysCache[ae][b]=function Ih(C){for(var M=[],I=1;I<=7;I++){var b=vn.utc(2016,11,13+I);M.push(C(b))}return M}(function(Se){return $.extract(Se,Q,"weekday")})),$.weekdaysCache[ae][b]})},M.meridiems=function(b){var R=this;return void 0===b&&(b=!0),ns(this,void 0,b,function(){return K},function(){if(!R.meridiemCache){var F={hour:"numeric",hour12:!0};R.meridiemCache=[vn.utc(2016,11,13,9),vn.utc(2016,11,13,19)].map(function($){return R.extract($,F,"dayperiod")})}return R.meridiemCache})},M.eras=function(b,R){var F=this;return void 0===R&&(R=!0),ns(this,b,R,lt,function(){var $={era:b};return F.eraCache[b]||(F.eraCache[b]=[vn.utc(-40,1,1),vn.utc(2017,1,1)].map(function(Q){return F.extract(Q,$,"era")})),F.eraCache[b]})},M.extract=function(b,R,F){var ae=this.dtFormatter(b,R).formatToParts().find(function(Se){return Se.type.toLowerCase()===F});return ae?ae.value:null},M.numberFormatter=function(b){return void 0===b&&(b={}),new fu(this.intl,b.forceSimple||this.fastNumbers,b)},M.dtFormatter=function(b,R){return void 0===R&&(R={}),new pu(b,this.intl,R)},M.relFormatter=function(b){return void 0===b&&(b={}),new $a(this.intl,this.isEnglish(),b)},M.isEnglish=function(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||ii()&&new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")},M.equals=function(b){return this.locale===b.locale&&this.numberingSystem===b.numberingSystem&&this.outputCalendar===b.outputCalendar},J(C,[{key:"fastNumbers",get:function(){return null==this.fastNumbersCached&&(this.fastNumbersCached=function Sh(C){return(!C.numberingSystem||"latn"===C.numberingSystem)&&("latn"===C.numberingSystem||!C.locale||C.locale.startsWith("en")||ii()&&"latn"===new Intl.DateTimeFormat(C.intl).resolvedOptions().numberingSystem)}(this)),this.fastNumbersCached}}]),C}();function $o(){for(var C=arguments.length,M=new Array(C),I=0;I<C;I++)M[I]=arguments[I];var b=M.reduce(function(R,F){return R+F.source},"");return RegExp("^"+b+"$")}function qa(){for(var C=arguments.length,M=new Array(C),I=0;I<C;I++)M[I]=arguments[I];return function(b){return M.reduce(function(R,F){var $=R[0],Q=R[1],Se=F(b,R[2]),Ze=Se[1],ot=Se[2];return[Object.assign($,Se[0]),Q||Ze,ot]},[{},null,1]).slice(0,2)}}function Tl(C){if(null==C)return[null,null];for(var M=arguments.length,I=new Array(M>1?M-1:0),b=1;b<M;b++)I[b-1]=arguments[b];for(var R=0,F=I;R<F.length;R++){var $=F[R],Q=$[0],ae=$[1],Se=Q.exec(C);if(Se)return ae(Se)}return[null,null]}function dc(){for(var C=arguments.length,M=new Array(C),I=0;I<C;I++)M[I]=arguments[I];return function(b,R){var $,F={};for($=0;$<M.length;$++)F[M[$]]=jn(b[R+$]);return[F,null,R+$]}}var qo=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,ad=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,9}))?)?)?/,Ah=RegExp(""+ad.source+qo.source+"?"),Ns=RegExp("(?:T"+Ah.source+")?"),za=dc("weekYear","weekNumber","weekDay"),is=dc("year","ordinal"),zo=RegExp(ad.source+" ?(?:"+qo.source+"|("+Be.source+"))?"),Il=RegExp("(?: "+zo.source+")?");function Wo(C,M,I){var b=C[M];return Kt(b)?I:jn(b)}function Ta(C,M){return[{year:Wo(C,M),month:Wo(C,M+1,1),day:Wo(C,M+2,1)},null,M+3]}function io(C,M){return[{hour:Wo(C,M,0),minute:Wo(C,M+1,0),second:Wo(C,M+2,0),millisecond:Os(C[M+3])},null,M+4]}function pr(C,M){var I=!C[M]&&!C[M+1],b=kn(C[M+1],C[M+2]);return[{},I?null:er.instance(b),M+3]}function Ps(C,M){return[{},C[M]?hr.create(C[M]):null,M+1]}var Sl=/^-?P(?:(?:(-?\d{1,9})Y)?(?:(-?\d{1,9})M)?(?:(-?\d{1,9})W)?(?:(-?\d{1,9})D)?(?:T(?:(-?\d{1,9})H)?(?:(-?\d{1,9})M)?(?:(-?\d{1,9})(?:[.,](-?\d{1,9}))?S)?)?)$/;function Wa(C){var b=C[2],R=C[3],F=C[4],$=C[5],Q=C[6],ae=C[7],Se=C[8],rt="-"===C[0][0],Ze=function(wt){return wt&&rt?-wt:wt};return[{years:Ze(jn(C[1])),months:Ze(jn(b)),weeks:Ze(jn(R)),days:Ze(jn(F)),hours:Ze(jn($)),minutes:Ze(jn(Q)),seconds:Ze(jn(ae)),milliseconds:Ze(Os(Se))}]}var yi={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function wo(C,M,I,b,R,F,$){var Q={year:2===M.length?ts(jn(M)):jn(M),month:nn.indexOf(I)+1,day:jn(b),hour:jn(R),minute:jn(F)};return $&&(Q.second=jn($)),C&&(Q.weekday=C.length>3?ee.indexOf(C)+1:oe.indexOf(C)+1),Q}var xh=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Da(C){var wt,ae=C[8],Se=C[9],rt=C[10],Ze=C[11],ot=wo(C[1],C[4],C[3],C[2],C[5],C[6],C[7]);return wt=ae?yi[ae]:Se?0:kn(rt,Ze),[ot,new er(wt)]}var gu=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Al=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Co=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Eo(C){return[wo(C[1],C[4],C[3],C[2],C[5],C[6],C[7]),er.utcInstance]}function fc(C){return[wo(C[1],C[7],C[2],C[3],C[4],C[5],C[6]),er.utcInstance]}var si=$o(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Ns),Zo=$o(/(\d{4})-?W(\d\d)(?:-?(\d))?/,Ns),Yo=$o(/(\d{4})-?(\d{3})/,Ns),Jn=$o(Ah),pc=qa(Ta,io,pr),Ia=qa(za,io,pr),To=qa(is,io),tr=qa(io,pr),ro=$o(/(\d{4})-(\d\d)-(\d\d)/,Il),Ko=$o(zo),Sa=qa(Ta,io,pr,Ps),gs=qa(io,pr,Ps),Lt={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},Za=Object.assign({years:{months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},Lt),Br=365.2425,_s=30.436875,_u=Object.assign({years:{months:12,weeks:Br/7,days:Br,hours:24*Br,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:Br/28,days:Br/4,hours:24*Br/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:_s/7,days:_s,hours:24*_s,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},Lt),ys=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],cd=ys.slice(0).reverse();function vs(C,M,I){void 0===I&&(I=!1);var b={values:I?M.values:Object.assign({},C.values,M.values||{}),loc:C.loc.clone(M.loc),conversionAccuracy:M.conversionAccuracy||C.conversionAccuracy};return new hn(b)}function dn(C,M,I,b,R){var F=C[R][I],$=M[I]/F,ae=Math.sign($)!==Math.sign(b[R])&&0!==b[R]&&Math.abs($)<=1?function Ge(C){return C<0?Math.floor(C):Math.ceil(C)}($):Math.trunc($);b[R]+=ae,M[I]-=ae*F}function yu(C,M){cd.reduce(function(I,b){return Kt(M[b])?I:(I&&dn(C,M,I,M,b),b)},null)}var hn=function(){function C(I){var b="longterm"===I.conversionAccuracy||!1;this.values=I.values,this.loc=I.loc||_i.create(),this.conversionAccuracy=b?"longterm":"casual",this.invalid=I.invalid||null,this.matrix=b?_u:Za,this.isLuxonDuration=!0}C.fromMillis=function(b,R){return C.fromObject(Object.assign({milliseconds:b},R))},C.fromObject=function(b){if(null==b||"object"!=typeof b)throw new Qe("Duration.fromObject: argument expected to be an object, got "+(null===b?"null":typeof b));return new C({values:ui(b,C.normalizeUnit,["locale","numberingSystem","conversionAccuracy","zone"]),loc:_i.fromObject(b),conversionAccuracy:b.conversionAccuracy})},C.fromISO=function(b,R){var F=function xr(C){return Tl(C,[Sl,Wa])}(b),$=F[0];if($){var Q=Object.assign($,R);return C.fromObject(Q)}return C.invalid("unparsable",'the input "'+b+"\" can't be parsed as ISO 8601")},C.invalid=function(b,R){if(void 0===R&&(R=null),!b)throw new Qe("need to specify a reason the Duration is invalid");var F=b instanceof Ar?b:new Ar(b,R);if(Qn.throwOnInvalid)throw new Re(F);return new C({invalid:F})},C.normalizeUnit=function(b){var R={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[b&&b.toLowerCase()];if(!R)throw new gt(b);return R},C.isDuration=function(b){return b&&b.isLuxonDuration||!1};var M=C.prototype;return M.toFormat=function(b,R){void 0===R&&(R={});var F=Object.assign({},R,{floor:!1!==R.round&&!1!==R.floor});return this.isValid?qn.create(this.loc,F).formatDurationFromString(this,b):"Invalid Duration"},M.toObject=function(b){if(void 0===b&&(b={}),!this.isValid)return{};var R=Object.assign({},this.values);return b.includeConfig&&(R.conversionAccuracy=this.conversionAccuracy,R.numberingSystem=this.loc.numberingSystem,R.locale=this.loc.locale),R},M.toISO=function(){if(!this.isValid)return null;var b="P";return 0!==this.years&&(b+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(b+=this.months+3*this.quarters+"M"),0!==this.weeks&&(b+=this.weeks+"W"),0!==this.days&&(b+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(b+="T"),0!==this.hours&&(b+=this.hours+"H"),0!==this.minutes&&(b+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(b+=sn(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===b&&(b+="T0S"),b},M.toJSON=function(){return this.toISO()},M.toString=function(){return this.toISO()},M.valueOf=function(){return this.as("milliseconds")},M.plus=function(b){if(!this.isValid)return this;for(var Q,R=Ls(b),F={},$=st(ys);!(Q=$()).done;){var ae=Q.value;(ri(R.values,ae)||ri(this.values,ae))&&(F[ae]=R.get(ae)+this.get(ae))}return vs(this,{values:F},!0)},M.minus=function(b){if(!this.isValid)return this;var R=Ls(b);return this.plus(R.negate())},M.mapUnits=function(b){if(!this.isValid)return this;for(var R={},F=0,$=Object.keys(this.values);F<$.length;F++){var Q=$[F];R[Q]=Pt(b(this.values[Q],Q))}return vs(this,{values:R},!0)},M.get=function(b){return this[C.normalizeUnit(b)]},M.set=function(b){return this.isValid?vs(this,{values:Object.assign(this.values,ui(b,C.normalizeUnit,[]))}):this},M.reconfigure=function(b){var R=void 0===b?{}:b,Q=R.conversionAccuracy,Se={loc:this.loc.clone({locale:R.locale,numberingSystem:R.numberingSystem})};return Q&&(Se.conversionAccuracy=Q),vs(this,Se)},M.as=function(b){return this.isValid?this.shiftTo(b).get(b):NaN},M.normalize=function(){if(!this.isValid)return this;var b=this.toObject();return yu(this.matrix,b),vs(this,{values:b},!0)},M.shiftTo=function(){for(var b=arguments.length,R=new Array(b),F=0;F<b;F++)R[F]=arguments[F];if(!this.isValid)return this;if(0===R.length)return this;R=R.map(function(Gt){return C.normalizeUnit(Gt)});var Se,$={},Q={},ae=this.toObject();yu(this.matrix,ae);for(var Ze,rt=st(ys);!(Ze=rt()).done;){var ot=Ze.value;if(R.indexOf(ot)>=0){Se=ot;var wt=0;for(var gn in Q)wt+=this.matrix[gn][ot]*Q[gn],Q[gn]=0;vi(ae[ot])&&(wt+=ae[ot]);var en=Math.trunc(wt);for(var _n in $[ot]=en,Q[ot]=wt-en,ae)ys.indexOf(_n)>ys.indexOf(ot)&&dn(this.matrix,ae,_n,$,ot)}else vi(ae[ot])&&(Q[ot]=ae[ot])}for(var jt in Q)0!==Q[jt]&&($[Se]+=jt===Se?Q[jt]:Q[jt]/this.matrix[Se][jt]);return vs(this,{values:$},!0).normalize()},M.negate=function(){if(!this.isValid)return this;for(var b={},R=0,F=Object.keys(this.values);R<F.length;R++){var $=F[R];b[$]=-this.values[$]}return vs(this,{values:b},!0)},M.equals=function(b){if(!this.isValid||!b.isValid||!this.loc.equals(b.loc))return!1;for(var F,R=st(ys);!(F=R()).done;){var $=F.value;if(this.values[$]!==b.values[$])return!1}return!0},J(C,[{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"years",get:function(){return this.isValid?this.values.years||0:NaN}},{key:"quarters",get:function(){return this.isValid?this.values.quarters||0:NaN}},{key:"months",get:function(){return this.isValid?this.values.months||0:NaN}},{key:"weeks",get:function(){return this.isValid?this.values.weeks||0:NaN}},{key:"days",get:function(){return this.isValid?this.values.days||0:NaN}},{key:"hours",get:function(){return this.isValid?this.values.hours||0:NaN}},{key:"minutes",get:function(){return this.isValid?this.values.minutes||0:NaN}},{key:"seconds",get:function(){return this.isValid?this.values.seconds||0:NaN}},{key:"milliseconds",get:function(){return this.isValid?this.values.milliseconds||0:NaN}},{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),C}();function Ls(C){if(vi(C))return hn.fromMillis(C);if(hn.isDuration(C))return C;if("object"==typeof C)return hn.fromObject(C);throw new Qe("Unknown duration argument "+C+" of type "+typeof C)}var ss="Invalid Interval",Qo=function(){function C(I){this.s=I.start,this.e=I.end,this.invalid=I.invalid||null,this.isLuxonInterval=!0}C.invalid=function(b,R){if(void 0===R&&(R=null),!b)throw new Qe("need to specify a reason the Interval is invalid");var F=b instanceof Ar?b:new Ar(b,R);if(Qn.throwOnInvalid)throw new Xe(F);return new C({invalid:F})},C.fromDateTimes=function(b,R){var F=Xn(b),$=Xn(R),Q=function bs(C,M){return C&&C.isValid?M&&M.isValid?M<C?Qo.invalid("end before start","The end of an interval must be after its start, but you had start="+C.toISO()+" and end="+M.toISO()):null:Qo.invalid("missing or invalid end"):Qo.invalid("missing or invalid start")}(F,$);return null==Q?new C({start:F,end:$}):Q},C.after=function(b,R){var F=Ls(R),$=Xn(b);return C.fromDateTimes($,$.plus(F))},C.before=function(b,R){var F=Ls(R),$=Xn(b);return C.fromDateTimes($.minus(F),$)},C.fromISO=function(b,R){var F=(b||"").split("/",2),$=F[0],Q=F[1];if($&&Q){var ae=vn.fromISO($,R),Se=vn.fromISO(Q,R);if(ae.isValid&&Se.isValid)return C.fromDateTimes(ae,Se);if(ae.isValid){var rt=hn.fromISO(Q,R);if(rt.isValid)return C.after(ae,rt)}else if(Se.isValid){var Ze=hn.fromISO($,R);if(Ze.isValid)return C.before(Se,Ze)}}return C.invalid("unparsable",'the input "'+b+"\" can't be parsed as ISO 8601")},C.isInterval=function(b){return b&&b.isLuxonInterval||!1};var M=C.prototype;return M.length=function(b){return void 0===b&&(b="milliseconds"),this.isValid?this.toDuration.apply(this,[b]).get(b):NaN},M.count=function(b){if(void 0===b&&(b="milliseconds"),!this.isValid)return NaN;var R=this.start.startOf(b),F=this.end.startOf(b);return Math.floor(F.diff(R,b).get(b))+1},M.hasSame=function(b){return!!this.isValid&&this.e.minus(1).hasSame(this.s,b)},M.isEmpty=function(){return this.s.valueOf()===this.e.valueOf()},M.isAfter=function(b){return!!this.isValid&&this.s>b},M.isBefore=function(b){return!!this.isValid&&this.e<=b},M.contains=function(b){return!!this.isValid&&this.s<=b&&this.e>b},M.set=function(b){var R=void 0===b?{}:b;return this.isValid?C.fromDateTimes(R.start||this.s,R.end||this.e):this},M.splitAt=function(){var b=this;if(!this.isValid)return[];for(var R=arguments.length,F=new Array(R),$=0;$<R;$++)F[$]=arguments[$];for(var Q=F.map(Xn).filter(function(wt){return b.contains(wt)}).sort(),ae=[],Se=this.s,rt=0;Se<this.e;){var Ze=Q[rt]||this.e,ot=+Ze>+this.e?this.e:Ze;ae.push(C.fromDateTimes(Se,ot)),Se=ot,rt+=1}return ae},M.splitBy=function(b){var R=Ls(b);if(!this.isValid||!R.isValid||0===R.as("milliseconds"))return[];for(var $,Q,F=this.s,ae=[];F<this.e;)$=F.plus(R),ae.push(C.fromDateTimes(F,Q=+$>+this.e?this.e:$)),F=Q;return ae},M.divideEqually=function(b){return this.isValid?this.splitBy(this.length()/b).slice(0,b):[]},M.overlaps=function(b){return this.e>b.s&&this.s<b.e},M.abutsStart=function(b){return!!this.isValid&&+this.e==+b.s},M.abutsEnd=function(b){return!!this.isValid&&+b.e==+this.s},M.engulfs=function(b){return!!this.isValid&&this.s<=b.s&&this.e>=b.e},M.equals=function(b){return!(!this.isValid||!b.isValid)&&this.s.equals(b.s)&&this.e.equals(b.e)},M.intersection=function(b){if(!this.isValid)return this;var R=this.s>b.s?this.s:b.s,F=this.e<b.e?this.e:b.e;return R>F?null:C.fromDateTimes(R,F)},M.union=function(b){return this.isValid?C.fromDateTimes(this.s<b.s?this.s:b.s,this.e>b.e?this.e:b.e):this},C.merge=function(b){var R=b.sort(function(Q,ae){return Q.s-ae.s}).reduce(function(Q,ae){var Se=Q[0],rt=Q[1];return rt?rt.overlaps(ae)||rt.abutsStart(ae)?[Se,rt.union(ae)]:[Se.concat([rt]),ae]:[Se,ae]},[[],null]),F=R[0],$=R[1];return $&&F.push($),F},C.xor=function(b){for(var R,ot,F=null,$=0,Q=[],ae=b.map(function(gn){return[{time:gn.s,type:"s"},{time:gn.e,type:"e"}]}),Ze=st((R=Array.prototype).concat.apply(R,ae).sort(function(gn,en){return gn.time-en.time}));!(ot=Ze()).done;){var wt=ot.value;1===($+="s"===wt.type?1:-1)?F=wt.time:(F&&+F!=+wt.time&&Q.push(C.fromDateTimes(F,wt.time)),F=null)}return C.merge(Q)},M.difference=function(){for(var b=this,R=arguments.length,F=new Array(R),$=0;$<R;$++)F[$]=arguments[$];return C.xor([this].concat(F)).map(function(Q){return b.intersection(Q)}).filter(function(Q){return Q&&!Q.isEmpty()})},M.toString=function(){return this.isValid?"["+this.s.toISO()+" \u2013 "+this.e.toISO()+")":ss},M.toISO=function(b){return this.isValid?this.s.toISO(b)+"/"+this.e.toISO(b):ss},M.toISODate=function(){return this.isValid?this.s.toISODate()+"/"+this.e.toISODate():ss},M.toISOTime=function(b){return this.isValid?this.s.toISOTime(b)+"/"+this.e.toISOTime(b):ss},M.toFormat=function(b,R){var $=(void 0===R?{}:R).separator,Q=void 0===$?" \u2013 ":$;return this.isValid?""+this.s.toFormat(b)+Q+this.e.toFormat(b):ss},M.toDuration=function(b,R){return this.isValid?this.e.diff(this.s,b,R):hn.invalid(this.invalidReason)},M.mapEndpoints=function(b){return C.fromDateTimes(b(this.s),b(this.e))},J(C,[{key:"start",get:function(){return this.isValid?this.s:null}},{key:"end",get:function(){return this.isValid?this.e:null}},{key:"isValid",get:function(){return null===this.invalidReason}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),C}(),oo=function(){function C(){}return C.hasDST=function(I){void 0===I&&(I=Qn.defaultZone);var b=vn.local().setZone(I).set({month:12});return!I.universal&&b.offset!==b.set({month:6}).offset},C.isValidIANAZone=function(I){return hr.isValidSpecifier(I)&&hr.isValidZone(I)},C.normalizeZone=function(I){return eo(I,Qn.defaultZone)},C.months=function(I,b){void 0===I&&(I="long");var R=void 0===b?{}:b,F=R.locale,Q=R.numberingSystem,Se=R.outputCalendar;return _i.create(void 0===F?null:F,void 0===Q?null:Q,void 0===Se?"gregory":Se).months(I)},C.monthsFormat=function(I,b){void 0===I&&(I="long");var R=void 0===b?{}:b,F=R.locale,Q=R.numberingSystem,Se=R.outputCalendar;return _i.create(void 0===F?null:F,void 0===Q?null:Q,void 0===Se?"gregory":Se).months(I,!0)},C.weekdays=function(I,b){void 0===I&&(I="long");var R=void 0===b?{}:b,F=R.locale,Q=R.numberingSystem;return _i.create(void 0===F?null:F,void 0===Q?null:Q,null).weekdays(I)},C.weekdaysFormat=function(I,b){void 0===I&&(I="long");var R=void 0===b?{}:b,F=R.locale,Q=R.numberingSystem;return _i.create(void 0===F?null:F,void 0===Q?null:Q,null).weekdays(I,!0)},C.meridiems=function(I){var R=(void 0===I?{}:I).locale;return _i.create(void 0===R?null:R).meridiems()},C.eras=function(I,b){void 0===I&&(I="short");var F=(void 0===b?{}:b).locale;return _i.create(void 0===F?null:F,null,"gregory").eras(I)},C.features=function(){var I=!1,b=!1,R=!1,F=!1;if(ii()){I=!0,b=Sr(),F=kt();try{R="America/New_York"===new Intl.DateTimeFormat("en",{timeZone:"America/New_York"}).resolvedOptions().timeZone}catch($){R=!1}}return{intl:I,intlTokens:b,zones:R,relative:F}},C}();function ud(C,M){var I=function(F){return F.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()},b=I(M)-I(C);return Math.floor(hn.fromMillis(b).as("days"))}var Do={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},Ri={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Vs=Do.hanidec.replace(/[\[|\]]/g,"").split("");function nr(C,M){return void 0===M&&(M=""),new RegExp(""+Do[C.numberingSystem||"latn"]+M)}function Bn(C,M){return void 0===M&&(M=function(b){return b}),{regex:C,deser:function(b){return M(function xa(C){var M=parseInt(C,10);if(isNaN(M)){M="";for(var I=0;I<C.length;I++){var b=C.charCodeAt(I);if(-1!==C[I].search(Do.hanidec))M+=Vs.indexOf(C[I]);else for(var R in Ri){var F=Ri[R],$=F[0];b>=$&&b<=F[1]&&(M+=b-$)}}return parseInt(M,10)}return M}(b[0]))}}}function Ma(C){return C.replace(/\./,"\\.?")}function gc(C){return C.replace(/\./,"").toLowerCase()}function mr(C,M){return null===C?null:{regex:RegExp(C.map(Ma).join("|")),deser:function(b){var R=b[0];return C.findIndex(function(F){return gc(R)===gc(F)})+M}}}function Ml(C,M){return{regex:C,deser:function(b){return kn(b[1],b[2])},groups:M}}function ao(C){return{regex:C,deser:function(I){return I[0]}}}function dd(C){return C.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var yc={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}},bc=null;function Rl(C,M,I){var b=function Io(C,M){var I;return(I=Array.prototype).concat.apply(I,C.map(function(b){return function Xo(C,M){if(C.literal)return C;var I=qn.macroTokenToFormatOpts(C.val);if(!I)return C;var F=qn.create(M,I).formatDateTimeParts(function vu(){return bc||(bc=vn.fromMillis(1555555555555)),bc}()).map(function($){return function kl(C,M,I){var b=C.type;if("literal"===b)return{literal:!0,val:C.value};var $=yc[b];return"object"==typeof $&&($=$[I[b]]),$?{literal:!1,val:$}:void 0}($,0,I)});return F.includes(void 0)?C:F}(b,M)}))}(qn.parseFormat(I),C),R=b.map(function(_n){return function _c(C,M){var I=nr(M),b=nr(M,"{2}"),R=nr(M,"{3}"),F=nr(M,"{4}"),$=nr(M,"{6}"),Q=nr(M,"{1,2}"),ae=nr(M,"{1,3}"),Se=nr(M,"{1,6}"),rt=nr(M,"{1,9}"),Ze=nr(M,"{2,4}"),ot=nr(M,"{4,6}"),wt=function(jt){return{regex:RegExp(dd(jt.val)),deser:function(pi){return pi[0]},literal:!0}},en=function(jt){if(C.literal)return wt(jt);switch(jt.val){case"G":return mr(M.eras("short",!1),0);case"GG":return mr(M.eras("long",!1),0);case"y":return Bn(Se);case"yy":case"kk":return Bn(Ze,ts);case"yyyy":case"kkkk":return Bn(F);case"yyyyy":return Bn(ot);case"yyyyyy":return Bn($);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return Bn(Q);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return Bn(b);case"MMM":return mr(M.months("short",!0,!1),1);case"MMMM":return mr(M.months("long",!0,!1),1);case"LLL":return mr(M.months("short",!1,!1),1);case"LLLL":return mr(M.months("long",!1,!1),1);case"o":case"S":return Bn(ae);case"ooo":case"SSS":return Bn(R);case"u":return ao(rt);case"a":return mr(M.meridiems(),0);case"E":case"c":return Bn(I);case"EEE":return mr(M.weekdays("short",!1,!1),1);case"EEEE":return mr(M.weekdays("long",!1,!1),1);case"ccc":return mr(M.weekdays("short",!0,!1),1);case"cccc":return mr(M.weekdays("long",!0,!1),1);case"Z":case"ZZ":return Ml(new RegExp("([+-]"+Q.source+")(?::("+b.source+"))?"),2);case"ZZZ":return Ml(new RegExp("([+-]"+Q.source+")("+b.source+")?"),2);case"z":return ao(/[a-z_+-/]{1,256}?/i);default:return wt(jt)}}(C)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return en.token=C,en}(_n,C)}),F=R.find(function(_n){return _n.invalidReason});if(F)return{input:M,tokens:b,invalidReason:F.invalidReason};var $=function Ya(C){return["^"+C.map(function(I){return I.regex}).reduce(function(I,b){return I+"("+b.source+")"},"")+"$",C]}(R),ae=$[1],Se=RegExp($[0],"i"),rt=function Jo(C,M,I){var b=C.match(M);if(b){var R={},F=1;for(var $ in I)if(ri(I,$)){var Q=I[$],ae=Q.groups?Q.groups+1:1;!Q.literal&&Q.token&&(R[Q.token.val[0]]=Q.deser(b.slice(F,F+ae))),F+=ae}return[b,R]}return[b,{}]}(M,Se,ae),Ze=rt[0],ot=rt[1],wt=ot?function vc(C){var I;return I=Kt(C.Z)?Kt(C.z)?null:hr.create(C.z):new er(C.Z),Kt(C.q)||(C.M=3*(C.q-1)+1),Kt(C.h)||(C.h<12&&1===C.a?C.h+=12:12===C.h&&0===C.a&&(C.h=0)),0===C.G&&C.y&&(C.y=-C.y),Kt(C.u)||(C.S=Os(C.u)),[Object.keys(C).reduce(function(R,F){var $=function(F){switch(F){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}}(F);return $&&(R[$]=C[F]),R},{}),I]}(ot):[null,null],gn=wt[0],en=wt[1];if(ri(ot,"a")&&ri(ot,"H"))throw new Ve("Can't include meridiem when specifying 24-hour format");return{input:M,tokens:b,regex:Se,rawMatches:Ze,matches:ot,result:gn,zone:en}}var lo=[0,31,59,90,120,151,181,212,243,273,304,334],Ei=[0,31,60,91,121,152,182,213,244,274,305,335];function Hr(C,M){return new Ar("unit out of range","you specified "+M+" (of type "+typeof M+") as a "+C+", which is invalid")}function _p(C,M,I){var b=new Date(Date.UTC(C,M-1,I)).getUTCDay();return 0===b?7:b}function yp(C,M,I){return I+(It(C)?Ei:lo)[M-1]}function Ol(C,M){var I=It(C)?Ei:lo,b=I.findIndex(function(F){return F<M});return{month:b+1,day:M-I[b]}}function Nl(C){var Q,M=C.year,I=C.month,b=C.day,R=yp(M,I,b),F=_p(M,I,b),$=Math.floor((R-F+10)/7);return $<1?$=cn(Q=M-1):$>cn(M)?(Q=M+1,$=1):Q=M,Object.assign({weekYear:Q,weekNumber:$,weekday:F},at(C))}function So(C){var Q,M=C.weekYear,I=C.weekNumber,b=C.weekday,R=_p(M,1,4),F=vt(M),$=7*I+b-R-3;$<1?$+=vt(Q=M-1):$>F?(Q=M+1,$-=vt(M)):Q=M;var ae=Ol(Q,$);return Object.assign({year:Q,month:ae.month,day:ae.day},at(C))}function ea(C){var M=C.year,R=yp(M,C.month,C.day);return Object.assign({year:M,ordinal:R},at(C))}function Pl(C){var M=C.year,b=Ol(M,C.ordinal);return Object.assign({year:M,month:b.month,day:b.day},at(C))}function wc(C){var M=Lr(C.year),I=Di(C.month,1,12),b=Di(C.day,1,Ji(C.year,C.month));return M?I?!b&&Hr("day",C.day):Hr("month",C.month):Hr("year",C.year)}function Cc(C){var M=C.hour,I=C.minute,b=C.second,R=C.millisecond,F=Di(M,0,23)||24===M&&0===I&&0===b&&0===R,$=Di(I,0,59),Q=Di(b,0,59),ae=Di(R,0,999);return F?$?Q?!ae&&Hr("millisecond",R):Hr("second",b):Hr("minute",I):Hr("hour",M)}var ws="Invalid DateTime",Ka=864e13;function Ao(C){return new Ar("unsupported zone",'the zone "'+C.name+'" is not supported')}function Ec(C){return null===C.weekData&&(C.weekData=Nl(C.c)),C.weekData}function jr(C,M){var I={ts:C.ts,zone:C.zone,c:C.c,o:C.o,loc:C.loc,invalid:C.invalid};return new vn(Object.assign({},I,M,{old:I}))}function Ll(C,M,I){var b=C-60*M*1e3,R=I.offset(b);if(M===R)return[b,M];var F=I.offset(b-=60*(R-M)*1e3);return R===F?[b,R]:[C-60*Math.min(R,F)*1e3,Math.max(R,F)]}function Tc(C,M){var I=new Date(C+=60*M*1e3);return{year:I.getUTCFullYear(),month:I.getUTCMonth()+1,day:I.getUTCDate(),hour:I.getUTCHours(),minute:I.getUTCMinutes(),second:I.getUTCSeconds(),millisecond:I.getUTCMilliseconds()}}function bu(C,M,I){return Ll(es(C),M,I)}function wu(C,M){var I,b=Object.keys(M.values);-1===b.indexOf("milliseconds")&&b.push("milliseconds"),M=(I=M).shiftTo.apply(I,b);var R=C.o,F=C.c.year+M.years,$=C.c.month+M.months+3*M.quarters,Q=Object.assign({},C.c,{year:F,month:$,day:Math.min(C.c.day,Ji(F,$))+M.days+7*M.weeks}),ae=hn.fromObject({hours:M.hours,minutes:M.minutes,seconds:M.seconds,milliseconds:M.milliseconds}).as("milliseconds"),rt=Ll(es(Q),R,C.zone),Ze=rt[0],ot=rt[1];return 0!==ae&&(ot=C.zone.offset(Ze+=ae)),{ts:Ze,o:ot}}function H(C,M,I,b,R){var F=I.setZone,$=I.zone;if(C&&0!==Object.keys(C).length){var ae=vn.fromObject(Object.assign(C,I,{zone:M||$,setZone:void 0}));return F?ae:ae.setZone($)}return vn.invalid(new Ar("unparsable",'the input "'+R+"\" can't be parsed as "+b))}function oi(C,M,I){return void 0===I&&(I=!0),C.isValid?qn.create(_i.create("en-US"),{allowZ:I,forceSimple:!0}).formatDateTimeFromString(C,M):null}function Gr(C,M){var I=M.suppressSeconds,R=M.suppressMilliseconds,$=M.includeOffset,Q=M.includeZone,ae=void 0!==Q&&Q,Se=M.spaceZone,Ze=M.format,ot=void 0===Ze?"extended":Ze,wt="basic"===ot?"HHmm":"HH:mm";return(!(void 0!==I&&I)||0!==C.second||0!==C.millisecond)&&(wt+="basic"===ot?"ss":":ss",(!(void 0!==R&&R)||0!==C.millisecond)&&(wt+=".SSS")),(ae||$)&&void 0!==Se&&Se&&(wt+=" "),ae?wt+="z":$&&(wt+="basic"===ot?"ZZZ":"ZZ"),oi(C,wt)}var kr={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Jt={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},xo={ordinal:1,hour:0,minute:0,second:0,millisecond:0},$t=["year","month","day","hour","minute","second","millisecond"],bt=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],ji=["year","ordinal","hour","minute","second","millisecond"];function Rr(C){var M={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[C.toLowerCase()];if(!M)throw new gt(C);return M}function Bs(C,M){for(var b,I=st($t);!(b=I()).done;){var R=b.value;Kt(C[R])&&(C[R]=kr[R])}var F=wc(C)||Cc(C);if(F)return vn.invalid(F);var $=Qn.now(),ae=bu(C,M.offset($),M);return new vn({ts:ae[0],zone:M,o:ae[1]})}function Or(C,M,I){var b=!!Kt(I.round)||I.round,R=function(Ze,ot){return Ze=sn(Ze,b||I.calendary?0:2,!0),M.loc.clone(I).relFormatter(I).format(Ze,ot)},F=function(Ze){return I.calendary?M.hasSame(C,Ze)?0:M.startOf(Ze).diff(C.startOf(Ze),Ze).get(Ze):M.diff(C,Ze).get(Ze)};if(I.unit)return R(F(I.unit),I.unit);for(var Q,$=st(I.units);!(Q=$()).done;){var ae=Q.value,Se=F(ae);if(Math.abs(Se)>=1)return R(Se,ae)}return R(0,I.units[I.units.length-1])}var vn=function(){function C(I){var b=I.zone||Qn.defaultZone,R=I.invalid||(Number.isNaN(I.ts)?new Ar("invalid input"):null)||(b.isValid?null:Ao(b));this.ts=Kt(I.ts)?Qn.now():I.ts;var F=null,$=null;if(!R)if(I.old&&I.old.ts===this.ts&&I.old.zone.equals(b)){var ae=[I.old.c,I.old.o];F=ae[0],$=ae[1]}else{var Se=b.offset(this.ts);F=Tc(this.ts,Se),F=(R=Number.isNaN(F.year)?new Ar("invalid input"):null)?null:F,$=R?null:Se}this._zone=b,this.loc=I.loc||_i.create(),this.invalid=R,this.weekData=null,this.c=F,this.o=$,this.isLuxonDateTime=!0}C.local=function(b,R,F,$,Q,ae,Se){return Kt(b)?new C({ts:Qn.now()}):Bs({year:b,month:R,day:F,hour:$,minute:Q,second:ae,millisecond:Se},Qn.defaultZone)},C.utc=function(b,R,F,$,Q,ae,Se){return Kt(b)?new C({ts:Qn.now(),zone:er.utcInstance}):Bs({year:b,month:R,day:F,hour:$,minute:Q,second:ae,millisecond:Se},er.utcInstance)},C.fromJSDate=function(b,R){void 0===R&&(R={});var F=function qi(C){return"[object Date]"===Object.prototype.toString.call(C)}(b)?b.valueOf():NaN;if(Number.isNaN(F))return C.invalid("invalid input");var $=eo(R.zone,Qn.defaultZone);return $.isValid?new C({ts:F,zone:$,loc:_i.fromObject(R)}):C.invalid(Ao($))},C.fromMillis=function(b,R){if(void 0===R&&(R={}),vi(b))return b<-Ka||b>Ka?C.invalid("Timestamp out of range"):new C({ts:b,zone:eo(R.zone,Qn.defaultZone),loc:_i.fromObject(R)});throw new Qe("fromMillis requires a numerical input, but received a "+typeof b+" with value "+b)},C.fromSeconds=function(b,R){if(void 0===R&&(R={}),vi(b))return new C({ts:1e3*b,zone:eo(R.zone,Qn.defaultZone),loc:_i.fromObject(R)});throw new Qe("fromSeconds requires a numerical input")},C.fromObject=function(b){var R=eo(b.zone,Qn.defaultZone);if(!R.isValid)return C.invalid(Ao(R));var F=Qn.now(),$=R.offset(F),Q=ui(b,Rr,["zone","locale","outputCalendar","numberingSystem"]),ae=!Kt(Q.ordinal),Se=!Kt(Q.year),rt=!Kt(Q.month)||!Kt(Q.day),Ze=Se||rt,ot=Q.weekYear||Q.weekNumber,wt=_i.fromObject(b);if((Ze||ae)&&ot)throw new Ve("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(rt&&ae)throw new Ve("Can't mix ordinal dates with month/day");var en,_n,gn=ot||Q.weekday&&!Ze,jt=Tc(F,$);gn?(en=bt,_n=Jt,jt=Nl(jt)):ae?(en=ji,_n=xo,jt=ea(jt)):(en=$t,_n=kr);for(var os,Gt=!1,pi=st(en);!(os=pi()).done;){var Us=os.value;Kt(Q[Us])?Q[Us]=Gt?_n[Us]:jt[Us]:Gt=!0}var Cu=gn?function Fl(C){var M=Lr(C.weekYear),I=Di(C.weekNumber,1,cn(C.weekYear)),b=Di(C.weekday,1,7);return M?I?!b&&Hr("weekday",C.weekday):Hr("week",C.week):Hr("weekYear",C.weekYear)}(Q):ae?function Oi(C){var M=Lr(C.year),I=Di(C.ordinal,1,vt(C.year));return M?!I&&Hr("ordinal",C.ordinal):Hr("year",C.year)}(Q):wc(Q),co=Cu||Cc(Q);if(co)return C.invalid(co);var Mo=bu(gn?So(Q):ae?Pl(Q):Q,$,R),Hs=new C({ts:Mo[0],zone:R,o:Mo[1],loc:wt});return Q.weekday&&Ze&&b.weekday!==Hs.weekday?C.invalid("mismatched weekday","you can't specify both a weekday of "+Q.weekday+" and a date of "+Hs.toISO()):Hs},C.fromISO=function(b,R){void 0===R&&(R={});var F=function ki(C){return Tl(C,[si,pc],[Zo,Ia],[Yo,To],[Jn,tr])}(b);return H(F[0],F[1],R,"ISO 8601",b)},C.fromRFC2822=function(b,R){void 0===R&&(R={});var F=function xl(C){return Tl(function hc(C){return C.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(C),[xh,Da])}(b);return H(F[0],F[1],R,"RFC 2822",b)},C.fromHTTP=function(b,R){void 0===R&&(R={});var F=function rs(C){return Tl(C,[gu,Eo],[Al,Eo],[Co,fc])}(b);return H(F[0],F[1],R,"HTTP",R)},C.fromFormat=function(b,R,F){if(void 0===F&&(F={}),Kt(b)||Kt(R))throw new Qe("fromFormat requires an input string and a format");var Q=F.locale,Se=F.numberingSystem,ot=function Mr(C,M,I){var b=Rl(C,M,I);return[b.result,b.zone,b.invalidReason]}(_i.fromOpts({locale:void 0===Q?null:Q,numberingSystem:void 0===Se?null:Se,defaultToEN:!0}),b,R),wt=ot[0],gn=ot[1],en=ot[2];return en?C.invalid(en):H(wt,gn,F,"format "+R,b)},C.fromString=function(b,R,F){return void 0===F&&(F={}),C.fromFormat(b,R,F)},C.fromSQL=function(b,R){void 0===R&&(R={});var F=function Fs(C){return Tl(C,[ro,Sa],[Ko,gs])}(b);return H(F[0],F[1],R,"SQL",b)},C.invalid=function(b,R){if(void 0===R&&(R=null),!b)throw new Qe("need to specify a reason the DateTime is invalid");var F=b instanceof Ar?b:new Ar(b,R);if(Qn.throwOnInvalid)throw new Ke(F);return new C({invalid:F})},C.isDateTime=function(b){return b&&b.isLuxonDateTime||!1};var M=C.prototype;return M.get=function(b){return this[b]},M.resolvedLocaleOpts=function(b){void 0===b&&(b={});var R=qn.create(this.loc.clone(b),b).resolvedOptions(this);return{locale:R.locale,numberingSystem:R.numberingSystem,outputCalendar:R.calendar}},M.toUTC=function(b,R){return void 0===b&&(b=0),void 0===R&&(R={}),this.setZone(er.instance(b),R)},M.toLocal=function(){return this.setZone(Qn.defaultZone)},M.setZone=function(b,R){var F=void 0===R?{}:R,$=F.keepLocalTime,Q=void 0!==$&&$,ae=F.keepCalendarTime,Se=void 0!==ae&&ae;if((b=eo(b,Qn.defaultZone)).equals(this.zone))return this;if(b.isValid){var rt=this.ts;if(Q||Se){var Ze=b.offset(this.ts);rt=bu(this.toObject(),Ze,b)[0]}return jr(this,{ts:rt,zone:b})}return C.invalid(Ao(b))},M.reconfigure=function(b){var R=void 0===b?{}:b;return jr(this,{loc:this.loc.clone({locale:R.locale,numberingSystem:R.numberingSystem,outputCalendar:R.outputCalendar})})},M.setLocale=function(b){return this.reconfigure({locale:b})},M.set=function(b){if(!this.isValid)return this;var $,R=ui(b,Rr,[]);Kt(R.weekYear)&&Kt(R.weekNumber)&&Kt(R.weekday)?Kt(R.ordinal)?($=Object.assign(this.toObject(),R),Kt(R.day)&&($.day=Math.min(Ji($.year,$.month),$.day))):$=Pl(Object.assign(ea(this.c),R)):$=So(Object.assign(Nl(this.c),R));var Q=bu($,this.o,this.zone);return jr(this,{ts:Q[0],o:Q[1]})},M.plus=function(b){return this.isValid?jr(this,wu(this,Ls(b))):this},M.minus=function(b){return this.isValid?jr(this,wu(this,Ls(b).negate())):this},M.startOf=function(b){if(!this.isValid)return this;var R={},F=hn.normalizeUnit(b);switch(F){case"years":R.month=1;case"quarters":case"months":R.day=1;case"weeks":case"days":R.hour=0;case"hours":R.minute=0;case"minutes":R.second=0;case"seconds":R.millisecond=0}if("weeks"===F&&(R.weekday=1),"quarters"===F){var $=Math.ceil(this.month/3);R.month=3*($-1)+1}return this.set(R)},M.endOf=function(b){var R;return this.isValid?this.plus((R={},R[b]=1,R)).startOf(b).minus(1):this},M.toFormat=function(b,R){return void 0===R&&(R={}),this.isValid?qn.create(this.loc.redefaultToEN(R)).formatDateTimeFromString(this,b):ws},M.toLocaleString=function(b){return void 0===b&&(b=me),this.isValid?qn.create(this.loc.clone(b),b).formatDateTime(this):ws},M.toLocaleParts=function(b){return void 0===b&&(b={}),this.isValid?qn.create(this.loc.clone(b),b).formatDateTimeParts(this):[]},M.toISO=function(b){return void 0===b&&(b={}),this.isValid?this.toISODate(b)+"T"+this.toISOTime(b):null},M.toISODate=function(b){var F=(void 0===b?{}:b).format,Q="basic"===(void 0===F?"extended":F)?"yyyyMMdd":"yyyy-MM-dd";return this.year>9999&&(Q="+"+Q),oi(this,Q)},M.toISOWeekDate=function(){return oi(this,"kkkk-'W'WW-c")},M.toISOTime=function(b){var R=void 0===b?{}:b,F=R.suppressMilliseconds,Q=R.suppressSeconds,Se=R.includeOffset,Ze=R.format;return Gr(this,{suppressSeconds:void 0!==Q&&Q,suppressMilliseconds:void 0!==F&&F,includeOffset:void 0===Se||Se,format:void 0===Ze?"extended":Ze})},M.toRFC2822=function(){return oi(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)},M.toHTTP=function(){return oi(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")},M.toSQLDate=function(){return oi(this,"yyyy-MM-dd")},M.toSQLTime=function(b){var R=void 0===b?{}:b,F=R.includeOffset,Q=R.includeZone;return Gr(this,{includeOffset:void 0===F||F,includeZone:void 0!==Q&&Q,spaceZone:!0})},M.toSQL=function(b){return void 0===b&&(b={}),this.isValid?this.toSQLDate()+" "+this.toSQLTime(b):null},M.toString=function(){return this.isValid?this.toISO():ws},M.valueOf=function(){return this.toMillis()},M.toMillis=function(){return this.isValid?this.ts:NaN},M.toSeconds=function(){return this.isValid?this.ts/1e3:NaN},M.toJSON=function(){return this.toISO()},M.toBSON=function(){return this.toJSDate()},M.toObject=function(b){if(void 0===b&&(b={}),!this.isValid)return{};var R=Object.assign({},this.c);return b.includeConfig&&(R.outputCalendar=this.outputCalendar,R.numberingSystem=this.loc.numberingSystem,R.locale=this.loc.locale),R},M.toJSDate=function(){return new Date(this.isValid?this.ts:NaN)},M.diff=function(b,R,F){if(void 0===R&&(R="milliseconds"),void 0===F&&(F={}),!this.isValid||!b.isValid)return hn.invalid(this.invalid||b.invalid,"created by diffing an invalid DateTime");var $=Object.assign({locale:this.locale,numberingSystem:this.numberingSystem},F),Q=function ur(C){return Array.isArray(C)?C:[C]}(R).map(hn.normalizeUnit),ae=b.valueOf()>this.valueOf(),Ze=function Aa(C,M,I,b){var Ze,R=function mc(C,M,I){for(var F,$,R={},Q=0,ae=[["years",function(en,_n){return _n.year-en.year}],["months",function(en,_n){return _n.month-en.month+12*(_n.year-en.year)}],["weeks",function(en,_n){var jt=ud(en,_n);return(jt-jt%7)/7}],["days",ud]];Q<ae.length;Q++){var Se=ae[Q],rt=Se[0],Ze=Se[1];if(I.indexOf(rt)>=0){var ot;F=rt;var gn,wt=Ze(C,M);($=C.plus(((ot={})[rt]=wt,ot)))>M?(C=C.plus(((gn={})[rt]=wt-1,gn)),wt-=1):C=$,R[rt]=wt}}return[C,R,$,F]}(C,M,I),F=R[0],$=R[1],Q=R[2],ae=R[3],Se=M-F,rt=I.filter(function(gn){return["hours","minutes","seconds","milliseconds"].indexOf(gn)>=0});0===rt.length&&(Q<M&&(Q=F.plus(((Ze={})[ae]=1,Ze))),Q!==F&&($[ae]=($[ae]||0)+Se/(Q-F)));var wt,ot=hn.fromObject(Object.assign($,b));return rt.length>0?(wt=hn.fromMillis(Se,b)).shiftTo.apply(wt,rt).plus(ot):ot}(ae?this:b,ae?b:this,Q,$);return ae?Ze.negate():Ze},M.diffNow=function(b,R){return void 0===b&&(b="milliseconds"),void 0===R&&(R={}),this.diff(C.local(),b,R)},M.until=function(b){return this.isValid?Qo.fromDateTimes(this,b):this},M.hasSame=function(b,R){if(!this.isValid)return!1;if("millisecond"===R)return this.valueOf()===b.valueOf();var F=b.valueOf();return this.startOf(R)<=F&&F<=this.endOf(R)},M.equals=function(b){return this.isValid&&b.isValid&&this.valueOf()===b.valueOf()&&this.zone.equals(b.zone)&&this.loc.equals(b.loc)},M.toRelative=function(b){if(void 0===b&&(b={}),!this.isValid)return null;var R=b.base||C.fromObject({zone:this.zone});return Or(R,this.plus(b.padding?this<R?-b.padding:b.padding:0),Object.assign(b,{numeric:"always",units:["years","months","days","hours","minutes","seconds"]}))},M.toRelativeCalendar=function(b){return void 0===b&&(b={}),this.isValid?Or(b.base||C.fromObject({zone:this.zone}),this,Object.assign(b,{numeric:"auto",units:["years","months","days"],calendary:!0})):null},C.min=function(){for(var b=arguments.length,R=new Array(b),F=0;F<b;F++)R[F]=arguments[F];if(!R.every(C.isDateTime))throw new Qe("min requires all arguments be DateTimes");return bi(R,function($){return $.valueOf()},Math.min)},C.max=function(){for(var b=arguments.length,R=new Array(b),F=0;F<b;F++)R[F]=arguments[F];if(!R.every(C.isDateTime))throw new Qe("max requires all arguments be DateTimes");return bi(R,function($){return $.valueOf()},Math.max)},C.fromFormatExplain=function(b,R,F){void 0===F&&(F={});var Q=F.locale,Se=F.numberingSystem;return Rl(_i.fromOpts({locale:void 0===Q?null:Q,numberingSystem:void 0===Se?null:Se,defaultToEN:!0}),b,R)},C.fromStringExplain=function(b,R,F){return void 0===F&&(F={}),C.fromFormatExplain(b,R,F)},J(C,[{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"outputCalendar",get:function(){return this.isValid?this.loc.outputCalendar:null}},{key:"zone",get:function(){return this._zone}},{key:"zoneName",get:function(){return this.isValid?this.zone.name:null}},{key:"year",get:function(){return this.isValid?this.c.year:NaN}},{key:"quarter",get:function(){return this.isValid?Math.ceil(this.c.month/3):NaN}},{key:"month",get:function(){return this.isValid?this.c.month:NaN}},{key:"day",get:function(){return this.isValid?this.c.day:NaN}},{key:"hour",get:function(){return this.isValid?this.c.hour:NaN}},{key:"minute",get:function(){return this.isValid?this.c.minute:NaN}},{key:"second",get:function(){return this.isValid?this.c.second:NaN}},{key:"millisecond",get:function(){return this.isValid?this.c.millisecond:NaN}},{key:"weekYear",get:function(){return this.isValid?Ec(this).weekYear:NaN}},{key:"weekNumber",get:function(){return this.isValid?Ec(this).weekNumber:NaN}},{key:"weekday",get:function(){return this.isValid?Ec(this).weekday:NaN}},{key:"ordinal",get:function(){return this.isValid?ea(this.c).ordinal:NaN}},{key:"monthShort",get:function(){return this.isValid?oo.months("short",{locale:this.locale})[this.month-1]:null}},{key:"monthLong",get:function(){return this.isValid?oo.months("long",{locale:this.locale})[this.month-1]:null}},{key:"weekdayShort",get:function(){return this.isValid?oo.weekdays("short",{locale:this.locale})[this.weekday-1]:null}},{key:"weekdayLong",get:function(){return this.isValid?oo.weekdays("long",{locale:this.locale})[this.weekday-1]:null}},{key:"offset",get:function(){return this.isValid?+this.o:NaN}},{key:"offsetNameShort",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}},{key:"offsetNameLong",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}},{key:"isOffsetFixed",get:function(){return this.isValid?this.zone.universal:null}},{key:"isInDST",get:function(){return!this.isOffsetFixed&&(this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset)}},{key:"isInLeapYear",get:function(){return It(this.year)}},{key:"daysInMonth",get:function(){return Ji(this.year,this.month)}},{key:"daysInYear",get:function(){return this.isValid?vt(this.year):NaN}},{key:"weeksInWeekYear",get:function(){return this.isValid?cn(this.weekYear):NaN}}],[{key:"DATE_SHORT",get:function(){return me}},{key:"DATE_MED",get:function(){return ft}},{key:"DATE_FULL",get:function(){return ue}},{key:"DATE_HUGE",get:function(){return Ie}},{key:"TIME_SIMPLE",get:function(){return Te}},{key:"TIME_WITH_SECONDS",get:function(){return Ae}},{key:"TIME_WITH_SHORT_OFFSET",get:function(){return We}},{key:"TIME_WITH_LONG_OFFSET",get:function(){return be}},{key:"TIME_24_SIMPLE",get:function(){return Bt}},{key:"TIME_24_WITH_SECONDS",get:function(){return Sn}},{key:"TIME_24_WITH_SHORT_OFFSET",get:function(){return gi}},{key:"TIME_24_WITH_LONG_OFFSET",get:function(){return St}},{key:"DATETIME_SHORT",get:function(){return At}},{key:"DATETIME_SHORT_WITH_SECONDS",get:function(){return Hn}},{key:"DATETIME_MED",get:function(){return Vn}},{key:"DATETIME_MED_WITH_SECONDS",get:function(){return Ir}},{key:"DATETIME_MED_WITH_WEEKDAY",get:function(){return Mn}},{key:"DATETIME_FULL",get:function(){return Cn}},{key:"DATETIME_FULL_WITH_SECONDS",get:function(){return An}},{key:"DATETIME_HUGE",get:function(){return ni}},{key:"DATETIME_HUGE_WITH_SECONDS",get:function(){return xi}}]),C}();function Xn(C){if(vn.isDateTime(C))return C;if(C&&C.valueOf&&vi(C.valueOf()))return vn.fromJSDate(C);if(C&&"object"==typeof C)return vn.fromObject(C);throw new Qe("Unknown datetime argument: "+C+", of type "+typeof C)}Ue.ou=vn,Ue.kI=oo},8306:(Ot,Ue,G)=>{G.d(Ue,{y:()=>re});var a=G(930),J=G(727),U=G(8822),ye=G(4671);var fe=G(2416),Ee=G(576),Me=G(2806);let re=(()=>{class je{constructor(Xe){Xe&&(this._subscribe=Xe)}lift(Xe){const Re=new je;return Re.source=this,Re.operator=Xe,Re}subscribe(Xe,Re,Ve){const gt=function st(je){return je&&je instanceof a.Lv||function _e(je){return je&&(0,Ee.m)(je.next)&&(0,Ee.m)(je.error)&&(0,Ee.m)(je.complete)}(je)&&(0,J.Nn)(je)}(Xe)?Xe:new a.Hp(Xe,Re,Ve);return(0,Me.x)(()=>{const{operator:Qe,source:He}=this;gt.add(Qe?Qe.call(gt,He):He?this._subscribe(gt):this._trySubscribe(gt))}),gt}_trySubscribe(Xe){try{return this._subscribe(Xe)}catch(Re){Xe.error(Re)}}forEach(Xe,Re){return new(Re=ne(Re))((Ve,gt)=>{const Qe=new a.Hp({next:He=>{try{Xe(He)}catch(ce){gt(ce),Qe.unsubscribe()}},error:gt,complete:Ve});this.subscribe(Qe)})}_subscribe(Xe){var Re;return null===(Re=this.source)||void 0===Re?void 0:Re.subscribe(Xe)}[U.L](){return this}pipe(...Xe){return function Pe(je){return 0===je.length?ye.y:1===je.length?je[0]:function(Xe){return je.reduce((Re,Ve)=>Ve(Re),Xe)}}(Xe)(this)}toPromise(Xe){return new(Xe=ne(Xe))((Re,Ve)=>{let gt;this.subscribe(Qe=>gt=Qe,Qe=>Ve(Qe),()=>Re(gt))})}}return je.create=Ke=>new je(Ke),je})();function ne(je){var Ke;return null!==(Ke=null!=je?je:fe.v.Promise)&&void 0!==Ke?Ke:Promise}},7579:(Ot,Ue,G)=>{G.d(Ue,{x:()=>fe});var a=G(8306),J=G(727);const ye=(0,G(3888).d)(Me=>function(){Me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ge=G(8737),Pe=G(2806);let fe=(()=>{class Me extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ne){const _e=new Ee(this,this);return _e.operator=ne,_e}_throwIfClosed(){if(this.closed)throw new ye}next(ne){(0,Pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const _e of this.currentObservers)_e.next(ne)}})}error(ne){(0,Pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ne;const{observers:_e}=this;for(;_e.length;)_e.shift().error(ne)}})}complete(){(0,Pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ne}=this;for(;ne.length;)ne.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ne;return(null===(ne=this.observers)||void 0===ne?void 0:ne.length)>0}_trySubscribe(ne){return this._throwIfClosed(),super._trySubscribe(ne)}_subscribe(ne){return this._throwIfClosed(),this._checkFinalizedStatuses(ne),this._innerSubscribe(ne)}_innerSubscribe(ne){const{hasError:_e,isStopped:st,observers:je}=this;return _e||st?J.Lc:(this.currentObservers=null,je.push(ne),new J.w0(()=>{this.currentObservers=null,(0,ge.P)(je,ne)}))}_checkFinalizedStatuses(ne){const{hasError:_e,thrownError:st,isStopped:je}=this;_e?ne.error(st):je&&ne.complete()}asObservable(){const ne=new a.y;return ne.source=this,ne}}return Me.create=(re,ne)=>new Ee(re,ne),Me})();class Ee extends fe{constructor(re,ne){super(),this.destination=re,this.source=ne}next(re){var ne,_e;null===(_e=null===(ne=this.destination)||void 0===ne?void 0:ne.next)||void 0===_e||_e.call(ne,re)}error(re){var ne,_e;null===(_e=null===(ne=this.destination)||void 0===ne?void 0:ne.error)||void 0===_e||_e.call(ne,re)}complete(){var re,ne;null===(ne=null===(re=this.destination)||void 0===re?void 0:re.complete)||void 0===ne||ne.call(re)}_subscribe(re){var ne,_e;return null!==(_e=null===(ne=this.source)||void 0===ne?void 0:ne.subscribe(re))&&void 0!==_e?_e:J.Lc}}},930:(Ot,Ue,G)=>{G.d(Ue,{Hp:()=>Xe,Lv:()=>_e});var a=G(576),J=G(727),U=G(2416),ye=G(7849),ge=G(5032);const Pe=Me("C",void 0,void 0);function Me(He,ce,Oe){return{kind:He,value:ce,error:Oe}}var re=G(3410),ne=G(2806);class _e extends J.w0{constructor(ce){super(),this.isStopped=!1,ce?(this.destination=ce,(0,J.Nn)(ce)&&ce.add(this)):this.destination=Qe}static create(ce,Oe,it){return new Xe(ce,Oe,it)}next(ce){this.isStopped?gt(function Ee(He){return Me("N",He,void 0)}(ce),this):this._next(ce)}error(ce){this.isStopped?gt(function fe(He){return Me("E",void 0,He)}(ce),this):(this.isStopped=!0,this._error(ce))}complete(){this.isStopped?gt(Pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ce){this.destination.next(ce)}_error(ce){try{this.destination.error(ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const st=Function.prototype.bind;function je(He,ce){return st.call(He,ce)}class Ke{constructor(ce){this.partialObserver=ce}next(ce){const{partialObserver:Oe}=this;if(Oe.next)try{Oe.next(ce)}catch(it){Re(it)}}error(ce){const{partialObserver:Oe}=this;if(Oe.error)try{Oe.error(ce)}catch(it){Re(it)}else Re(ce)}complete(){const{partialObserver:ce}=this;if(ce.complete)try{ce.complete()}catch(Oe){Re(Oe)}}}class Xe extends _e{constructor(ce,Oe,it){let me;if(super(),(0,a.m)(ce)||!ce)me={next:null!=ce?ce:void 0,error:null!=Oe?Oe:void 0,complete:null!=it?it:void 0};else{let ft;this&&U.v.useDeprecatedNextContext?(ft=Object.create(ce),ft.unsubscribe=()=>this.unsubscribe(),me={next:ce.next&&je(ce.next,ft),error:ce.error&&je(ce.error,ft),complete:ce.complete&&je(ce.complete,ft)}):me=ce}this.destination=new Ke(me)}}function Re(He){U.v.useDeprecatedSynchronousErrorHandling?(0,ne.O)(He):(0,ye.h)(He)}function gt(He,ce){const{onStoppedNotification:Oe}=U.v;Oe&&re.z.setTimeout(()=>Oe(He,ce))}const Qe={closed:!0,next:ge.Z,error:function Ve(He){throw He},complete:ge.Z}},727:(Ot,Ue,G)=>{G.d(Ue,{Lc:()=>Pe,w0:()=>ge,Nn:()=>fe});var a=G(576);const U=(0,G(3888).d)(Me=>function(ne){Me(this),this.message=ne?`${ne.length} errors occurred during unsubscription:\n${ne.map((_e,st)=>`${st+1}) ${_e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ne});var ye=G(8737);class ge{constructor(re){this.initialTeardown=re,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let re;if(!this.closed){this.closed=!0;const{_parentage:ne}=this;if(ne)if(this._parentage=null,Array.isArray(ne))for(const je of ne)je.remove(this);else ne.remove(this);const{initialTeardown:_e}=this;if((0,a.m)(_e))try{_e()}catch(je){re=je instanceof U?je.errors:[je]}const{_finalizers:st}=this;if(st){this._finalizers=null;for(const je of st)try{Ee(je)}catch(Ke){re=null!=re?re:[],Ke instanceof U?re=[...re,...Ke.errors]:re.push(Ke)}}if(re)throw new U(re)}}add(re){var ne;if(re&&re!==this)if(this.closed)Ee(re);else{if(re instanceof ge){if(re.closed||re._hasParent(this))return;re._addParent(this)}(this._finalizers=null!==(ne=this._finalizers)&&void 0!==ne?ne:[]).push(re)}}_hasParent(re){const{_parentage:ne}=this;return ne===re||Array.isArray(ne)&&ne.includes(re)}_addParent(re){const{_parentage:ne}=this;this._parentage=Array.isArray(ne)?(ne.push(re),ne):ne?[ne,re]:re}_removeParent(re){const{_parentage:ne}=this;ne===re?this._parentage=null:Array.isArray(ne)&&(0,ye.P)(ne,re)}remove(re){const{_finalizers:ne}=this;ne&&(0,ye.P)(ne,re),re instanceof ge&&re._removeParent(this)}}ge.EMPTY=(()=>{const Me=new ge;return Me.closed=!0,Me})();const Pe=ge.EMPTY;function fe(Me){return Me instanceof ge||Me&&"closed"in Me&&(0,a.m)(Me.remove)&&(0,a.m)(Me.add)&&(0,a.m)(Me.unsubscribe)}function Ee(Me){(0,a.m)(Me)?Me():Me.unsubscribe()}},2416:(Ot,Ue,G)=>{G.d(Ue,{v:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Ot,Ue,G)=>{G.d(Ue,{E:()=>J});const J=new(G(8306).y)(ge=>ge.complete())},8996:(Ot,Ue,G)=>{G.d(Ue,{D:()=>ce});var a=G(8421),J=G(5363),U=G(9468),Pe=G(8306),Ee=G(2202),Me=G(576),re=G(9672);function _e(Oe,it){if(!Oe)throw new Error("Iterable cannot be null");return new Pe.y(me=>{(0,re.f)(me,it,()=>{const ft=Oe[Symbol.asyncIterator]();(0,re.f)(me,it,()=>{ft.next().then(ue=>{ue.done?me.complete():me.next(ue.value)})},0,!0)})})}var st=G(3670),je=G(8239),Ke=G(1144),Xe=G(6495),Re=G(2206),Ve=G(4532),gt=G(3260);function ce(Oe,it){return it?function He(Oe,it){if(null!=Oe){if((0,st.c)(Oe))return function ye(Oe,it){return(0,a.Xf)(Oe).pipe((0,U.R)(it),(0,J.Q)(it))}(Oe,it);if((0,Ke.z)(Oe))return function fe(Oe,it){return new Pe.y(me=>{let ft=0;return it.schedule(function(){ft===Oe.length?me.complete():(me.next(Oe[ft++]),me.closed||this.schedule())})})}(Oe,it);if((0,je.t)(Oe))return function ge(Oe,it){return(0,a.Xf)(Oe).pipe((0,U.R)(it),(0,J.Q)(it))}(Oe,it);if((0,Re.D)(Oe))return _e(Oe,it);if((0,Xe.T)(Oe))return function ne(Oe,it){return new Pe.y(me=>{let ft;return(0,re.f)(me,it,()=>{ft=Oe[Ee.h](),(0,re.f)(me,it,()=>{let ue,Ie;try{({value:ue,done:Ie}=ft.next())}catch(Te){return void me.error(Te)}Ie?me.complete():me.next(ue)},0,!0)}),()=>(0,Me.m)(null==ft?void 0:ft.return)&&ft.return()})}(Oe,it);if((0,gt.L)(Oe))return function Qe(Oe,it){return _e((0,gt.Q)(Oe),it)}(Oe,it)}throw(0,Ve.z)(Oe)}(Oe,it):(0,a.Xf)(Oe)}},8421:(Ot,Ue,G)=>{G.d(Ue,{Xf:()=>st});var a=G(655),J=G(1144),U=G(8239),ye=G(8306),ge=G(3670),Pe=G(2206),fe=G(4532),Ee=G(6495),Me=G(3260),re=G(576),ne=G(7849),_e=G(8822);function st(He){if(He instanceof ye.y)return He;if(null!=He){if((0,ge.c)(He))return function je(He){return new ye.y(ce=>{const Oe=He[_e.L]();if((0,re.m)(Oe.subscribe))return Oe.subscribe(ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(He);if((0,J.z)(He))return function Ke(He){return new ye.y(ce=>{for(let Oe=0;Oe<He.length&&!ce.closed;Oe++)ce.next(He[Oe]);ce.complete()})}(He);if((0,U.t)(He))return function Xe(He){return new ye.y(ce=>{He.then(Oe=>{ce.closed||(ce.next(Oe),ce.complete())},Oe=>ce.error(Oe)).then(null,ne.h)})}(He);if((0,Pe.D)(He))return Ve(He);if((0,Ee.T)(He))return function Re(He){return new ye.y(ce=>{for(const Oe of He)if(ce.next(Oe),ce.closed)return;ce.complete()})}(He);if((0,Me.L)(He))return function gt(He){return Ve((0,Me.Q)(He))}(He)}throw(0,fe.z)(He)}function Ve(He){return new ye.y(ce=>{(function Qe(He,ce){var Oe,it,me,ft;return(0,a.mG)(this,void 0,void 0,function*(){try{for(Oe=(0,a.KL)(He);!(it=yield Oe.next()).done;)if(ce.next(it.value),ce.closed)return}catch(ue){me={error:ue}}finally{try{it&&!it.done&&(ft=Oe.return)&&(yield ft.call(Oe))}finally{if(me)throw me.error}}ce.complete()})})(He,ce).catch(Oe=>ce.error(Oe))})}},6451:(Ot,Ue,G)=>{G.d(Ue,{T:()=>Pe});var a=G(8189),J=G(8421),U=G(515),ye=G(3269),ge=G(8996);function Pe(...fe){const Ee=(0,ye.yG)(fe),Me=(0,ye._6)(fe,1/0),re=fe;return re.length?1===re.length?(0,J.Xf)(re[0]):(0,a.J)(Me)((0,ge.D)(re,Ee)):U.E}},5403:(Ot,Ue,G)=>{G.d(Ue,{x:()=>J});var a=G(930);function J(ye,ge,Pe,fe,Ee){return new U(ye,ge,Pe,fe,Ee)}class U extends a.Lv{constructor(ge,Pe,fe,Ee,Me,re){super(ge),this.onFinalize=Me,this.shouldUnsubscribe=re,this._next=Pe?function(ne){try{Pe(ne)}catch(_e){ge.error(_e)}}:super._next,this._error=Ee?function(ne){try{Ee(ne)}catch(_e){ge.error(_e)}finally{this.unsubscribe()}}:super._error,this._complete=fe?function(){try{fe()}catch(ne){ge.error(ne)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ge;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Pe}=this;super.unsubscribe(),!Pe&&(null===(ge=this.onFinalize)||void 0===ge||ge.call(this))}}}},4004:(Ot,Ue,G)=>{G.d(Ue,{U:()=>U});var a=G(4482),J=G(5403);function U(ye,ge){return(0,a.e)((Pe,fe)=>{let Ee=0;Pe.subscribe((0,J.x)(fe,Me=>{fe.next(ye.call(ge,Me,Ee++))}))})}},8189:(Ot,Ue,G)=>{G.d(Ue,{J:()=>U});var a=G(5577),J=G(4671);function U(ye=1/0){return(0,a.z)(J.y,ye)}},5577:(Ot,Ue,G)=>{G.d(Ue,{z:()=>Ee});var a=G(4004),J=G(8421),U=G(4482),ye=G(9672),ge=G(5403),fe=G(576);function Ee(Me,re,ne=1/0){return(0,fe.m)(re)?Ee((_e,st)=>(0,a.U)((je,Ke)=>re(_e,je,st,Ke))((0,J.Xf)(Me(_e,st))),ne):("number"==typeof re&&(ne=re),(0,U.e)((_e,st)=>function Pe(Me,re,ne,_e,st,je,Ke,Xe){const Re=[];let Ve=0,gt=0,Qe=!1;const He=()=>{Qe&&!Re.length&&!Ve&&re.complete()},ce=it=>Ve<_e?Oe(it):Re.push(it),Oe=it=>{je&&re.next(it),Ve++;let me=!1;(0,J.Xf)(ne(it,gt++)).subscribe((0,ge.x)(re,ft=>{null==st||st(ft),je?ce(ft):re.next(ft)},()=>{me=!0},void 0,()=>{if(me)try{for(Ve--;Re.length&&Ve<_e;){const ft=Re.shift();Ke?(0,ye.f)(re,Ke,()=>Oe(ft)):Oe(ft)}He()}catch(ft){re.error(ft)}}))};return Me.subscribe((0,ge.x)(re,ce,()=>{Qe=!0,He()})),()=>{null==Xe||Xe()}}(_e,st,Me,ne)))}},5363:(Ot,Ue,G)=>{G.d(Ue,{Q:()=>ye});var a=G(9672),J=G(4482),U=G(5403);function ye(ge,Pe=0){return(0,J.e)((fe,Ee)=>{fe.subscribe((0,U.x)(Ee,Me=>(0,a.f)(Ee,ge,()=>Ee.next(Me),Pe),()=>(0,a.f)(Ee,ge,()=>Ee.complete(),Pe),Me=>(0,a.f)(Ee,ge,()=>Ee.error(Me),Pe)))})}},3099:(Ot,Ue,G)=>{G.d(Ue,{B:()=>Pe});var a=G(8996),J=G(5698),U=G(7579),ye=G(930),ge=G(4482);function Pe(Ee={}){const{connector:Me=(()=>new U.x),resetOnError:re=!0,resetOnComplete:ne=!0,resetOnRefCountZero:_e=!0}=Ee;return st=>{let je=null,Ke=null,Xe=null,Re=0,Ve=!1,gt=!1;const Qe=()=>{null==Ke||Ke.unsubscribe(),Ke=null},He=()=>{Qe(),je=Xe=null,Ve=gt=!1},ce=()=>{const Oe=je;He(),null==Oe||Oe.unsubscribe()};return(0,ge.e)((Oe,it)=>{Re++,!gt&&!Ve&&Qe();const me=Xe=null!=Xe?Xe:Me();it.add(()=>{Re--,0===Re&&!gt&&!Ve&&(Ke=fe(ce,_e))}),me.subscribe(it),je||(je=new ye.Hp({next:ft=>me.next(ft),error:ft=>{gt=!0,Qe(),Ke=fe(He,re,ft),me.error(ft)},complete:()=>{Ve=!0,Qe(),Ke=fe(He,ne),me.complete()}}),(0,a.D)(Oe).subscribe(je))})(st)}}function fe(Ee,Me,...re){return!0===Me?(Ee(),null):!1===Me?null:Me(...re).pipe((0,J.q)(1)).subscribe(()=>Ee())}},9468:(Ot,Ue,G)=>{G.d(Ue,{R:()=>J});var a=G(4482);function J(U,ye=0){return(0,a.e)((ge,Pe)=>{Pe.add(U.schedule(()=>ge.subscribe(Pe),ye))})}},5698:(Ot,Ue,G)=>{G.d(Ue,{q:()=>ye});var a=G(515),J=G(4482),U=G(5403);function ye(ge){return ge<=0?()=>a.E:(0,J.e)((Pe,fe)=>{let Ee=0;Pe.subscribe((0,U.x)(fe,Me=>{++Ee<=ge&&(fe.next(Me),ge<=Ee&&fe.complete())}))})}},8505:(Ot,Ue,G)=>{G.d(Ue,{b:()=>ge});var a=G(576),J=G(4482),U=G(5403),ye=G(4671);function ge(Pe,fe,Ee){const Me=(0,a.m)(Pe)||fe||Ee?{next:Pe,error:fe,complete:Ee}:Pe;return Me?(0,J.e)((re,ne)=>{var _e;null===(_e=Me.subscribe)||void 0===_e||_e.call(Me);let st=!0;re.subscribe((0,U.x)(ne,je=>{var Ke;null===(Ke=Me.next)||void 0===Ke||Ke.call(Me,je),ne.next(je)},()=>{var je;st=!1,null===(je=Me.complete)||void 0===je||je.call(Me),ne.complete()},je=>{var Ke;st=!1,null===(Ke=Me.error)||void 0===Ke||Ke.call(Me,je),ne.error(je)},()=>{var je,Ke;st&&(null===(je=Me.unsubscribe)||void 0===je||je.call(Me)),null===(Ke=Me.finalize)||void 0===Ke||Ke.call(Me)}))}):ye.y}},4408:(Ot,Ue,G)=>{G.d(Ue,{o:()=>ge});var a=G(727);class J extends a.w0{constructor(fe,Ee){super()}schedule(fe,Ee=0){return this}}const U={setInterval(Pe,fe,...Ee){const{delegate:Me}=U;return(null==Me?void 0:Me.setInterval)?Me.setInterval(Pe,fe,...Ee):setInterval(Pe,fe,...Ee)},clearInterval(Pe){const{delegate:fe}=U;return((null==fe?void 0:fe.clearInterval)||clearInterval)(Pe)},delegate:void 0};var ye=G(8737);class ge extends J{constructor(fe,Ee){super(fe,Ee),this.scheduler=fe,this.work=Ee,this.pending=!1}schedule(fe,Ee=0){if(this.closed)return this;this.state=fe;const Me=this.id,re=this.scheduler;return null!=Me&&(this.id=this.recycleAsyncId(re,Me,Ee)),this.pending=!0,this.delay=Ee,this.id=this.id||this.requestAsyncId(re,this.id,Ee),this}requestAsyncId(fe,Ee,Me=0){return U.setInterval(fe.flush.bind(fe,this),Me)}recycleAsyncId(fe,Ee,Me=0){if(null!=Me&&this.delay===Me&&!1===this.pending)return Ee;U.clearInterval(Ee)}execute(fe,Ee){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Me=this._execute(fe,Ee);if(Me)return Me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(fe,Ee){let re,Me=!1;try{this.work(fe)}catch(ne){Me=!0,re=ne||new Error("Scheduled action threw falsy error")}if(Me)return this.unsubscribe(),re}unsubscribe(){if(!this.closed){const{id:fe,scheduler:Ee}=this,{actions:Me}=Ee;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ye.P)(Me,this),null!=fe&&(this.id=this.recycleAsyncId(Ee,fe,null)),this.delay=null,super.unsubscribe()}}}},7565:(Ot,Ue,G)=>{G.d(Ue,{v:()=>U});var a=G(6063);class J{constructor(ge,Pe=J.now){this.schedulerActionCtor=ge,this.now=Pe}schedule(ge,Pe=0,fe){return new this.schedulerActionCtor(this,ge).schedule(fe,Pe)}}J.now=a.l.now;class U extends J{constructor(ge,Pe=J.now){super(ge,Pe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ge){const{actions:Pe}=this;if(this._active)return void Pe.push(ge);let fe;this._active=!0;do{if(fe=ge.execute(ge.state,ge.delay))break}while(ge=Pe.shift());if(this._active=!1,fe){for(;ge=Pe.shift();)ge.unsubscribe();throw fe}}}},4986:(Ot,Ue,G)=>{G.d(Ue,{P:()=>ye,z:()=>U});var a=G(4408);const U=new(G(7565).v)(a.o),ye=U},6063:(Ot,Ue,G)=>{G.d(Ue,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},3410:(Ot,Ue,G)=>{G.d(Ue,{z:()=>a});const a={setTimeout(J,U,...ye){const{delegate:ge}=a;return(null==ge?void 0:ge.setTimeout)?ge.setTimeout(J,U,...ye):setTimeout(J,U,...ye)},clearTimeout(J){const{delegate:U}=a;return((null==U?void 0:U.clearTimeout)||clearTimeout)(J)},delegate:void 0}},2202:(Ot,Ue,G)=>{G.d(Ue,{h:()=>J});const J=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ot,Ue,G)=>{G.d(Ue,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Ot,Ue,G)=>{G.d(Ue,{_6:()=>Pe,jO:()=>ye,yG:()=>ge});var a=G(576),J=G(3532);function U(fe){return fe[fe.length-1]}function ye(fe){return(0,a.m)(U(fe))?fe.pop():void 0}function ge(fe){return(0,J.K)(U(fe))?fe.pop():void 0}function Pe(fe,Ee){return"number"==typeof U(fe)?fe.pop():Ee}},8737:(Ot,Ue,G)=>{function a(J,U){if(J){const ye=J.indexOf(U);0<=ye&&J.splice(ye,1)}}G.d(Ue,{P:()=>a})},3888:(Ot,Ue,G)=>{function a(J){const ye=J(ge=>{Error.call(ge),ge.stack=(new Error).stack});return ye.prototype=Object.create(Error.prototype),ye.prototype.constructor=ye,ye}G.d(Ue,{d:()=>a})},2806:(Ot,Ue,G)=>{G.d(Ue,{O:()=>ye,x:()=>U});var a=G(2416);let J=null;function U(ge){if(a.v.useDeprecatedSynchronousErrorHandling){const Pe=!J;if(Pe&&(J={errorThrown:!1,error:null}),ge(),Pe){const{errorThrown:fe,error:Ee}=J;if(J=null,fe)throw Ee}}else ge()}function ye(ge){a.v.useDeprecatedSynchronousErrorHandling&&J&&(J.errorThrown=!0,J.error=ge)}},9672:(Ot,Ue,G)=>{function a(J,U,ye,ge=0,Pe=!1){const fe=U.schedule(function(){ye(),Pe?J.add(this.schedule(null,ge)):this.unsubscribe()},ge);if(J.add(fe),!Pe)return fe}G.d(Ue,{f:()=>a})},4671:(Ot,Ue,G)=>{function a(J){return J}G.d(Ue,{y:()=>a})},1144:(Ot,Ue,G)=>{G.d(Ue,{z:()=>a});const a=J=>J&&"number"==typeof J.length&&"function"!=typeof J},2206:(Ot,Ue,G)=>{G.d(Ue,{D:()=>J});var a=G(576);function J(U){return Symbol.asyncIterator&&(0,a.m)(null==U?void 0:U[Symbol.asyncIterator])}},576:(Ot,Ue,G)=>{function a(J){return"function"==typeof J}G.d(Ue,{m:()=>a})},3670:(Ot,Ue,G)=>{G.d(Ue,{c:()=>U});var a=G(8822),J=G(576);function U(ye){return(0,J.m)(ye[a.L])}},6495:(Ot,Ue,G)=>{G.d(Ue,{T:()=>U});var a=G(2202),J=G(576);function U(ye){return(0,J.m)(null==ye?void 0:ye[a.h])}},8239:(Ot,Ue,G)=>{G.d(Ue,{t:()=>J});var a=G(576);function J(U){return(0,a.m)(null==U?void 0:U.then)}},3260:(Ot,Ue,G)=>{G.d(Ue,{L:()=>ye,Q:()=>U});var a=G(655),J=G(576);function U(ge){return(0,a.FC)(this,arguments,function*(){const fe=ge.getReader();try{for(;;){const{value:Ee,done:Me}=yield(0,a.qq)(fe.read());if(Me)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(Ee)}}finally{fe.releaseLock()}})}function ye(ge){return(0,J.m)(null==ge?void 0:ge.getReader)}},3532:(Ot,Ue,G)=>{G.d(Ue,{K:()=>J});var a=G(576);function J(U){return U&&(0,a.m)(U.schedule)}},4482:(Ot,Ue,G)=>{G.d(Ue,{A:()=>J,e:()=>U});var a=G(576);function J(ye){return(0,a.m)(null==ye?void 0:ye.lift)}function U(ye){return ge=>{if(J(ge))return ge.lift(function(Pe){try{return ye(Pe,this)}catch(fe){this.error(fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Ot,Ue,G)=>{function a(){}G.d(Ue,{Z:()=>a})},7849:(Ot,Ue,G)=>{G.d(Ue,{h:()=>U});var a=G(2416),J=G(3410);function U(ye){J.z.setTimeout(()=>{const{onUnhandledError:ge}=a.v;if(!ge)throw ye;ge(ye)})}},4532:(Ot,Ue,G)=>{function a(J){return new TypeError(`You provided ${null!==J&&"object"==typeof J?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}G.d(Ue,{z:()=>a})},655:(Ot,Ue,G)=>{function ye(ue,Ie){var Te={};for(var Ae in ue)Object.prototype.hasOwnProperty.call(ue,Ae)&&Ie.indexOf(Ae)<0&&(Te[Ae]=ue[Ae]);if(null!=ue&&"function"==typeof Object.getOwnPropertySymbols){var We=0;for(Ae=Object.getOwnPropertySymbols(ue);We<Ae.length;We++)Ie.indexOf(Ae[We])<0&&Object.prototype.propertyIsEnumerable.call(ue,Ae[We])&&(Te[Ae[We]]=ue[Ae[We]])}return Te}function Ee(ue,Ie,Te,Ae){return new(Te||(Te=Promise))(function(be,Bt){function Sn(At){try{St(Ae.next(At))}catch(Hn){Bt(Hn)}}function gi(At){try{St(Ae.throw(At))}catch(Hn){Bt(Hn)}}function St(At){At.done?be(At.value):function We(be){return be instanceof Te?be:new Te(function(Bt){Bt(be)})}(At.value).then(Sn,gi)}St((Ae=Ae.apply(ue,Ie||[])).next())})}function Re(ue){return this instanceof Re?(this.v=ue,this):new Re(ue)}function Ve(ue,Ie,Te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var We,Ae=Te.apply(ue,Ie||[]),be=[];return We={},Bt("next"),Bt("throw"),Bt("return"),We[Symbol.asyncIterator]=function(){return this},We;function Bt(Vn){Ae[Vn]&&(We[Vn]=function(Ir){return new Promise(function(Mn,Cn){be.push([Vn,Ir,Mn,Cn])>1||Sn(Vn,Ir)})})}function Sn(Vn,Ir){try{!function gi(Vn){Vn.value instanceof Re?Promise.resolve(Vn.value.v).then(St,At):Hn(be[0][2],Vn)}(Ae[Vn](Ir))}catch(Mn){Hn(be[0][3],Mn)}}function St(Vn){Sn("next",Vn)}function At(Vn){Sn("throw",Vn)}function Hn(Vn,Ir){Vn(Ir),be.shift(),be.length&&Sn(be[0][0],be[0][1])}}function Qe(ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Te,Ie=ue[Symbol.asyncIterator];return Ie?Ie.call(ue):(ue=function _e(ue){var Ie="function"==typeof Symbol&&Symbol.iterator,Te=Ie&&ue[Ie],Ae=0;if(Te)return Te.call(ue);if(ue&&"number"==typeof ue.length)return{next:function(){return ue&&Ae>=ue.length&&(ue=void 0),{value:ue&&ue[Ae++],done:!ue}}};throw new TypeError(Ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(ue),Te={},Ae("next"),Ae("throw"),Ae("return"),Te[Symbol.asyncIterator]=function(){return this},Te);function Ae(be){Te[be]=ue[be]&&function(Bt){return new Promise(function(Sn,gi){!function We(be,Bt,Sn,gi){Promise.resolve(gi).then(function(St){be({value:St,done:Sn})},Bt)}(Sn,gi,(Bt=ue[be](Bt)).done,Bt.value)})}}}G.d(Ue,{FC:()=>Ve,KL:()=>Qe,_T:()=>ye,mG:()=>Ee,qq:()=>Re})},5e3:(Ot,Ue,G)=>{G.d(Ue,{$8M:()=>Cu,$Z:()=>z_,AFp:()=>ZD,ALo:()=>Fm,AaK:()=>Ee,BQk:()=>Hd,CHM:()=>yu,CRH:()=>LD,CZH:()=>Xc,CqO:()=>cm,Dn7:()=>zb,EJc:()=>gw,EiD:()=>i_,EpF:()=>lm,F$t:()=>xT,F4k:()=>Pi,FYo:()=>Yd,FiY:()=>zr,G48:()=>WM,Gf:()=>rh,GfV:()=>Jd,GkF:()=>mf,Gpc:()=>ne,Hsn:()=>MT,IIB:()=>dw,Ikx:()=>kb,JOm:()=>Yr,JVY:()=>Id,Jf7:()=>oE,L6J:()=>VM,L6k:()=>Sd,LAX:()=>Uh,LFG:()=>xt,LSH:()=>Bv,Lbi:()=>zm,MAs:()=>lf,NdJ:()=>cb,O4$:()=>Hr,OlP:()=>Wi,Oqu:()=>_m,PXZ:()=>$M,Q6J:()=>lb,QGY:()=>Z_,Qsj:()=>Kd,R0b:()=>ha,RDi:()=>Co,Rgc:()=>Kc,SBq:()=>Mm,Sil:()=>ky,Suo:()=>FD,TTD:()=>zo,TgZ:()=>pf,Udp:()=>gb,VKq:()=>ar,VLi:()=>tI,W1O:()=>dl,WFA:()=>ub,WLB:()=>Pm,X6Q:()=>sI,XFs:()=>kt,Xpm:()=>on,Y36:()=>al,YKP:()=>Gb,YNc:()=>X0,Yjl:()=>et,Yz7:()=>Mn,ZZ4:()=>Gy,_Bn:()=>Bb,_UZ:()=>W_,_Vd:()=>xm,_c5:()=>rg,_uU:()=>Eb,aQ5:()=>vp,aQg:()=>xw,c2e:()=>KD,cJS:()=>An,cg1:()=>Rb,d8E:()=>mt,dDg:()=>nu,deG:()=>xv,dqk:()=>cn,eBb:()=>Fv,eFA:()=>bw,ekj:()=>_b,f3M:()=>xn,g9A:()=>YD,gM2:()=>Wb,gxx:()=>Jh,h0i:()=>Ua,hGG:()=>kw,hij:()=>bf,i9L:()=>Eu,iGM:()=>ih,ifc:()=>sn,ip1:()=>jf,kL8:()=>WT,kYT:()=>K,lG2:()=>Ce,lcZ:()=>Vf,mCW:()=>L,n5z:()=>Us,oAB:()=>q,oJD:()=>Vv,oxw:()=>AT,pB0:()=>YC,q3G:()=>Yi,q4F:()=>jb,qLn:()=>Mp,qOj:()=>Z0,qZA:()=>zl,qzn:()=>Nc,r_U:()=>hw,sBO:()=>KM,sIi:()=>Ld,s_b:()=>Um,soG:()=>mw,tBr:()=>Oa,tb:()=>eu,tp0:()=>ia,uIk:()=>tm,vHH:()=>Ke,vpe:()=>Ql,wAp:()=>Wt,xi3:()=>Vm,xp6:()=>IE,yhl:()=>Dp,ynx:()=>Fa,z2F:()=>Ym,z3N:()=>Na,zSh:()=>rl,zs3:()=>sl});var a=G(7579),J=G(727),U=G(8306),ye=G(6451),ge=G(3099);function Pe(o){for(let l in o)if(o[l]===Pe)return l;throw Error("Could not find renamed property on target object.")}function fe(o,l){for(const u in l)l.hasOwnProperty(u)&&!o.hasOwnProperty(u)&&(o[u]=l[u])}function Ee(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(Ee).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const l=o.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function Me(o,l){return null==o||""===o?null===l?"":l:null==l||""===l?o:o+" "+l}const re=Pe({__forward_ref__:Pe});function ne(o){return o.__forward_ref__=ne,o.toString=function(){return Ee(this())},o}function _e(o){return st(o)?o():o}function st(o){return"function"==typeof o&&o.hasOwnProperty(re)&&o.__forward_ref__===ne}class Ke extends Error{constructor(l,u){super(function Xe(o,l){return`NG0${Math.abs(o)}${l?": "+l:""}`}(l,u)),this.code=l}}function Re(o){return"string"==typeof o?o:null==o?"":String(o)}function Ve(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Re(o)}function ce(o,l){const u=l?` in ${l}`:"";throw new Ke(-201,`No provider for ${Ve(o)} found${u}`)}function St(o,l){null==o&&function At(o,l,u,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${u} ${d} ${l} <=Actual]`))}(l,o,null,"!=")}function Mn(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function An(o){return{providers:o.providers||[],imports:o.imports||[]}}function ni(o){return xi(o,Xr)||xi(o,ii)}function xi(o,l){return o.hasOwnProperty(l)?o[l]:null}function Lr(o){return o&&(o.hasOwnProperty(qi)||o.hasOwnProperty(Sr))?o[qi]:null}const Xr=Pe({\u0275prov:Pe}),qi=Pe({\u0275inj:Pe}),ii=Pe({ngInjectableDef:Pe}),Sr=Pe({ngInjectorDef:Pe});var kt=(()=>((kt=kt||{})[kt.Default=0]="Default",kt[kt.Host=1]="Host",kt[kt.Self=2]="Self",kt[kt.SkipSelf=4]="SkipSelf",kt[kt.Optional=8]="Optional",kt))();let ur;function Nn(o){const l=ur;return ur=o,l}function ri(o,l,u){const d=ni(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&kt.Optional?null:void 0!==l?l:void ce(Ee(o),"Injector")}function wi(o){return{toString:o}.toString()}var Zn=(()=>((Zn=Zn||{})[Zn.OnPush=0]="OnPush",Zn[Zn.Default=1]="Default",Zn))(),sn=(()=>{return(o=sn||(sn={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",sn;var o})();const It="undefined"!=typeof globalThis&&globalThis,vt="undefined"!=typeof window&&window,Ji="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,cn=It||"undefined"!=typeof global&&global||vt||Ji,kn={},Pt=[],ui=Pe({\u0275cmp:Pe}),un=Pe({\u0275dir:Pe}),at=Pe({\u0275pipe:Pe}),Be=Pe({\u0275mod:Pe}),Je=Pe({\u0275fac:Pe}),Nt=Pe({__NG_ELEMENT_ID__:Pe});let nn=0;function on(o){return wi(()=>{const u={},d={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===Zn.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||Pt,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||sn.Emulated,id:"c",styles:o.styles||Pt,_:null,setInput:null,schemas:o.schemas||null,tView:null},f=o.directives,m=o.features,v=o.pipes;return d.id+=nn++,d.inputs=te(o.inputs,u),d.outputs=te(o.outputs),m&&m.forEach(T=>T(d)),d.directiveDefs=f?()=>("function"==typeof f?f():f).map(ee):null,d.pipeDefs=v?()=>("function"==typeof v?v():v).map(oe):null,d})}function ee(o){return lt(o)||function Ut(o){return o[un]||null}(o)}function oe(o){return function Ct(o){return o[at]||null}(o)}const xe={};function q(o){return wi(()=>{const l={type:o.type,bootstrap:o.bootstrap||Pt,declarations:o.declarations||Pt,imports:o.imports||Pt,exports:o.exports||Pt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(xe[o.id]=o.type),l})}function K(o,l){return wi(()=>{const u=qt(o,!0);u.declarations=l.declarations||Pt,u.imports=l.imports||Pt,u.exports=l.exports||Pt})}function te(o,l){if(null==o)return kn;const u={};for(const d in o)if(o.hasOwnProperty(d)){let f=o[d],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),u[f]=d,l&&(l[f]=m)}return u}const Ce=on;function et(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function lt(o){return o[ui]||null}function qt(o,l){const u=o[Be]||null;if(!u&&!0===l)throw new Error(`Type ${Ee(o)} does not have '\u0275mod' property.`);return u}function Hi(o){return Array.isArray(o)&&"object"==typeof o[1]}function fr(o){return Array.isArray(o)&&!0===o[1]}function Cl(o){return 0!=(8&o.flags)}function yo(o){return 2==(2&o.flags)}function Ea(o){return 1==(1&o.flags)}function zi(o){return null!==o.template}function El(o){return 0!=(512&o[2])}function is(o,l){return o.hasOwnProperty(Je)?o[Je]:null}class ld{constructor(l,u,d){this.previousValue=l,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function zo(){return Il}function Il(o){return o.type.prototype.ngOnChanges&&(o.setInput=Ta),Wo}function Wo(){const o=pr(this),l=null==o?void 0:o.current;if(l){const u=o.previous;if(u===kn)o.previous=l;else for(let d in l)u[d]=l[d];o.current=null,this.ngOnChanges(l)}}function Ta(o,l,u,d){const f=pr(o)||function Ps(o,l){return o[io]=l}(o,{previous:kn,current:null}),m=f.current||(f.current={}),v=f.previous,T=this.declaredInputs[u],x=v[T];m[T]=new ld(x&&x.currentValue,l,v===kn),o[d]=l}zo.ngInherit=!0;const io="__ngSimpleChanges__";function pr(o){return o[io]||null}let Al;function Co(o){Al=o}function Eo(){return void 0!==Al?Al:"undefined"!=typeof document?document:void 0}function si(o){return!!o.listen}const Zo={createRenderer:(o,l)=>Eo()};function Jn(o){for(;Array.isArray(o);)o=o[0];return o}function To(o,l){return Jn(l[o])}function tr(o,l){return Jn(l[o.index])}function xl(o,l){return o.data[l]}function rs(o,l){return o[l]}function xr(o,l){const u=l[o];return Hi(u)?u:u[0]}function ro(o){return 4==(4&o[2])}function Ko(o){return 128==(128&o[2])}function gs(o,l){return null==l?null:o[l]}function Fs(o){o[18]=0}function so(o,l){o[5]+=l;let u=o,d=o[3];for(;null!==d&&(1===l&&1===u[5]||-1===l&&0===u[5]);)d[5]+=l,u=d,d=d[3]}const Lt={lFrame:vc(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ys(){return Lt.bindingsEnabled}function Ge(){return Lt.lFrame.lView}function dn(){return Lt.lFrame.tView}function yu(o){return Lt.lFrame.contextLView=o,o[8]}function hn(){let o=Ls();for(;null!==o&&64===o.type;)o=o.parent;return o}function Ls(){return Lt.lFrame.currentTNode}function bs(o,l){const u=Lt.lFrame;u.currentTNode=o,u.isParent=l}function Qo(){return Lt.lFrame.isParent}function oo(){Lt.lFrame.isParent=!1}function Aa(){return Lt.isInCheckNoChangesMode}function Do(o){Lt.isInCheckNoChangesMode=o}function Ri(){const o=Lt.lFrame;let l=o.bindingRootIndex;return-1===l&&(l=o.bindingRootIndex=o.tView.bindingStartIndex),l}function nr(){return Lt.lFrame.bindingIndex++}function gc(o,l){const u=Lt.lFrame;u.bindingIndex=u.bindingRootIndex=o,Ml(l)}function Ml(o){Lt.lFrame.currentDirectiveIndex=o}function ao(o){const l=Lt.lFrame.currentDirectiveIndex;return-1===l?null:o[l]}function dd(){return Lt.lFrame.currentQueryIndex}function _c(o){Lt.lFrame.currentQueryIndex=o}function yc(o){const l=o[1];return 2===l.type?l.declTNode:1===l.type?o[6]:null}function kl(o,l,u){if(u&kt.SkipSelf){let f=l,m=o;for(;!(f=f.parent,null!==f||u&kt.Host||(f=yc(m),null===f||(m=m[15],10&f.type))););if(null===f)return!1;l=f,o=m}const d=Lt.lFrame=Jo();return d.currentTNode=l,d.lView=o,!0}function Ya(o){const l=Jo(),u=o[1];Lt.lFrame=l,l.currentTNode=u.firstChild,l.lView=o,l.tView=u,l.contextLView=o,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function Jo(){const o=Lt.lFrame,l=null===o?null:o.child;return null===l?vc(o):l}function vc(o){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=l),l}function bc(){const o=Lt.lFrame;return Lt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const vu=bc;function Xo(){const o=bc();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Mr(){return Lt.lFrame.selectedIndex}function lo(o){Lt.lFrame.selectedIndex=o}function Ei(){const o=Lt.lFrame;return xl(o.tView,o.selectedIndex)}function Hr(){Lt.lFrame.currentNamespace="svg"}function ea(o,l){for(let u=l.directiveStart,d=l.directiveEnd;u<d;u++){const m=o.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:T,ngAfterViewInit:x,ngAfterViewChecked:P,ngOnDestroy:V}=m;v&&(o.contentHooks||(o.contentHooks=[])).push(-u,v),T&&((o.contentHooks||(o.contentHooks=[])).push(u,T),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(u,T)),x&&(o.viewHooks||(o.viewHooks=[])).push(-u,x),P&&((o.viewHooks||(o.viewHooks=[])).push(u,P),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(u,P)),null!=V&&(o.destroyHooks||(o.destroyHooks=[])).push(u,V)}}function Pl(o,l,u){wc(o,l,3,u)}function Fl(o,l,u,d){(3&o[2])===u&&wc(o,l,u,d)}function Oi(o,l){let u=o[2];(3&u)===l&&(u&=2047,u+=1,o[2]=u)}function wc(o,l,u,d){const m=null!=d?d:-1,v=l.length-1;let T=0;for(let x=void 0!==d?65535&o[18]:0;x<v;x++)if("number"==typeof l[x+1]){if(T=l[x],null!=d&&T>=d)break}else l[x]<0&&(o[18]+=65536),(T<m||-1==m)&&(Cc(o,u,l,x),o[18]=(4294901760&o[18])+x+2),x++}function Cc(o,l,u,d){const f=u[d]<0,m=u[d+1],T=o[f?-u[d]:u[d]];if(f){if(o[2]>>11<o[18]>>16&&(3&o[2])===l){o[2]+=2048;try{m.call(T)}finally{}}}else try{m.call(T)}finally{}}class Ka{constructor(l,u,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function oi(o,l,u){const d=si(o);let f=0;for(;f<u.length;){const m=u[f];if("number"==typeof m){if(0!==m)break;f++;const v=u[f++],T=u[f++],x=u[f++];d?o.setAttribute(l,T,x,v):l.setAttributeNS(v,T,x)}else{const v=m,T=u[++f];kr(v)?d&&o.setProperty(l,v,T):d?o.setAttribute(l,v,T):l.setAttribute(v,T),f++}}return f}function Gr(o){return 3===o||4===o||6===o}function kr(o){return 64===o.charCodeAt(0)}function Jt(o,l){if(null!==l&&0!==l.length)if(null===o||0===o.length)o=l.slice();else{let u=-1;for(let d=0;d<l.length;d++){const f=l[d];"number"==typeof f?u=f:0===u||xo(o,u,f,null,-1===u||2===u?l[++d]:null)}}return o}function xo(o,l,u,d,f){let m=0,v=o.length;if(-1===l)v=-1;else for(;m<o.length;){const T=o[m++];if("number"==typeof T){if(T===l){v=-1;break}if(T>l){v=m-1;break}}}for(;m<o.length;){const T=o[m];if("number"==typeof T)break;if(T===u){if(null===d)return void(null!==f&&(o[m+1]=f));if(d===o[m+1])return void(o[m+2]=f)}m++,null!==d&&m++,null!==f&&m++}-1!==v&&(o.splice(v,0,l),m=v+1),o.splice(m++,0,u),null!==d&&o.splice(m++,0,d),null!==f&&o.splice(m++,0,f)}function $t(o){return-1!==o}function bt(o){return 32767&o}function Rr(o,l){let u=function ji(o){return o>>16}(o),d=l;for(;u>0;)d=d[15],u--;return d}let Bs=!0;function Or(o){const l=Bs;return Bs=o,l}let M=0;function b(o,l){const u=F(o,l);if(-1!==u)return u;const d=l[1];d.firstCreatePass&&(o.injectorIndex=l.length,R(d.data,o),R(l,null),R(d.blueprint,null));const f=$(o,l),m=o.injectorIndex;if($t(f)){const v=bt(f),T=Rr(f,l),x=T[1].data;for(let P=0;P<8;P++)l[m+P]=T[v+P]|x[v+P]}return l[m+8]=f,m}function R(o,l){o.push(0,0,0,0,0,0,0,0,l)}function F(o,l){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===l[o.injectorIndex+8]?-1:o.injectorIndex}function $(o,l){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let u=0,d=null,f=l;for(;null!==f;){const m=f[1],v=m.type;if(d=2===v?m.declTNode:1===v?f[6]:null,null===d)return-1;if(u++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return-1}function Q(o,l,u){!function I(o,l,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(Nt)&&(d=u[Nt]),null==d&&(d=u[Nt]=M++);const f=255&d;l.data[o+(f>>5)]|=1<<f}(o,l,u)}function Se(o,l,u){if(u&kt.Optional)return o;ce(l,"NodeInjector")}function rt(o,l,u,d){if(u&kt.Optional&&void 0===d&&(d=null),0==(u&(kt.Self|kt.Host))){const f=o[9],m=Nn(void 0);try{return f?f.get(l,d,u&kt.Optional):ri(l,d,u&kt.Optional)}finally{Nn(m)}}return Se(d,l,u)}function Ze(o,l,u,d=kt.Default,f){if(null!==o){const m=function jt(o){if("string"==typeof o)return o.charCodeAt(0)||0;const l=o.hasOwnProperty(Nt)?o[Nt]:void 0;return"number"==typeof l?l>=0?255&l:wt:l}(u);if("function"==typeof m){if(!kl(l,o,d))return d&kt.Host?Se(f,u,d):rt(l,u,d,f);try{const v=m(d);if(null!=v||d&kt.Optional)return v;ce(u)}finally{vu()}}else if("number"==typeof m){let v=null,T=F(o,l),x=-1,P=d&kt.Host?l[16][6]:null;for((-1===T||d&kt.SkipSelf)&&(x=-1===T?$(o,l):l[T+8],-1!==x&&pi(d,!1)?(v=l[1],T=bt(x),l=Rr(x,l)):T=-1);-1!==T;){const V=l[1];if(Gt(m,T,V.data)){const Y=gn(T,l,u,v,d,P);if(Y!==ot)return Y}x=l[T+8],-1!==x&&pi(d,l[1].data[T+8]===P)&&Gt(m,T,l)?(v=V,T=bt(x),l=Rr(x,l)):T=-1}}}return rt(l,u,d,f)}const ot={};function wt(){return new os(hn(),Ge())}function gn(o,l,u,d,f,m){const v=l[1],T=v.data[o+8],V=en(T,v,u,null==d?yo(T)&&Bs:d!=v&&0!=(3&T.type),f&kt.Host&&m===T);return null!==V?_n(l,v,V,T):ot}function en(o,l,u,d,f){const m=o.providerIndexes,v=l.data,T=1048575&m,x=o.directiveStart,V=m>>20,ie=f?T+V:o.directiveEnd;for(let he=d?T:T+V;he<ie;he++){const Le=v[he];if(he<x&&u===Le||he>=x&&Le.type===u)return he}if(f){const he=v[x];if(he&&zi(he)&&he.type===u)return x}return null}function _n(o,l,u,d){let f=o[u];const m=l.data;if(function Ao(o){return o instanceof Ka}(f)){const v=f;v.resolving&&function gt(o,l){const u=l?`. Dependency path: ${l.join(" > ")} > ${o}`:"";throw new Ke(-200,`Circular dependency in DI detected for ${o}${u}`)}(Ve(m[u]));const T=Or(v.canSeeViewProviders);v.resolving=!0;const x=v.injectImpl?Nn(v.injectImpl):null;kl(o,d,kt.Default);try{f=o[u]=v.factory(void 0,m,o,d),l.firstCreatePass&&u>=d.directiveStart&&function So(o,l,u){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:m}=l.type.prototype;if(d){const v=Il(l);(u.preOrderHooks||(u.preOrderHooks=[])).push(o,v),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,v)}f&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-o,f),m&&((u.preOrderHooks||(u.preOrderHooks=[])).push(o,m),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,m))}(u,m[u],l)}finally{null!==x&&Nn(x),Or(T),v.resolving=!1,vu()}}return f}function Gt(o,l,u){return!!(u[l+(o>>5)]&1<<o)}function pi(o,l){return!(o&kt.Self||o&kt.Host&&l)}class os{constructor(l,u){this._tNode=l,this._lView=u}get(l,u,d){return Ze(this._tNode,this._lView,l,d,u)}}function Us(o){return wi(()=>{const l=o.prototype.constructor,u=l[Je]||ka(l),d=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==d;){const m=f[Je]||ka(f);if(m&&m!==u)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function ka(o){return st(o)?()=>{const l=ka(_e(o));return l&&l()}:is(o)}function Cu(o){return function ae(o,l){if("class"===l)return o.classes;if("style"===l)return o.styles;const u=o.attrs;if(u){const d=u.length;let f=0;for(;f<d;){const m=u[f];if(Gr(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<d&&"string"==typeof u[f];)f++;else{if(m===l)return u[f+1];f+=2}}}return null}(hn(),o)}const Cs="__parameters__",Mo="__prop__metadata__";function Dc(o){return function(...u){if(o){const d=o(...u);for(const f in d)this[f]=d[f]}}}function Hs(o,l,u){return wi(()=>{const d=Dc(l);function f(...m){if(this instanceof f)return d.apply(this,m),this;const v=new f(...m);return T.annotation=v,T;function T(x,P,V){const Y=x.hasOwnProperty(Cs)?x[Cs]:Object.defineProperty(x,Cs,{value:[]})[Cs];for(;Y.length<=V;)Y.push(null);return(Y[V]=Y[V]||[]).push(v),x}}return u&&(f.prototype=Object.create(u.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}function Vl(o,l,u,d){return wi(()=>{const f=Dc(l);function m(...v){if(this instanceof m)return f.apply(this,v),this;const T=new m(...v);return function x(P,V){const Y=P.constructor,ie=Y.hasOwnProperty(Mo)?Y[Mo]:Object.defineProperty(Y,Mo,{value:{}})[Mo];ie[V]=ie.hasOwnProperty(V)&&ie[V]||[],ie[V].unshift(T),d&&d(P,V,...v)}}return u&&(m.prototype=Object.create(u.prototype)),m.prototype.ngMetadataName=o,m.annotationCls=m,m})}class Wi{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Mn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const xv=new Wi("AnalyzeForEntryComponents");class kh{}const vp=Vl("ContentChild",(o,l={})=>Object.assign({selector:o,first:!0,isViewQuery:!1,descendants:!0},l),kh),Eu=Vl("ViewChild",(o,l)=>Object.assign({selector:o,first:!0,isViewQuery:!0,descendants:!0},l),kh);function qr(o,l){void 0===l&&(l=o);for(let u=0;u<o.length;u++){let d=o[u];Array.isArray(d)?(l===o&&(l=o.slice(0,u)),qr(d,l)):l!==o&&l.push(d)}return l}function ko(o,l){o.forEach(u=>Array.isArray(u)?ko(u,l):l(u))}function Sc(o,l,u){l>=o.length?o.push(u):o.splice(l,0,u)}function Bl(o,l){return l>=o.length-1?o.pop():o.splice(l,1)[0]}function Es(o,l){const u=[];for(let d=0;d<o;d++)u.push(l);return u}function as(o,l,u){let d=Ro(o,l);return d>=0?o[1|d]=u:(d=~d,function gr(o,l,u,d){let f=o.length;if(f==l)o.push(u,d);else if(1===f)o.push(d,o[0]),o[0]=u;else{for(f--,o.push(o[f-1],o[f]);f>l;)o[f]=o[f-2],f--;o[l]=u,o[l+1]=d}}(o,d,l,u)),d}function Mc(o,l){const u=Ro(o,l);if(u>=0)return o[1|u]}function Ro(o,l){return function ta(o,l,u){let d=0,f=o.length>>u;for(;f!==d;){const m=d+(f-d>>1),v=o[m<<u];if(l===v)return m<<u;v>l?f=m:d=m+1}return~(f<<u)}(o,l,1)}const Xa={},gd="__NG_DI_FLAG__",Iu="ngTempTokenPath",O=/\n/gm,X="__source",de=Pe({provide:String,useValue:Pe});let ve;function Ye(o){const l=ve;return ve=o,l}function Tt(o,l=kt.Default){if(void 0===ve)throw new Ke(203,"");return null===ve?ri(o,void 0,l):ve.get(o,l&kt.Optional?null:void 0,l)}function xt(o,l=kt.Default){return(function bi(){return ur}()||Tt)(_e(o),l)}const xn=xt;function Zt(o){const l=[];for(let u=0;u<o.length;u++){const d=_e(o[u]);if(Array.isArray(d)){if(0===d.length)throw new Ke(900,"");let f,m=kt.Default;for(let v=0;v<d.length;v++){const T=d[v],x=Ni(T);"number"==typeof x?-1===x?f=T.token:m|=x:f=T}l.push(xt(f,m))}else l.push(xt(d))}return l}function Zi(o,l){return o[gd]=l,o.prototype[gd]=l,o}function Ni(o){return o[gd]}const Oa=Zi(Hs("Inject",o=>({token:o})),-1),zr=Zi(Hs("Optional"),8),ia=Zi(Hs("SkipSelf"),4);let Cd,Td;function Au(o){var l;return(null===(l=function Ed(){if(void 0===Cd&&(Cd=null,cn.trustedTypes))try{Cd=cn.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return Cd}())||void 0===l?void 0:l.createHTML(o))||o}function Ep(o){var l;return(null===(l=function Vh(){if(void 0===Td&&(Td=null,cn.trustedTypes))try{Td=cn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return Td}())||void 0===l?void 0:l.createHTML(o))||o}class Oc{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class zC extends Oc{getTypeName(){return"HTML"}}class WC extends Oc{getTypeName(){return"Style"}}class Dd extends Oc{getTypeName(){return"Script"}}class ZC extends Oc{getTypeName(){return"URL"}}class Tp extends Oc{getTypeName(){return"ResourceURL"}}function Na(o){return o instanceof Oc?o.changingThisBreaksApplicationSecurity:o}function Nc(o,l){const u=Dp(o);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===l}function Dp(o){return o instanceof Oc&&o.getTypeName()||null}function Id(o){return new zC(o)}function Sd(o){return new WC(o)}function Fv(o){return new Dd(o)}function Uh(o){return new ZC(o)}function YC(o){return new Tp(o)}class KC{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(Au(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class QC{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const d=this.inertDocument.createElement("body");u.appendChild(d)}}getInertBodyElement(l){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Au(l),u;const d=this.inertDocument.createElement("body");return d.innerHTML=Au(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(l){const u=l.attributes;for(let f=u.length-1;0<f;f--){const v=u.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&l.removeAttribute(v)}let d=l.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const g=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,D=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function L(o){return(o=String(o)).match(g)||o.match(D)?o:"unsafe:"+o}function pe(o){const l={};for(const u of o.split(","))l[u]=!0;return l}function qe(...o){const l={};for(const u of o)for(const d in u)u.hasOwnProperty(d)&&(l[d]=!0);return l}const Rt=pe("area,br,col,hr,img,wbr"),Vt=pe("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),yn=pe("rp,rt"),Gl=qe(Rt,qe(Vt,pe("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),qe(yn,pe("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),qe(yn,Vt)),xu=pe("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Pc=pe("srcset"),Hh=qe(xu,Pc,pe("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),pe("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Wr=pe("script,style,template");class e_{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let u=l.firstChild,d=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?d=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,d&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let f=this.checkClobberedElement(u,u.nextSibling);if(f){u=f;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(l){const u=l.nodeName.toLowerCase();if(!Gl.hasOwnProperty(u))return this.sanitizedSomething=!0,!Wr.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const d=l.attributes;for(let f=0;f<d.length;f++){const m=d.item(f),v=m.name,T=v.toLowerCase();if(!Hh.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let x=m.value;xu[T]&&(x=L(x)),Pc[T]&&(o=x,x=(o=String(o)).split(",").map(l=>L(l.trim())).join(", ")),this.buf.push(" ",v,'="',n_(x),'"')}var o;return this.buf.push(">"),!0}endElement(l){const u=l.nodeName.toLowerCase();Gl.hasOwnProperty(u)&&!Rt.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(l){this.buf.push(n_(l))}checkClobberedElement(l,u){if(u&&(l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return u}}const Sp=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,t_=/([^\#-~ |!])/g;function n_(o){return o.replace(/&/g,"&amp;").replace(Sp,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(t_,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Fc;function i_(o,l){let u=null;try{Fc=Fc||function Xg(o){const l=new QC(o);return function w(){try{return!!(new window.DOMParser).parseFromString(Au(""),"text/html")}catch(o){return!1}}()?new KC(l):l}(o);let d=l?String(l):"";u=Fc.getInertBodyElement(d);let f=5,m=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=m,m=u.innerHTML,u=Fc.getInertBodyElement(d)}while(d!==m);return Au((new e_).sanitizeChildren(Lv(u)||u))}finally{if(u){const d=Lv(u)||u;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Lv(o){return"content"in o&&function IA(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Yi=(()=>((Yi=Yi||{})[Yi.NONE=0]="NONE",Yi[Yi.HTML=1]="HTML",Yi[Yi.STYLE=2]="STYLE",Yi[Yi.SCRIPT=3]="SCRIPT",Yi[Yi.URL=4]="URL",Yi[Yi.RESOURCE_URL=5]="RESOURCE_URL",Yi))();function Vv(o){const l=tl();return l?Ep(l.sanitize(Yi.HTML,o)||""):Nc(o,"HTML")?Ep(Na(o)):i_(Eo(),Re(o))}function Bv(o){const l=tl();return l?l.sanitize(Yi.URL,o)||"":Nc(o,"URL")?Na(o):L(Re(o))}function tl(){const o=Ge();return o&&o[12]}const tE="__ngContext__";function ir(o,l){o[tE]=l}function Zr(o){const l=function sa(o){return o[tE]||null}(o);return l?Array.isArray(l)?l:l.lView:null}function qv(o){return o.ngOriginalError}function RA(o,...l){o.error(...l)}class Mp{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l),d=function kA(o){return o&&o.ngErrorLogger||RA}(l);d(this._console,"ERROR",l),u&&d(this._console,"ORIGINAL ERROR",u)}_findOriginalError(l){let u=l&&qv(l);for(;u&&qv(u);)u=qv(u);return u||null}}const Wv=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(cn))();function oE(o){return o.ownerDocument.defaultView}function nl(o){return o instanceof Function?o():o}var Yr=(()=>((Yr=Yr||{})[Yr.Important=1]="Important",Yr[Yr.DashCase=2]="DashCase",Yr))();function Yv(o,l){return undefined(o,l)}function kp(o){const l=o[3];return fr(l)?l[3]:l}function o_(o){return Rp(o[13])}function a_(o){return Rp(o[4])}function Rp(o){for(;null!==o&&!fr(o);)o=o[4];return o}function Tn(o,l,u,d,f){if(null!=d){let m,v=!1;fr(d)?m=d:Hi(d)&&(v=!0,d=d[0]);const T=Jn(d);0===o&&null!==u?null==f?Pp(l,u,T):kd(l,u,T,f||null,!0):1===o&&null!==u?kd(l,u,T,f||null,!0):2===o?function Rd(o,l,u){const d=u_(o,l);d&&function $A(o,l,u,d){si(o)?o.removeChild(l,u,d):l.removeChild(u)}(o,d,l,u)}(l,T,v):3===o&&l.destroyNode(T),null!=m&&function s0(o,l,u,d,f){const m=u[7];m!==Jn(u)&&Tn(l,o,d,m,f);for(let T=10;T<u.length;T++){const x=u[T];Vp(x[1],x,o,l,d,m)}}(l,o,m,u,f)}}function Jv(o,l,u){if(si(o))return o.createElement(l,u);{const d=null!==u?function gu(o){const l=o.toLowerCase();return"svg"===l?"http://www.w3.org/2000/svg":"math"===l?"http://www.w3.org/1998/MathML/":null}(u):null;return null===d?o.createElement(l):o.createElementNS(d,l)}}function Np(o,l){const u=o[9],d=u.indexOf(l),f=l[3];1024&l[2]&&(l[2]&=-1025,so(f,-1)),u.splice(d,1)}function Xv(o,l){if(o.length<=10)return;const u=10+l,d=o[u];if(d){const f=d[17];null!==f&&f!==o&&Np(f,d),l>0&&(o[u-1][4]=d[4]);const m=Bl(o,10+l);!function uE(o,l){Vp(o,l,l[11],2,null,null),l[0]=null,l[6]=null}(d[1],d);const v=m[19];null!==v&&v.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function c_(o,l){if(!(256&l[2])){const u=l[11];si(u)&&u.destroyNode&&Vp(o,l,u,3,null,null),function l_(o){let l=o[13];if(!l)return zh(o[1],o);for(;l;){let u=null;if(Hi(l))u=l[13];else{const d=l[10];d&&(u=d)}if(!u){for(;l&&!l[4]&&l!==o;)Hi(l)&&zh(l[1],l),l=l[3];null===l&&(l=o),Hi(l)&&zh(l[1],l),u=l&&l[4]}l=u}}(l)}}function zh(o,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function pE(o,l){let u;if(null!=o&&null!=(u=o.destroyHooks))for(let d=0;d<u.length;d+=2){const f=l[u[d]];if(!(f instanceof Ka)){const m=u[d+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const T=f[m[v]],x=m[v+1];try{x.call(T)}finally{}}else try{m.call(f)}finally{}}}}(o,l),function fE(o,l){const u=o.cleanup,d=l[7];let f=-1;if(null!==u)for(let m=0;m<u.length-1;m+=2)if("string"==typeof u[m]){const v=u[m+1],T="function"==typeof v?v(l):Jn(l[v]),x=d[f=u[m+2]],P=u[m+3];"boolean"==typeof P?T.removeEventListener(u[m],x,P):P>=0?d[f=P]():d[f=-P].unsubscribe(),m+=2}else{const v=d[f=u[m+1]];u[m].call(v)}if(null!==d){for(let m=f+1;m<d.length;m++)d[m]();l[7]=null}}(o,l),1===l[1].type&&si(l[11])&&l[11].destroy();const u=l[17];if(null!==u&&fr(l[3])){u!==l[3]&&Np(u,l);const d=l[19];null!==d&&d.detachView(o)}}}function mE(o,l,u){return function gE(o,l,u){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return u[0];if(2&d.flags){const f=o.data[d.directiveStart].encapsulation;if(f===sn.None||f===sn.Emulated)return null}return tr(d,u)}(o,l.parent,u)}function kd(o,l,u,d,f){si(o)?o.insertBefore(l,u,d,f):l.insertBefore(u,d,f)}function Pp(o,l,u){si(o)?o.appendChild(l,u):l.appendChild(u)}function _E(o,l,u,d,f){null!==d?kd(o,l,u,d,f):Pp(o,l,u)}function u_(o,l){return si(o)?o.parentNode(l):l.parentNode}function yE(o,l,u){return d_(o,l,u)}let d_=function e0(o,l,u){return 40&o.type?tr(o,u):null};function Bc(o,l,u,d){const f=mE(o,d,l),m=l[11],T=yE(d.parent||l[6],d,l);if(null!=f)if(Array.isArray(u))for(let x=0;x<u.length;x++)_E(m,f,u[x],T,!1);else _E(m,f,u,T,!1)}function Lp(o,l){if(null!==l){const u=l.type;if(3&u)return tr(l,o);if(4&u)return n0(-1,o[l.index]);if(8&u){const d=l.child;if(null!==d)return Lp(o,d);{const f=o[l.index];return fr(f)?n0(-1,f):Jn(f)}}if(32&u)return Yv(l,o)()||Jn(o[l.index]);{const d=t0(o,l);return null!==d?Array.isArray(d)?d[0]:Lp(kp(o[16]),d):Lp(o,l.next)}}return null}function t0(o,l){return null!==l?o[16][6].projection[l.projection]:null}function n0(o,l){const u=10+o+1;if(u<l.length){const d=l[u],f=d[1].firstChild;if(null!==f)return Lp(d,f)}return l[7]}function h_(o,l,u,d,f,m,v){for(;null!=u;){const T=d[u.index],x=u.type;if(v&&0===l&&(T&&ir(Jn(T),d),u.flags|=4),64!=(64&u.flags))if(8&x)h_(o,l,u.child,d,f,m,!1),Tn(l,o,f,T,m);else if(32&x){const P=Yv(u,d);let V;for(;V=P();)Tn(l,o,f,V,m);Tn(l,o,f,T,m)}else 16&x?r0(o,l,d,u,f,m):Tn(l,o,f,T,m);u=v?u.projectionNext:u.next}}function Vp(o,l,u,d,f,m){h_(u,d,o.firstChild,l,f,m,!1)}function r0(o,l,u,d,f,m){const v=u[16],x=v[6].projection[d.projection];if(Array.isArray(x))for(let P=0;P<x.length;P++)Tn(l,o,f,x[P],m);else h_(o,l,x,v[3],f,m,!0)}function p_(o,l,u){si(o)?o.setAttribute(l,"style",u):l.style.cssText=u}function Bp(o,l,u){si(o)?""===u?o.removeAttribute(l,"class"):o.setAttribute(l,"class",u):l.className=u}function bE(o,l,u){let d=o.length;for(;;){const f=o.indexOf(l,u);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const m=l.length;if(f+m===d||o.charCodeAt(f+m)<=32)return f}u=f+1}}const wE="ng-template";function zA(o,l,u){let d=0;for(;d<o.length;){let f=o[d++];if(u&&"class"===f){if(f=o[d],-1!==bE(f.toLowerCase(),l,0))return!0}else if(1===f){for(;d<o.length&&"string"==typeof(f=o[d++]);)if(f.toLowerCase()===l)return!0;return!1}}return!1}function CE(o){return 4===o.type&&o.value!==wE}function g_(o,l,u){return l===(4!==o.type||u?o.value:wE)}function Up(o,l,u){let d=4;const f=o.attrs||[],m=function a0(o){for(let l=0;l<o.length;l++)if(Gr(o[l]))return l;return o.length}(f);let v=!1;for(let T=0;T<l.length;T++){const x=l[T];if("number"!=typeof x){if(!v)if(4&d){if(d=2|1&d,""!==x&&!g_(o,x,u)||""===x&&1===l.length){if(oa(d))return!1;v=!0}}else{const P=8&d?x:l[++T];if(8&d&&null!==o.attrs){if(!zA(o.attrs,P,u)){if(oa(d))return!1;v=!0}continue}const Y=EE(8&d?"class":x,f,CE(o),u);if(-1===Y){if(oa(d))return!1;v=!0;continue}if(""!==P){let ie;ie=Y>m?"":f[Y+1].toLowerCase();const he=8&d?ie:null;if(he&&-1!==bE(he,P,0)||2&d&&P!==ie){if(oa(d))return!1;v=!0}}}}else{if(!v&&!oa(d)&&!oa(x))return!1;if(v&&oa(x))continue;v=!1,d=x|1&d}}return oa(d)||v}function oa(o){return 0==(1&o)}function EE(o,l,u,d){if(null===l)return-1;let f=0;if(d||!u){let m=!1;for(;f<l.length;){const v=l[f];if(v===o)return f;if(3===v||6===v)m=!0;else{if(1===v||2===v){let T=l[++f];for(;"string"==typeof T;)T=l[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=m?1:2}return-1}return function ZA(o,l){let u=o.indexOf(4);if(u>-1)for(u++;u<o.length;){const d=o[u];if("number"==typeof d)return-1;if(d===l)return u;u++}return-1}(l,o)}function o0(o,l,u=!1){for(let d=0;d<l.length;d++)if(Up(o,l[d],u))return!0;return!1}function YA(o,l){e:for(let u=0;u<l.length;u++){const d=l[u];if(o.length===d.length){for(let f=0;f<o.length;f++)if(o[f]!==d[f])continue e;return!0}}return!1}function TE(o,l){return o?":not("+l.trim()+")":l}function DE(o){let l=o[0],u=1,d=2,f="",m=!1;for(;u<o.length;){let v=o[u];if("string"==typeof v)if(2&d){const T=o[++u];f+="["+v+(T.length>0?'="'+T+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!oa(v)&&(l+=TE(m,f),f=""),d=v,m=m||!oa(d);u++}return""!==f&&(l+=TE(m,f)),l}const fn={};function IE(o){l0(dn(),Ge(),Mr()+o,Aa())}function l0(o,l,u,d){if(!d)if(3==(3&l[2])){const m=o.preOrderCheckHooks;null!==m&&Pl(l,m,u)}else{const m=o.preOrderHooks;null!==m&&Fl(l,m,0,u)}lo(u)}function y_(o,l){return o<<17|l<<2}function il(o){return o>>17&32767}function ql(o){return 2|o}function Uc(o){return(131068&o)>>2}function Hc(o,l){return-131069&o|l<<2}function d0(o){return 1|o}function OE(o,l){const u=o.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const f=u[d],m=u[d+1];if(-1!==m){const v=o.data[m];_c(f),v.contentQueries(2,l[m],m)}}}function qp(o,l,u,d,f,m,v,T,x,P){const V=l.blueprint.slice();return V[0]=f,V[2]=140|d,Fs(V),V[3]=V[15]=o,V[8]=u,V[10]=v||o&&o[10],V[11]=T||o&&o[11],V[12]=x||o&&o[12]||null,V[9]=P||o&&o[9]||null,V[6]=m,V[16]=2==l.type?o[16]:V,V}function Zh(o,l,u,d,f){let m=o.data[l];if(null===m)m=function w0(o,l,u,d,f){const m=Ls(),v=Qo(),x=o.data[l]=function FE(o,l,u,d,f,m){return{type:u,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,u,l,d,f);return null===o.firstChild&&(o.firstChild=x),null!==m&&(v?null==m.child&&null!==x.parent&&(m.child=x):null===m.next&&(m.next=x)),x}(o,l,u,d,f),function Bn(){return Lt.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=u,m.value=d,m.attrs=f;const v=function ss(){const o=Lt.lFrame,l=o.currentTNode;return o.isParent?l:l.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return bs(m,!0),m}function Yh(o,l,u,d){if(0===u)return-1;const f=l.length;for(let m=0;m<u;m++)l.push(d),o.blueprint.push(d),o.data.push(null);return f}function zp(o,l,u){Ya(l);try{const d=o.viewQuery;null!==d&&F0(1,d,u);const f=o.template;null!==f&&NE(o,l,f,1,u),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&OE(o,l),o.staticViewQueries&&F0(2,o.viewQuery,u);const m=o.components;null!==m&&function ux(o,l){for(let u=0;u<l.length;u++)Pd(o,l[u])}(l,m)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{l[2]&=-5,Xo()}}function Kh(o,l,u,d){const f=l[2];if(256==(256&f))return;Ya(l);const m=Aa();try{Fs(l),function xa(o){return Lt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==u&&NE(o,l,u,2,d);const v=3==(3&f);if(!m)if(v){const P=o.preOrderCheckHooks;null!==P&&Pl(l,P,null)}else{const P=o.preOrderHooks;null!==P&&Fl(l,P,0,null),Oi(l,0)}if(function zE(o){for(let l=o_(o);null!==l;l=a_(l)){if(!l[2])continue;const u=l[9];for(let d=0;d<u.length;d++){const f=u[d],m=f[3];0==(1024&f[2])&&so(m,1),f[2]|=1024}}}(l),function qE(o){for(let l=o_(o);null!==l;l=a_(l))for(let u=10;u<l.length;u++){const d=l[u],f=d[1];Ko(d)&&Kh(f,d,f.template,d[8])}}(l),null!==o.contentQueries&&OE(o,l),!m)if(v){const P=o.contentCheckHooks;null!==P&&Pl(l,P)}else{const P=o.contentHooks;null!==P&&Fl(l,P,1),Oi(l,1)}!function cx(o,l){const u=o.hostBindingOpCodes;if(null!==u)try{for(let d=0;d<u.length;d++){const f=u[d];if(f<0)lo(~f);else{const m=f,v=u[++d],T=u[++d];gc(v,m),T(2,l[m])}}}finally{lo(-1)}}(o,l);const T=o.components;null!==T&&function $p(o,l){for(let u=0;u<l.length;u++)R0(o,l[u])}(l,T);const x=o.viewQuery;if(null!==x&&F0(2,x,d),!m)if(v){const P=o.viewCheckHooks;null!==P&&Pl(l,P)}else{const P=o.viewHooks;null!==P&&Fl(l,P,2),Oi(l,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),m||(l[2]&=-73),1024&l[2]&&(l[2]&=-1025,so(l[3],-1))}finally{Xo()}}function dx(o,l,u,d){const f=l[10],m=!Aa(),v=ro(l);try{m&&!v&&f.begin&&f.begin(),v&&zp(o,l,d),Kh(o,l,u,d)}finally{m&&!v&&f.end&&f.end()}}function NE(o,l,u,d,f){const m=Mr(),v=2&d;try{lo(-1),v&&l.length>20&&l0(o,l,20,Aa()),u(d,f)}finally{lo(m)}}function C0(o,l,u){if(Cl(l)){const f=l.directiveEnd;for(let m=l.directiveStart;m<f;m++){const v=o.data[m];v.contentQueries&&v.contentQueries(1,u[m],m)}}}function E0(o,l,u){!ys()||(function yx(o,l,u,d){const f=u.directiveStart,m=u.directiveEnd;o.firstCreatePass||b(u,l),ir(d,l);const v=u.initialInputs;for(let T=f;T<m;T++){const x=o.data[T],P=zi(x);P&&k0(l,u,x);const V=_n(l,o,T,u);ir(V,l),null!==v&&wx(0,T-f,V,x,0,v),P&&(xr(u.index,l)[8]=V)}}(o,l,u,tr(u,l)),128==(128&u.flags)&&function vx(o,l,u){const d=u.directiveStart,f=u.directiveEnd,v=u.index,T=function mr(){return Lt.lFrame.currentDirectiveIndex}();try{lo(v);for(let x=d;x<f;x++){const P=o.data[x],V=l[x];Ml(x),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&UE(P,V)}}finally{lo(-1),Ml(T)}}(o,l,u))}function T0(o,l,u=tr){const d=l.localNames;if(null!==d){let f=l.index+1;for(let m=0;m<d.length;m+=2){const v=d[m+1],T=-1===v?u(l,o):o[v];o[f++]=T}}}function PE(o){const l=o.tView;return null===l||l.incompleteFirstPass?o.tView=E_(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):l}function E_(o,l,u,d,f,m,v,T,x,P){const V=20+d,Y=V+f,ie=function hx(o,l){const u=[];for(let d=0;d<l;d++)u.push(d<o?null:fn);return u}(V,Y),he="function"==typeof P?P():P;return ie[1]={type:o,blueprint:ie,template:u,queries:null,viewQuery:T,declTNode:l,data:ie.slice().fill(null,V),bindingStartIndex:V,expandoStartIndex:Y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:x,consts:he,incompleteFirstPass:!1}}function S0(o,l,u,d){const f=JE(l);null===u?f.push(d):(f.push(u),o.firstCreatePass&&XE(o).push(d,f.length-1))}function A0(o,l,u){for(let d in o)if(o.hasOwnProperty(d)){const f=o[d];(u=null===u?{}:u).hasOwnProperty(d)?u[d].push(l,f):u[d]=[l,f]}return u}function la(o,l,u,d,f,m,v,T){const x=tr(l,u);let V,P=l.inputs;!T&&null!=P&&(V=P[d])?(Dx(o,u,V,d,f),yo(l)&&function mx(o,l){const u=xr(l,o);16&u[2]||(u[2]|=64)}(u,l.index)):3&l.type&&(d=function px(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),f=null!=v?v(f,l.value||"",d):f,si(m)?m.setProperty(x,d,f):kr(d)||(x.setProperty?x.setProperty(d,f):x[d]=f))}function Wp(o,l,u,d){let f=!1;if(ys()){const m=function HE(o,l,u){const d=o.directiveRegistry;let f=null;if(d)for(let m=0;m<d.length;m++){const v=d[m];o0(u,v.selectors,!1)&&(f||(f=[]),Q(b(u,l),o,v.type),zi(v)?(jE(o,u),f.unshift(v)):f.push(v))}return f}(o,l,u),v=null===d?null:{"":-1};if(null!==m){f=!0,GE(u,o.data.length,m.length);for(let V=0;V<m.length;V++){const Y=m[V];Y.providersResolver&&Y.providersResolver(Y)}let T=!1,x=!1,P=Yh(o,l,m.length,null);for(let V=0;V<m.length;V++){const Y=m[V];u.mergedAttrs=Jt(u.mergedAttrs,Y.hostAttrs),M0(o,u,l,P,Y),Ts(P,Y,v),null!==Y.contentQueries&&(u.flags|=8),(null!==Y.hostBindings||null!==Y.hostAttrs||0!==Y.hostVars)&&(u.flags|=128);const ie=Y.type.prototype;!T&&(ie.ngOnChanges||ie.ngOnInit||ie.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(u.index),T=!0),!x&&(ie.ngOnChanges||ie.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(u.index),x=!0),P++}!function fx(o,l){const d=l.directiveEnd,f=o.data,m=l.attrs,v=[];let T=null,x=null;for(let P=l.directiveStart;P<d;P++){const V=f[P],Y=V.inputs,ie=null===m||CE(l)?null:Cx(Y,m);v.push(ie),T=A0(Y,P,T),x=A0(V.outputs,P,x)}null!==T&&(T.hasOwnProperty("class")&&(l.flags|=16),T.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=v,l.inputs=T,l.outputs=x}(o,u)}v&&function bx(o,l,u){if(l){const d=o.localNames=[];for(let f=0;f<l.length;f+=2){const m=u[l[f+1]];if(null==m)throw new Ke(-301,!1);d.push(l[f],m)}}}(u,d,v)}return u.mergedAttrs=Jt(u.mergedAttrs,u.attrs),f}function x0(o,l,u,d,f,m){const v=m.hostBindings;if(v){let T=o.hostBindingOpCodes;null===T&&(T=o.hostBindingOpCodes=[]);const x=~l.index;(function _x(o){let l=o.length;for(;l>0;){const u=o[--l];if("number"==typeof u&&u<0)return u}return 0})(T)!=x&&T.push(x),T.push(d,f,v)}}function UE(o,l){null!==o.hostBindings&&o.hostBindings(1,l)}function jE(o,l){l.flags|=2,(o.components||(o.components=[])).push(l.index)}function Ts(o,l,u){if(u){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)u[l.exportAs[d]]=o;zi(l)&&(u[""]=o)}}function GE(o,l,u){o.flags|=1,o.directiveStart=l,o.directiveEnd=l+u,o.providerIndexes=l}function M0(o,l,u,d,f){o.data[d]=f;const m=f.factory||(f.factory=is(f.type)),v=new Ka(m,zi(f),null);o.blueprint[d]=v,u[d]=v,x0(o,l,0,d,Yh(o,u,f.hostVars,fn),f)}function k0(o,l,u){const d=tr(l,o),f=PE(u),m=o[10],v=T_(o,qp(o,f,null,u.onPush?64:16,d,l,m,m.createRenderer(d,u),null,null));o[l.index]=v}function Pa(o,l,u,d,f,m){const v=tr(o,l);!function Ou(o,l,u,d,f,m,v){if(null==m)si(o)?o.removeAttribute(l,f,u):l.removeAttribute(f);else{const T=null==v?Re(m):v(m,d||"",f);si(o)?o.setAttribute(l,f,T,u):u?l.setAttributeNS(u,f,T):l.setAttribute(f,T)}}(l[11],v,m,o.value,u,d,f)}function wx(o,l,u,d,f,m){const v=m[l];if(null!==v){const T=d.setInput;for(let x=0;x<v.length;){const P=v[x++],V=v[x++],Y=v[x++];null!==T?d.setInput(u,Y,P,V):u[V]=Y}}}function Cx(o,l){let u=null,d=0;for(;d<l.length;){const f=l[d];if(0!==f)if(5!==f){if("number"==typeof f)break;o.hasOwnProperty(f)&&(null===u&&(u=[]),u.push(f,o[f],l[d+1])),d+=2}else d+=2;else d+=4}return u}function $E(o,l,u,d){return new Array(o,!0,!1,l,null,0,d,u,null,null)}function R0(o,l){const u=xr(l,o);if(Ko(u)){const d=u[1];80&u[2]?Kh(d,u,d.template,u[8]):u[5]>0&&WE(u)}}function WE(o){for(let d=o_(o);null!==d;d=a_(d))for(let f=10;f<d.length;f++){const m=d[f];if(1024&m[2]){const v=m[1];Kh(v,m,v.template,m[8])}else m[5]>0&&WE(m)}const u=o[1].components;if(null!==u)for(let d=0;d<u.length;d++){const f=xr(u[d],o);Ko(f)&&f[5]>0&&WE(f)}}function Pd(o,l){const u=xr(l,o),d=u[1];(function ZE(o,l){for(let u=l.length;u<o.blueprint.length;u++)l.push(o.blueprint[u])})(d,u),zp(d,u,u[8])}function T_(o,l){return o[13]?o[14][4]=l:o[13]=l,o[14]=l,l}function O0(o){for(;o;){o[2]|=64;const l=kp(o);if(El(o)&&!l)return o;o=l}return null}function P0(o,l,u){const d=l[10];d.begin&&d.begin();try{Kh(o,l,o.template,u)}catch(f){throw eT(l,f),f}finally{d.end&&d.end()}}function KE(o){!function N0(o){for(let l=0;l<o.components.length;l++){const u=o.components[l],d=Zr(u),f=d[1];dx(f,d,f.template,u)}}(o[8])}function F0(o,l,u){_c(0),l(o,u)}const L0=(()=>Promise.resolve(null))();function JE(o){return o[7]||(o[7]=[])}function XE(o){return o.cleanup||(o.cleanup=[])}function V0(o,l,u){return(null===o||zi(o))&&(u=function pc(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(u[l.index])),u[11]}function eT(o,l){const u=o[9],d=u?u.get(Mp,null):null;d&&d.handleError(l)}function Dx(o,l,u,d,f){for(let m=0;m<u.length;){const v=u[m++],T=u[m++],x=l[v],P=o.data[v];null!==P.setInput?P.setInput(x,f,d,T):x[T]=f}}function ca(o,l,u){const d=To(l,o);!function cE(o,l,u){si(o)?o.setValue(l,u):l.textContent=u}(o[11],d,u)}function Qh(o,l,u){let d=u?o.styles:null,f=u?o.classes:null,m=0;if(null!==l)for(let v=0;v<l.length;v++){const T=l[v];"number"==typeof T?m=T:1==m?f=Me(f,T):2==m&&(d=Me(d,T+": "+l[++v]+";"))}u?o.styles=d:o.stylesWithoutHost=d,u?o.classes=f:o.classesWithoutHost=f}const Jh=new Wi("INJECTOR",-1);class tT{get(l,u=Xa){if(u===Xa){const d=new Error(`NullInjectorError: No provider for ${Ee(l)}!`);throw d.name="NullInjectorError",d}return u}}const rl=new Wi("Set Injector scope."),Dt={},B0={};let an;function Zp(){return void 0===an&&(an=new tT),an}function I_(o,l=null,u=null,d){const f=Xh(o,l,u,d);return f._resolveInjectorDefTypes(),f}function Xh(o,l=null,u=null,d){return new Sx(o,u,l||Zp(),d)}class Sx{constructor(l,u,d,f=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];u&&ko(u,T=>this.processProvider(T,l,u)),ko([l],T=>this.processInjectorType(T,[],m)),this.records.set(Jh,rr(void 0,this));const v=this.records.get(rl);this.scope=null!=v?v.value:null,this.source=f||("object"==typeof l?null:Ee(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,u=Xa,d=kt.Default){this.assertNotDestroyed();const f=Ye(this),m=Nn(void 0);try{if(!(d&kt.SkipSelf)){let T=this.records.get(l);if(void 0===T){const x=function kx(o){return"function"==typeof o||"object"==typeof o&&o instanceof Wi}(l)&&ni(l);T=x&&this.injectableDefInScope(x)?rr(Yp(l),Dt):null,this.records.set(l,T)}if(null!=T)return this.hydrate(l,T)}return(d&kt.Self?Zp():this.parent).get(l,u=d&kt.Optional&&u===Xa?null:u)}catch(v){if("NullInjectorError"===v.name){if((v[Iu]=v[Iu]||[]).unshift(Ee(l)),f)throw v;return function kc(o,l,u,d){const f=o[Iu];throw l[X]&&f.unshift(l[X]),o.message=function Rc(o,l,u,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let f=Ee(l);if(Array.isArray(l))f=l.map(Ee).join(" -> ");else if("object"==typeof l){let m=[];for(let v in l)if(l.hasOwnProperty(v)){let T=l[v];m.push(v+":"+("string"==typeof T?JSON.stringify(T):Ee(T)))}f=`{${m.join(", ")}}`}return`${u}${d?"("+d+")":""}[${f}]: ${o.replace(O,"\n  ")}`}("\n"+o.message,f,u,d),o.ngTokenPath=f,o[Iu]=null,o}(v,l,"R3InjectorError",this.source)}throw v}finally{Nn(m),Ye(f)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((d,f)=>l.push(Ee(f))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ke(205,!1)}processInjectorType(l,u,d){if(!(l=_e(l)))return!1;let f=Lr(l);const m=null==f&&l.ngModule||void 0,v=void 0===m?l:m,T=-1!==d.indexOf(v);if(void 0!==m&&(f=Lr(m)),null==f)return!1;if(null!=f.imports&&!T){let V;d.push(v);try{ko(f.imports,Y=>{this.processInjectorType(Y,u,d)&&(void 0===V&&(V=[]),V.push(Y))})}finally{}if(void 0!==V)for(let Y=0;Y<V.length;Y++){const{ngModule:ie,providers:he}=V[Y];ko(he,Le=>this.processProvider(Le,ie,he||Pt))}}this.injectorDefTypes.add(v);const x=is(v)||(()=>new v);this.records.set(v,rr(x,Dt));const P=f.providers;if(null!=P&&!T){const V=l;ko(P,Y=>this.processProvider(Y,V,P))}return void 0!==m&&void 0!==l.providers}processProvider(l,u,d){let f=ef(l=_e(l))?l:_e(l&&l.provide);const m=function xx(o,l,u){return Kp(o)?rr(void 0,o.useValue):rr(nT(o),Dt)}(l);if(ef(l)||!0!==l.multi)this.records.get(f);else{let v=this.records.get(f);v||(v=rr(void 0,Dt,!0),v.factory=()=>Zt(v.multi),this.records.set(f,v)),f=l,v.multi.push(l)}this.records.set(f,m)}hydrate(l,u){return u.value===Dt&&(u.value=B0,u.value=u.factory()),"object"==typeof u.value&&u.value&&function rT(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(u.value)&&this.onDestroy.add(u.value),u.value}injectableDefInScope(l){if(!l.providedIn)return!1;const u=_e(l.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function Yp(o){const l=ni(o),u=null!==l?l.factory:is(o);if(null!==u)return u;if(o instanceof Wi)throw new Ke(204,!1);if(o instanceof Function)return function Ax(o){const l=o.length;if(l>0)throw Es(l,"?"),new Ke(204,!1);const u=function Kt(o){const l=o&&(o[Xr]||o[ii]);if(l){const u=function vi(o){if(o.hasOwnProperty("name"))return o.name;const l=(""+o).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),l}return null}(o);return null!==u?()=>u.factory(o):()=>new o}(o);throw new Ke(204,!1)}function nT(o,l,u){let d;if(ef(o)){const f=_e(o);return is(f)||Yp(f)}if(Kp(o))d=()=>_e(o.useValue);else if(function Nu(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...Zt(o.deps||[]));else if(function Ds(o){return!(!o||!o.useExisting)}(o))d=()=>xt(_e(o.useExisting));else{const f=_e(o&&(o.useClass||o.provide));if(!function iT(o){return!!o.deps}(o))return is(f)||Yp(f);d=()=>new f(...Zt(o.deps))}return d}function rr(o,l,u=!1){return{factory:o,value:l,multi:u?[]:void 0}}function Kp(o){return null!==o&&"object"==typeof o&&de in o}function ef(o){return"function"==typeof o}let sl=(()=>{class o{static create(u,d){var f;if(Array.isArray(u))return I_({name:""},d,u,"");{const m=null!==(f=u.name)&&void 0!==f?f:"";return I_({name:m},u.parent,u.providers,m)}}}return o.THROW_IF_NOT_FOUND=Xa,o.NULL=new tT,o.\u0275prov=Mn({token:o,providedIn:"any",factory:()=>xt(Jh)}),o.__NG_ELEMENT_ID__=-1,o})();function W0(o,l){ea(Zr(o)[1],hn())}function Z0(o){let l=function hT(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),u=!0;const d=[o];for(;l;){let f;if(zi(o))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Ke(903,"");f=l.\u0275dir}if(f){if(u){d.push(f);const v=o;v.inputs=Fd(o.inputs),v.declaredInputs=Fd(o.declaredInputs),v.outputs=Fd(o.outputs);const T=f.hostBindings;T&&Lx(o,T);const x=f.viewQuery,P=f.contentQueries;if(x&&Fx(o,x),P&&em(o,P),fe(o.inputs,f.inputs),fe(o.declaredInputs,f.declaredInputs),fe(o.outputs,f.outputs),zi(f)&&f.data.animation){const V=o.data;V.animation=(V.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let v=0;v<m.length;v++){const T=m[v];T&&T.ngInherit&&T(o),T===Z0&&(u=!1)}}l=Object.getPrototypeOf(l)}!function qs(o){let l=0,u=null;for(let d=o.length-1;d>=0;d--){const f=o[d];f.hostVars=l+=f.hostVars,f.hostAttrs=Jt(f.hostAttrs,u=Jt(u,f.hostAttrs))}}(d)}function Fd(o){return o===kn?{}:o===Pt?[]:o}function Fx(o,l){const u=o.viewQuery;o.viewQuery=u?(d,f)=>{l(d,f),u(d,f)}:l}function em(o,l){const u=o.contentQueries;o.contentQueries=u?(d,f,m)=>{l(d,f,m),u(d,f,m)}:l}function Lx(o,l){const u=o.hostBindings;o.hostBindings=u?(d,f)=>{l(d,f),u(d,f)}:l}let tf=null;function Pu(){if(!tf){const o=cn.Symbol;if(o&&o.iterator)tf=o.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<l.length;++u){const d=l[u];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(tf=d)}}}return tf}function Ld(o){return!!K0(o)&&(Array.isArray(o)||!(o instanceof Map)&&Pu()in o)}function K0(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function ol(o,l,u){return o[l]=u}function ls(o,l,u){return!Object.is(o[l],u)&&(o[l]=u,!0)}function Fu(o,l,u,d){const f=ls(o,l,u);return ls(o,l+1,d)||f}function tm(o,l,u,d){const f=Ge();return ls(f,nr(),l)&&(dn(),Pa(Ei(),f,o,l,u,d)),tm}function X0(o,l,u,d,f,m,v,T){const x=Ge(),P=dn(),V=o+20,Y=P.firstCreatePass?function J0(o,l,u,d,f,m,v,T,x){const P=l.consts,V=Zh(l,o,4,v||null,gs(P,T));Wp(l,u,V,gs(P,x)),ea(l,V);const Y=V.tViews=E_(2,V,d,f,m,l.directiveRegistry,l.pipeRegistry,null,l.schemas,P);return null!==l.queries&&(l.queries.template(l,V),Y.queries=l.queries.embeddedTView(V)),V}(V,P,x,l,u,d,f,m,v):P.data[V];bs(Y,!1);const ie=x[11].createComment("");Bc(P,x,ie,Y),ir(ie,x),T_(x,x[V]=$E(ie,x,ie,Y)),Ea(Y)&&E0(P,x,Y),null!=v&&T0(x,Y,T)}function lf(o){return rs(function mc(){return Lt.lFrame.contextLView}(),20+o)}function al(o,l=kt.Default){const u=Ge();return null===u?xt(o,l):Ze(hn(),u,_e(o),l)}function z_(){throw new Error("invalid")}function lb(o,l,u){const d=Ge();return ls(d,nr(),l)&&la(dn(),Ei(),d,o,l,d[11],u,!1),lb}function am(o,l,u,d,f){const v=f?"class":"style";Dx(o,u,l.inputs[v],v,d)}function pf(o,l,u,d){const f=Ge(),m=dn(),v=20+o,T=f[11],x=f[v]=Jv(T,l,function Nl(){return Lt.lFrame.currentNamespace}()),P=m.firstCreatePass?function ff(o,l,u,d,f,m,v){const T=l.consts,P=Zh(l,o,2,f,gs(T,m));return Wp(l,u,P,gs(T,v)),null!==P.attrs&&Qh(P,P.attrs,!1),null!==P.mergedAttrs&&Qh(P,P.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,P),P}(v,m,f,0,l,u,d):m.data[v];bs(P,!0);const V=P.mergedAttrs;null!==V&&oi(T,x,V);const Y=P.classes;null!==Y&&Bp(T,x,Y);const ie=P.styles;return null!==ie&&p_(T,x,ie),64!=(64&P.flags)&&Bc(m,f,x,P),0===function Br(){return Lt.lFrame.elementDepthCount}()&&ir(x,f),function _s(){Lt.lFrame.elementDepthCount++}(),Ea(P)&&(E0(m,f,P),C0(m,P,f)),null!==d&&T0(f,P),pf}function zl(){let o=hn();Qo()?oo():(o=o.parent,bs(o,!1));const l=o;!function _u(){Lt.lFrame.elementDepthCount--}();const u=dn();return u.firstCreatePass&&(ea(u,o),Cl(o)&&u.queries.elementEnd(o)),null!=l.classesWithoutHost&&function Tc(o){return 0!=(16&o.flags)}(l)&&am(u,l,Ge(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function bu(o){return 0!=(32&o.flags)}(l)&&am(u,l,Ge(),l.stylesWithoutHost,!1),zl}function W_(o,l,u,d){return pf(o,l,u,d),zl(),W_}function Fa(o,l,u){const d=Ge(),f=dn(),m=o+20,v=f.firstCreatePass?function Ud(o,l,u,d,f){const m=l.consts,v=gs(m,d),T=Zh(l,o,8,"ng-container",v);return null!==v&&Qh(T,v,!0),Wp(l,u,T,gs(m,f)),null!==l.queries&&l.queries.elementStart(l,T),T}(m,f,d,l,u):f.data[m];bs(v,!0);const T=d[m]=d[11].createComment("");return Bc(f,d,T,v),ir(T,d),Ea(v)&&(E0(f,d,v),C0(f,v,d)),null!=u&&T0(d,v),Fa}function Hd(){let o=hn();const l=dn();return Qo()?oo():(o=o.parent,bs(o,!1)),l.firstCreatePass&&(ea(l,o),Cl(o)&&l.queries.elementEnd(o)),Hd}function mf(o,l,u){return Fa(o,l,u),Hd(),mf}function lm(){return Ge()}function Z_(o){return!!o&&"function"==typeof o.then}function Pi(o){return!!o&&"function"==typeof o.subscribe}const cm=Pi;function cb(o,l,u,d){const f=Ge(),m=dn(),v=hn();return gf(m,f,f[11],v,o,l,!!u,d),cb}function ub(o,l){const u=hn(),d=Ge(),f=dn();return gf(f,d,V0(ao(f.data),u,d),u,o,l,!1),ub}function gf(o,l,u,d,f,m,v,T){const x=Ea(d),V=o.firstCreatePass&&XE(o),Y=l[8],ie=JE(l);let he=!0;if(3&d.type||T){const ut=tr(d,l),Et=T?T(ut):ut,$e=ie.length,Ht=T?Pn=>T(Jn(Pn[d.index])):d.index;if(si(u)){let Pn=null;if(!T&&x&&(Pn=function um(o,l,u,d){const f=o.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const v=f[m];if(v===u&&f[m+1]===d){const T=l[7],x=f[m+2];return T.length>x?T[x]:null}"string"==typeof v&&(m+=2)}return null}(o,l,f,d.index)),null!==Pn)(Pn.__ngLastListenerFn__||Pn).__ngNextListenerFn__=m,Pn.__ngLastListenerFn__=m,he=!1;else{m=Y_(d,l,Y,m,!1);const li=u.listen(Et,f,m);ie.push(m,li),V&&V.push(f,Ht,$e,$e+1)}}else m=Y_(d,l,Y,m,!0),Et.addEventListener(f,m,v),ie.push(m),V&&V.push(f,Ht,$e,v)}else m=Y_(d,l,Y,m,!1);const Le=d.outputs;let nt;if(he&&null!==Le&&(nt=Le[f])){const ut=nt.length;if(ut)for(let Et=0;Et<ut;Et+=2){const Bo=l[nt[Et]][nt[Et+1]].subscribe(m),uh=ie.length;ie.push(m,Bo),V&&V.push(f,d.index,uh,-(uh+1))}}}function ST(o,l,u,d){try{return!1!==u(d)}catch(f){return eT(o,f),!1}}function Y_(o,l,u,d,f){return function m(v){if(v===Function)return d;const T=2&o.flags?xr(o.index,l):l;0==(32&l[2])&&O0(T);let x=ST(l,0,d,v),P=m.__ngNextListenerFn__;for(;P;)x=ST(l,0,P,v)&&x,P=P.__ngNextListenerFn__;return f&&!1===x&&(v.preventDefault(),v.returnValue=!1),x}}function AT(o=1){return function Io(o){return(Lt.lFrame.contextLView=function Rl(o,l){for(;o>0;)l=l[15],o--;return l}(o,Lt.lFrame.contextLView))[8]}(o)}function $x(o,l){let u=null;const d=function WA(o){const l=o.attrs;if(null!=l){const u=l.indexOf(5);if(0==(1&u))return l[u+1]}return null}(o);for(let f=0;f<l.length;f++){const m=l[f];if("*"!==m){if(null===d?o0(o,m,!0):YA(d,m))return f}else u=f}return u}function xT(o){const l=Ge()[16][6];if(!l.projection){const d=l.projection=Es(o?o.length:1,null),f=d.slice();let m=l.child;for(;null!==m;){const v=o?$x(m,o):0;null!==v&&(f[v]?f[v].projectionNext=m:d[v]=m,f[v]=m),m=m.next}}}function MT(o,l=0,u){const d=Ge(),f=dn(),m=Zh(f,20+o,16,null,u||null);null===m.projection&&(m.projection=l),oo(),64!=(64&m.flags)&&function f_(o,l,u){r0(l[11],0,l,u,mE(o,u,l),yE(u.parent||l[6],u,l))}(f,d,m)}function K_(o,l,u,d,f){const m=o[u+1],v=null===l;let T=d?il(m):Uc(m),x=!1;for(;0!==T&&(!1===x||v);){const V=o[T+1];PT(o[T],l)&&(x=!0,o[T+1]=d?d0(V):ql(V)),T=d?il(V):Uc(V)}x&&(o[u+1]=d?ql(m):d0(m))}function PT(o,l){return null===o||null==l||(Array.isArray(o)?o[1]:o)===l||!(!Array.isArray(o)||"string"!=typeof l)&&Ro(o,l)>=0}function gb(o,l,u){return La(o,l,u,!1),gb}function _b(o,l){return La(o,l,null,!0),_b}function La(o,l,u,d){const f=Ge(),m=dn(),v=function Ur(o){const l=Lt.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+o,u}(2);m.firstUpdatePass&&function Yl(o,l,u,d){const f=o.data;if(null===f[u+1]){const m=f[Mr()],v=function yb(o,l){return l>=o.expandoStartIndex}(o,u);(function Cb(o,l){return 0!=(o.flags&(l?16:32))})(m,d)&&null===l&&!v&&(l=!1),l=function BT(o,l,u,d){const f=ao(o);let m=d?l.residualClasses:l.residualStyles;if(null===f)0===(d?l.classBindings:l.styleBindings)&&(u=Gd(u=X_(null,o,l,u,d),l.attrs,d),m=null);else{const v=l.directiveStylingLast;if(-1===v||o[v]!==f)if(u=X_(f,o,l,u,d),null===m){let x=function Qx(o,l,u){const d=u?l.classBindings:l.styleBindings;if(0!==Uc(d))return o[il(d)]}(o,l,d);void 0!==x&&Array.isArray(x)&&(x=X_(null,o,l,x[1],d),x=Gd(x,l.attrs,d),function vb(o,l,u,d){o[il(u?l.classBindings:l.styleBindings)]=d}(o,l,d,x))}else m=function fm(o,l,u){let d;const f=l.directiveEnd;for(let m=1+l.directiveStylingLast;m<f;m++)d=Gd(d,o[m].hostAttrs,u);return Gd(d,l.attrs,u)}(o,l,d)}return void 0!==m&&(d?l.residualClasses=m:l.residualStyles=m),u}(f,m,l,d),function NT(o,l,u,d,f,m){let v=m?l.classBindings:l.styleBindings,T=il(v),x=Uc(v);o[d]=u;let V,P=!1;if(Array.isArray(u)){const Y=u;V=Y[1],(null===V||Ro(Y,V)>0)&&(P=!0)}else V=u;if(f)if(0!==x){const ie=il(o[T+1]);o[d+1]=y_(ie,T),0!==ie&&(o[ie+1]=Hc(o[ie+1],d)),o[T+1]=function u0(o,l){return 131071&o|l<<17}(o[T+1],d)}else o[d+1]=y_(T,0),0!==T&&(o[T+1]=Hc(o[T+1],d)),T=d;else o[d+1]=y_(x,0),0===T?T=d:o[x+1]=Hc(o[x+1],d),x=d;P&&(o[d+1]=ql(o[d+1])),K_(o,V,d,!0),K_(o,V,d,!1),function mb(o,l,u,d,f){const m=f?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof l&&Ro(m,l)>=0&&(u[d+1]=d0(u[d+1]))}(l,V,o,d,m),v=y_(T,x),m?l.classBindings=v:l.styleBindings=v}(f,m,l,u,v,d)}}(m,o,v,d),l!==fn&&ls(f,v,l)&&function pm(o,l,u,d,f,m,v,T){if(!(3&l.type))return;const x=o.data,P=x[T+1];mm(function AE(o){return 1==(1&o)}(P)?UT(x,l,u,f,Uc(P),v):void 0)||(mm(m)||function SE(o){return 2==(2&o)}(P)&&(m=UT(x,null,u,f,T,v)),function vE(o,l,u,d,f){const m=si(o);if(l)f?m?o.addClass(u,d):u.classList.add(d):m?o.removeClass(u,d):u.classList.remove(d);else{let v=-1===d.indexOf("-")?void 0:Yr.DashCase;if(null==f)m?o.removeStyle(u,d,v):u.style.removeProperty(d);else{const T="string"==typeof f&&f.endsWith("!important");T&&(f=f.slice(0,-10),v|=Yr.Important),m?o.setStyle(u,d,f,v):u.style.setProperty(d,f,T?"important":"")}}}(d,v,To(Mr(),u),f,m))}(m,m.data[Mr()],f,f[11],o,f[v+1]=function gm(o,l){return null==o||("string"==typeof l?o+=l:"object"==typeof o&&(o=Ee(Na(o)))),o}(l,u),d,v)}function X_(o,l,u,d,f){let m=null;const v=u.directiveEnd;let T=u.directiveStylingLast;for(-1===T?T=u.directiveStart:T++;T<v&&(m=l[T],d=Gd(d,m.hostAttrs,f),m!==o);)T++;return null!==o&&(u.directiveStylingLast=T),d}function Gd(o,l,u){const d=u?1:2;let f=-1;if(null!==l)for(let m=0;m<l.length;m++){const v=l[m];"number"==typeof v?f=v:f===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),as(o,v,!!u||l[++m]))}return void 0===o?null:o}function UT(o,l,u,d,f,m){const v=null===l;let T;for(;f>0;){const x=o[f],P=Array.isArray(x),V=P?x[1]:x,Y=null===V;let ie=u[f+1];ie===fn&&(ie=Y?Pt:void 0);let he=Y?Mc(ie,d):V===d?ie:void 0;if(P&&!mm(he)&&(he=Mc(x,d)),mm(he)&&(T=he,v))return T;const Le=o[f+1];f=v?il(Le):Uc(Le)}if(null!==l){let x=m?l.residualClasses:l.residualStyles;null!=x&&(T=Mc(x,d))}return T}function mm(o){return void 0!==o}function Eb(o,l=""){const u=Ge(),d=dn(),f=o+20,m=d.firstCreatePass?Zh(d,f,1,l,null):d.data[f],v=u[f]=function xd(o,l){return si(o)?o.createText(l):o.createTextNode(l)}(u[11],l);Bc(d,u,v,m),bs(m,!1)}function _m(o){return bf("",o,""),_m}function bf(o,l,u){const d=Ge(),f=function Ki(o,l,u,d){return ls(o,nr(),u)?l+Re(u)+d:fn}(d,o,l,u);return f!==fn&&ca(d,Mr(),f),bf}function kb(o,l,u){const d=Ge();return ls(d,nr(),l)&&la(dn(),Ei(),d,o,l,d[11],u,!0),kb}function mt(o,l,u){const d=Ge();if(ls(d,nr(),l)){const m=dn(),v=Ei();la(m,v,d,o,l,V0(ao(m.data),v,d),u,!0)}return mt}const De=void 0;var cs=["en",[["a","p"],["AM","PM"],De],[["AM","PM"],De,De],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],De,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],De,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",De,"{1} 'at' {0}",De],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ze(o){const u=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let $d={};function Rb(o){const l=function LN(o){return o.toLowerCase().replace(/_/g,"-")}(o);let u=ZT(l);if(u)return u;const d=l.split("-")[0];if(u=ZT(d),u)return u;if("en"===d)return cs;throw new Error(`Missing locale data for the locale "${o}".`)}function WT(o){return Rb(o)[Wt.PluralCase]}function ZT(o){return o in $d||($d[o]=cn.ng&&cn.ng.common&&cn.ng.common.locales&&cn.ng.common.locales[o]),$d[o]}var Wt=(()=>((Wt=Wt||{})[Wt.LocaleId=0]="LocaleId",Wt[Wt.DayPeriodsFormat=1]="DayPeriodsFormat",Wt[Wt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Wt[Wt.DaysFormat=3]="DaysFormat",Wt[Wt.DaysStandalone=4]="DaysStandalone",Wt[Wt.MonthsFormat=5]="MonthsFormat",Wt[Wt.MonthsStandalone=6]="MonthsStandalone",Wt[Wt.Eras=7]="Eras",Wt[Wt.FirstDayOfWeek=8]="FirstDayOfWeek",Wt[Wt.WeekendRange=9]="WeekendRange",Wt[Wt.DateFormat=10]="DateFormat",Wt[Wt.TimeFormat=11]="TimeFormat",Wt[Wt.DateTimeFormat=12]="DateTimeFormat",Wt[Wt.NumberSymbols=13]="NumberSymbols",Wt[Wt.NumberFormats=14]="NumberFormats",Wt[Wt.CurrencyCode=15]="CurrencyCode",Wt[Wt.CurrencySymbol=16]="CurrencySymbol",Wt[Wt.CurrencyName=17]="CurrencyName",Wt[Wt.Currencies=18]="Currencies",Wt[Wt.Directionality=19]="Directionality",Wt[Wt.PluralCase=20]="PluralCase",Wt[Wt.ExtraData=21]="ExtraData",Wt))();const vm="en-US";let Ob=vm;function Of(o,l,u,d,f){if(o=_e(o),Array.isArray(o))for(let m=0;m<o.length;m++)Of(o[m],l,u,d,f);else{const m=dn(),v=Ge();let T=ef(o)?o:_e(o.provide),x=nT(o);const P=hn(),V=1048575&P.providerIndexes,Y=P.directiveStart,ie=P.providerIndexes>>20;if(ef(o)||!o.multi){const he=new Ka(x,f,al),Le=Sm(T,l,f?V:V+ie,Y);-1===Le?(Q(b(P,v),m,T),Im(m,o,l.length),l.push(T),P.directiveStart++,P.directiveEnd++,f&&(P.providerIndexes+=1048576),u.push(he),v.push(he)):(u[Le]=he,v[Le]=he)}else{const he=Sm(T,l,V+ie,Y),Le=Sm(T,l,V,V+ie),nt=he>=0&&u[he],ut=Le>=0&&u[Le];if(f&&!ut||!f&&!nt){Q(b(P,v),m,T);const Et=function Am(o,l,u,d,f){const m=new Ka(o,u,al);return m.multi=[],m.index=l,m.componentProviders=0,py(m,f,d&&!u),m}(f?Ba:Nf,u.length,f,d,x);!f&&ut&&(u[Le].providerFactory=Et),Im(m,o,l.length,0),l.push(T),P.directiveStart++,P.directiveEnd++,f&&(P.providerIndexes+=1048576),u.push(Et),v.push(Et)}else Im(m,o,he>-1?he:Le,py(u[f?Le:he],x,!f&&d));!f&&d&&ut&&u[Le].componentProviders++}}}function Im(o,l,u,d){const f=ef(l),m=function Mx(o){return!!o.useClass}(l);if(f||m){const x=(m?_e(l.useClass):l).prototype.ngOnDestroy;if(x){const P=o.destroyHooks||(o.destroyHooks=[]);if(!f&&l.multi){const V=P.indexOf(u);-1===V?P.push(u,[d,x]):P[V+1].push(d,x)}else P.push(u,x)}}}function py(o,l,u){return u&&o.componentProviders++,o.multi.push(l)-1}function Sm(o,l,u,d){for(let f=u;f<d;f++)if(l[f]===o)return f;return-1}function Nf(o,l,u,d){return my(this.multi,[])}function Ba(o,l,u,d){const f=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,T=_n(u,u[1],this.providerFactory.index,d);m=T.slice(0,v),my(f,m);for(let x=v;x<T.length;x++)m.push(T[x])}else m=[],my(f,m);return m}function my(o,l){for(let u=0;u<o.length;u++)l.push((0,o[u])());return l}function Bb(o,l=[]){return u=>{u.providersResolver=(d,f)=>function fy(o,l,u){const d=dn();if(d.firstCreatePass){const f=zi(o);Of(u,d.data,d.blueprint,f,!0),Of(l,d.data,d.blueprint,f,!1)}}(d,f?f(o):o,l)}}class gy{}class yD{resolveComponentFactory(l){throw function _D(o){const l=Error(`No component factory found for ${Ee(o)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=o,l}(l)}}let xm=(()=>{class o{}return o.NULL=new yD,o})();function vD(){return Yc(hn(),Ge())}function Yc(o,l){return new Mm(tr(o,l))}let Mm=(()=>{class o{constructor(u){this.nativeElement=u}}return o.__NG_ELEMENT_ID__=vD,o})();function mM(o){return o instanceof Mm?o.nativeElement:o}class Yd{}let Kd=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function Qd(){const o=Ge(),u=xr(hn().index,o);return function bD(o){return o[11]}(Hi(u)?u:o)}(),o})(),wD=(()=>{class o{}return o.\u0275prov=Mn({token:o,providedIn:"root",factory:()=>null}),o})();class Jd{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const jb=new Jd("13.3.3"),_y={};function qu(o,l,u,d,f=!1){for(;null!==u;){const m=l[u.index];if(null!==m&&d.push(Jn(m)),fr(m))for(let T=10;T<m.length;T++){const x=m[T],P=x[1].firstChild;null!==P&&qu(x[1],x,P,d)}const v=u.type;if(8&v)qu(o,l,u.child,d);else if(32&v){const T=Yv(u,l);let x;for(;x=T();)d.push(x)}else if(16&v){const T=t0(l,u);if(Array.isArray(T))d.push(...T);else{const x=kp(l[16]);qu(x[1],x,T,d,!0)}}u=f?u.projectionNext:u.next}return d}class km{constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,u=l[1];return qu(u,l,u.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(fr(l)){const u=l[8],d=u?u.indexOf(this):-1;d>-1&&(Xv(l,d),Bl(u,d))}this._attachedToViewContainer=!1}c_(this._lView[1],this._lView)}onDestroy(l){S0(this._lView[1],this._lView,null,l)}markForCheck(){O0(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){P0(this._lView[1],this._lView,this.context)}checkNoChanges(){!function QE(o,l,u){Do(!0);try{P0(o,l,u)}finally{Do(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ke(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function GA(o,l){Vp(o,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Ke(902,"");this._appRef=l}}class _M extends km{constructor(l){super(l),this._view=l}detectChanges(){KE(this._view)}checkNoChanges(){!function Tx(o){Do(!0);try{KE(o)}finally{Do(!1)}}(this._view)}get context(){return null}}class br extends xm{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=lt(l);return new Om(u,this.ngModule)}}function Rm(o){const l=[];for(let u in o)o.hasOwnProperty(u)&&l.push({propName:o[u],templateName:u});return l}class Om extends gy{constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=function __(o){return o.map(DE).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return Rm(this.componentDef.inputs)}get outputs(){return Rm(this.componentDef.outputs)}create(l,u,d,f){const m=(f=f||this.ngModule)?function yM(o,l){return{get:(u,d,f)=>{const m=o.get(u,_y,f);return m!==_y||d===_y?m:l.get(u,d,f)}}}(l,f.injector):l,v=m.get(Yd,Zo),T=m.get(wD,null),x=v.createRenderer(null,this.componentDef),P=this.componentDef.selectors[0][0]||"div",V=d?function I0(o,l,u){if(si(o))return o.selectRootElement(l,u===sn.ShadowDom);let d="string"==typeof l?o.querySelector(l):l;return d.textContent="",d}(x,d,this.componentDef.encapsulation):Jv(v.createRenderer(null,this.componentDef),P,function yy(o){const l=o.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(P)),Y=this.componentDef.onPush?576:528,ie=function dT(o,l){return{components:[],scheduler:o||Wv,clean:L0,playerHandler:l||null,flags:0}}(),he=E_(0,null,null,1,0,null,null,null,null,null),Le=qp(null,he,ie,Y,null,null,v,x,T,m);let nt,ut;Ya(Le);try{const Et=function x_(o,l,u,d,f,m){const v=u[1];u[20]=o;const x=Zh(v,20,2,"#host",null),P=x.mergedAttrs=l.hostAttrs;null!==P&&(Qh(x,P,!0),null!==o&&(oi(f,o,P),null!==x.classes&&Bp(f,o,x.classes),null!==x.styles&&p_(f,o,x.styles)));const V=d.createRenderer(o,l),Y=qp(u,PE(l),null,l.onPush?64:16,u[20],x,d,V,m||null,null);return v.firstCreatePass&&(Q(b(x,u),v,l.type),jE(v,x),GE(x,u.length,1)),T_(u,Y),u[20]=Y}(V,this.componentDef,Le,v,x);if(V)if(d)oi(x,V,["ng-version",jb.full]);else{const{attrs:$e,classes:Ht}=function KA(o){const l=[],u=[];let d=1,f=2;for(;d<o.length;){let m=o[d];if("string"==typeof m)2===f?""!==m&&l.push(m,o[++d]):8===f&&u.push(m);else{if(!oa(f))break;f=m}d++}return{attrs:l,classes:u}}(this.componentDef.selectors[0]);$e&&oi(x,V,$e),Ht&&Ht.length>0&&Bp(x,V,Ht.join(" "))}if(ut=xl(he,20),void 0!==u){const $e=ut.projection=[];for(let Ht=0;Ht<this.ngContentSelectors.length;Ht++){const Pn=u[Ht];$e.push(null!=Pn?Array.from(Pn):null)}}nt=function uT(o,l,u,d,f){const m=u[1],v=function gx(o,l,u){const d=hn();o.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),M0(o,d,l,Yh(o,l,1,null),u));const f=_n(l,o,d.directiveStart,d);ir(f,l);const m=tr(d,l);return m&&ir(m,l),f}(m,u,l);if(d.components.push(v),o[8]=v,f&&f.forEach(x=>x(v,l)),l.contentQueries){const x=hn();l.contentQueries(1,v,x.directiveStart)}const T=hn();return!m.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(lo(T.index),x0(u[1],T,0,T.directiveStart,T.directiveEnd,l),UE(l,v)),v}(Et,this.componentDef,Le,ie,[W0]),zp(he,Le,null)}finally{Xo()}return new CD(this.componentType,nt,Yc(ut,Le),Le,ut)}}class CD extends class Ub{}{constructor(l,u,d,f,m){super(),this.location=d,this._rootLView=f,this._tNode=m,this.instance=u,this.hostView=this.changeDetectorRef=new _M(f),this.componentType=l}get injector(){return new os(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}class Ua{}class Gb{}const Xd=new Map;class qb extends Ua{constructor(l,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new br(this);const d=qt(l);this._bootstrapComponents=nl(d.bootstrap),this._r3Injector=Xh(l,u,[{provide:Ua,useValue:this},{provide:xm,useValue:this.componentFactoryResolver}],Ee(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,u=sl.THROW_IF_NOT_FOUND,d=kt.Default){return l===sl||l===Ua||l===Jh?this:this._r3Injector.get(l,u,d)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class vy extends Gb{constructor(l){super(),this.moduleType=l,null!==qt(l)&&function $b(o){const l=new Set;!function u(d){const f=qt(d,!0),m=f.id;null!==m&&(function Pf(o,l,u){if(l&&l!==u)throw new Error(`Duplicate module registered for ${o} - ${Ee(l)} vs ${Ee(l.name)}`)}(m,Xd.get(m),d),Xd.set(m,d));const v=nl(f.imports);for(const T of v)l.has(T)||(l.add(T),u(T))}(o)}(l)}create(l){return new qb(this.moduleType,l)}}function ar(o,l,u,d){return Lf(Ge(),Ri(),o,l,u,d)}function Pm(o,l,u,d,f){return TD(Ge(),Ri(),o,l,u,d,f)}function eh(o,l){const u=o[l];return u===fn?void 0:u}function Lf(o,l,u,d,f,m){const v=l+u;return ls(o,v,f)?ol(o,v+1,m?d.call(m,f):d(f)):eh(o,v+1)}function TD(o,l,u,d,f,m,v){const T=l+u;return Fu(o,T,f,m)?ol(o,T+2,v?d.call(v,f,m):d(f,m)):eh(o,T+2)}function DD(o,l,u,d,f,m,v,T){const x=l+u;return function R_(o,l,u,d,f){const m=Fu(o,l,u,d);return ls(o,l+2,f)||m}(o,x,f,m,v)?ol(o,x+3,T?d.call(T,f,m,v):d(f,m,v)):eh(o,x+3)}function ai(o,l,u,d,f,m,v,T,x){const P=l+u;return function Po(o,l,u,d,f,m){const v=Fu(o,l,u,d);return Fu(o,l+2,f,m)||v}(o,P,f,m,v,T)?ol(o,P+4,x?d.call(x,f,m,v,T):d(f,m,v,T)):eh(o,P+4)}function Fm(o,l){const u=dn();let d;const f=o+20;u.firstCreatePass?(d=function Lm(o,l){if(l)for(let u=l.length-1;u>=0;u--){const d=l[u];if(o===d.name)return d}}(l,u.pipeRegistry),u.data[f]=d,d.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(f,d.onDestroy)):d=u.data[f];const m=d.factory||(d.factory=is(d.type)),v=Nn(al);try{const T=Or(!1),x=m();return Or(T),function Bx(o,l,u,d){u>=o.data.length&&(o.data[u]=null,o.blueprint[u]=null),l[u]=d}(u,Ge(),f,x),x}finally{Nn(v)}}function Vf(o,l,u){const d=o+20,f=Ge(),m=rs(f,d);return Bm(f,d)?Lf(f,Ri(),l,m.transform,u,m):m.transform(u)}function Vm(o,l,u,d){const f=o+20,m=Ge(),v=rs(m,f);return Bm(m,f)?TD(m,Ri(),l,v.transform,u,d,v):v.transform(u,d)}function zb(o,l,u,d,f){const m=o+20,v=Ge(),T=rs(v,m);return Bm(v,m)?DD(v,Ri(),l,T.transform,u,d,f,T):T.transform(u,d,f)}function Wb(o,l,u,d,f,m){const v=o+20,T=Ge(),x=rs(T,v);return Bm(T,v)?ai(T,Ri(),l,x.transform,u,d,f,m,x):x.transform(u,d,f,m)}function Bm(o,l){return o[1].data[l].pure}function by(o){return l=>{setTimeout(o,void 0,l)}}const Ql=class AD extends a.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,d){var f,m,v;let T=l,x=u||(()=>null),P=d;if(l&&"object"==typeof l){const Y=l;T=null===(f=Y.next)||void 0===f?void 0:f.bind(Y),x=null===(m=Y.error)||void 0===m?void 0:m.bind(Y),P=null===(v=Y.complete)||void 0===v?void 0:v.bind(Y)}this.__isAsync&&(x=by(x),T&&(T=by(T)),P&&(P=by(P)));const V=super.subscribe({next:T,error:x,complete:P});return l instanceof J.w0&&l.add(V),V}};function TM(){return this._results[Pu()]()}class Zb{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Pu(),d=Zb.prototype;d[u]||(d[u]=TM)}get changes(){return this._changes||(this._changes=new Ql)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const d=this;d.dirty=!1;const f=qr(l);(this._changesDetected=!function Du(o,l,u){if(o.length!==l.length)return!1;for(let d=0;d<o.length;d++){let f=o[d],m=l[d];if(u&&(f=u(f),m=u(m)),m!==f)return!1}return!0}(d._results,f,u))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Kc=(()=>{class o{}return o.__NG_ELEMENT_ID__=us,o})();const xD=Kc,DM=class extends xD{constructor(l,u,d){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=d}createEmbeddedView(l){const u=this._declarationTContainer.tViews,d=qp(this._declarationLView,u,l,16,null,u.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(d[19]=m.createEmbeddedView(u)),zp(u,d,l),new km(d)}};function us(){return Bf(hn(),Ge())}function Bf(o,l){return 4&o.type?new DM(l,o,Yc(o,l)):null}let Um=(()=>{class o{}return o.__NG_ELEMENT_ID__=Hm,o})();function Hm(){return Kb(hn(),Ge())}const Jl=Um,wy=class extends Jl{constructor(l,u,d){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=d}get element(){return Yc(this._hostTNode,this._hostLView)}get injector(){return new os(this._hostTNode,this._hostLView)}get parentInjector(){const l=$(this._hostTNode,this._hostLView);if($t(l)){const u=Rr(l,this._hostLView),d=bt(l);return new os(u[1].data[d+8],u)}return new os(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=Yb(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,u,d){const f=l.createEmbeddedView(u||{});return this.insert(f,d),f}createComponent(l,u,d,f,m){const v=l&&!function Qa(o){return"function"==typeof o}(l);let T;if(v)T=u;else{const Y=u||{};T=Y.index,d=Y.injector,f=Y.projectableNodes,m=Y.ngModuleRef}const x=v?l:new Om(lt(l)),P=d||this.parentInjector;if(!m&&null==x.ngModule){const ie=(v?P:this.parentInjector).get(Ua,null);ie&&(m=ie)}const V=x.create(P,f,void 0,m);return this.insert(V.hostView,T),V}insert(l,u){const d=l._lView,f=d[1];if(function Sa(o){return fr(o[3])}(d)){const V=this.indexOf(l);if(-1!==V)this.detach(V);else{const Y=d[3],ie=new wy(Y,Y[6],Y[3]);ie.detach(ie.indexOf(l))}}const m=this._adjustIndex(u),v=this._lContainer;!function Op(o,l,u,d){const f=10+d,m=u.length;d>0&&(u[f-1][4]=l),d<m-10?(l[4]=u[f],Sc(u,10+d,l)):(u.push(l),l[4]=null),l[3]=u;const v=l[17];null!==v&&u!==v&&function hE(o,l){const u=o[9];l[16]!==l[3][3][16]&&(o[2]=!0),null===u?o[9]=[l]:u.push(l)}(v,l);const T=l[19];null!==T&&T.insertView(o),l[2]|=128}(f,d,v,m);const T=n0(m,v),x=d[11],P=u_(x,v[7]);return null!==P&&function dE(o,l,u,d,f,m){d[0]=f,d[6]=l,Vp(o,d,u,1,f,m)}(f,v[6],x,d,P,T),l.attachToViewContainerRef(),Sc(th(v),m,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=Yb(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),d=Xv(this._lContainer,u);d&&(Bl(th(this._lContainer),u),c_(d[1],d))}detach(l){const u=this._adjustIndex(l,-1),d=Xv(this._lContainer,u);return d&&null!=Bl(th(this._lContainer),u)?new km(d):null}_adjustIndex(l,u=0){return null==l?this.length+u:l}};function Yb(o){return o[8]}function th(o){return o[8]||(o[8]=[])}function Kb(o,l){let u;const d=l[o.index];if(fr(d))u=d;else{let f;if(8&o.type)f=Jn(d);else{const m=l[11];f=m.createComment("");const v=tr(o,l);kd(m,u_(m,v),f,function qA(o,l){return si(o)?o.nextSibling(l):l.nextSibling}(m,v),!1)}l[o.index]=u=$E(d,l,f,o),T_(l,u)}return new wy(u,o,l)}class Qb{constructor(l){this.queryList=l,this.matches=null}clone(){return new Qb(this.queryList)}setDirty(){this.queryList.setDirty()}}class nh{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const d=null!==l.contentQueries?l.contentQueries[0]:u.length,f=[];for(let m=0;m<d;m++){const v=u.getByIndex(m);f.push(this.queries[v.indexInDeclarationView].clone())}return new nh(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==tw(l,u).matches&&this.queries[u].setDirty()}}class Cy{constructor(l,u,d=null){this.predicate=l,this.flags=u,this.read=d}}class Jb{constructor(l=[]){this.queries=l}elementStart(l,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let d=0;d<this.length;d++){const f=null!==u?u.length:0,m=this.getByIndex(d).embeddedTView(l,f);m&&(m.indexInDeclarationView=d,null!==u?u.push(m):u=[m])}return null!==u?new Jb(u):null}template(l,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class Ey{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new Ey(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const m=d[f];this.matchTNodeWithReadOption(l,u,RD(u,m)),this.matchTNodeWithReadOption(l,u,en(u,l,m,!1,!1))}else d===Kc?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,en(u,l,d,!1,!1))}matchTNodeWithReadOption(l,u,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===Mm||f===Um||f===Kc&&4&u.type)this.addMatch(u.index,-2);else{const m=en(u,l,f,!1,!1);null!==m&&this.addMatch(u.index,m)}else this.addMatch(u.index,d)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function RD(o,l){const u=o.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===l)return u[d+1];return null}function IM(o,l,u,d){return-1===u?function OD(o,l){return 11&o.type?Yc(o,l):4&o.type?Bf(o,l):null}(l,o):-2===u?function ND(o,l,u){return u===Mm?Yc(l,o):u===Kc?Bf(l,o):u===Um?Kb(l,o):void 0}(o,l,d):_n(o,o[1],u,l)}function PD(o,l,u,d){const f=l[19].queries[d];if(null===f.matches){const m=o.data,v=u.matches,T=[];for(let x=0;x<v.length;x+=2){const P=v[x];T.push(P<0?null:IM(l,m[P],v[x+1],u.metadata.read))}f.matches=T}return f.matches}function Xb(o,l,u,d){const f=o.queries.getByIndex(u),m=f.matches;if(null!==m){const v=PD(o,l,f,u);for(let T=0;T<m.length;T+=2){const x=m[T];if(x>0)d.push(v[T/2]);else{const P=m[T+1],V=l[-x];for(let Y=10;Y<V.length;Y++){const ie=V[Y];ie[17]===ie[3]&&Xb(ie[1],ie,P,d)}if(null!==V[9]){const Y=V[9];for(let ie=0;ie<Y.length;ie++){const he=Y[ie];Xb(he[1],he,P,d)}}}}}return d}function ih(o){const l=Ge(),u=dn(),d=dd();_c(d+1);const f=tw(u,d);if(o.dirty&&ro(l)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const m=f.crossesNgTemplate?Xb(u,l,d,[]):PD(u,l,f,d);o.reset(m,mM),o.notifyOnChanges()}return!0}return!1}function rh(o,l,u){const d=dn();d.firstCreatePass&&(Ws(d,new Cy(o,l,u),-1),2==(2&l)&&(d.staticViewQueries=!0)),ew(d,Ge(),l)}function FD(o,l,u,d){const f=dn();if(f.firstCreatePass){const m=hn();Ws(f,new Cy(l,u,d),m.index),function AM(o,l){const u=o.contentQueries||(o.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(o.queries.length-1,l)}(f,o),2==(2&u)&&(f.staticContentQueries=!0)}ew(f,Ge(),u)}function LD(){return function SM(o,l){return o[19].queries[l].queryList}(Ge(),dd())}function ew(o,l,u){const d=new Zb(4==(4&u));S0(o,l,d,d.destroy),null===l[19]&&(l[19]=new nh),l[19].queries.push(new Qb(d))}function Ws(o,l,u){null===o.queries&&(o.queries=new Jb),o.queries.track(new Ey(l,u))}function tw(o,l){return o.queries.getByIndex(l)}function dl(o,l){return Bf(o,l)}const dw=Vl("Input",o=>({bindingPropertyName:o})),hw=Vl("Output",o=>({bindingPropertyName:o})),VM=Vl("HostListener",(o,l)=>({eventName:o,args:l}));function qm(...o){}const jf=new Wi("Application Initializer");let Xc=(()=>{class o{constructor(u){this.appInits=u,this.resolve=qm,this.reject=qm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const u=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if(Z_(m))u.push(m);else if(cm(m)){const v=new Promise((T,x)=>{m.subscribe({complete:T,error:x})});u.push(v)}}Promise.all(u).then(()=>{d()}).catch(f=>{this.reject(f)}),0===u.length&&d(),this.initialized=!0}}return o.\u0275fac=function(u){return new(u||o)(xt(jf,8))},o.\u0275prov=Mn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const ZD=new Wi("AppId",{providedIn:"root",factory:function fw(){return`${pw()}${pw()}${pw()}`}});function pw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const YD=new Wi("Platform Initializer"),zm=new Wi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),eu=new Wi("appBootstrapListener");let KD=(()=>{class o{log(u){console.log(u)}warn(u){console.warn(u)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=Mn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const mw=new Wi("LocaleId",{providedIn:"root",factory:()=>xn(mw,kt.Optional|kt.SkipSelf)||function UM(){return"undefined"!=typeof $localize&&$localize.locale||vm}()}),gw=new Wi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Zm{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}let ky=(()=>{class o{compileModuleSync(u){return new vy(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const d=this.compileModuleSync(u),m=nl(qt(u).declarations).reduce((v,T)=>{const x=lt(T);return x&&v.push(new Om(x)),v},[]);return new Zm(d,m)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=Mn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Vo=(()=>Promise.resolve(0))();function Oy(o){"undefined"==typeof Zone?Vo.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class ha{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ql(!1),this.onMicrotaskEmpty=new Ql(!1),this.onStable=new Ql(!1),this.onError=new Ql(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&u,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function Ny(){let o=cn.requestAnimationFrame,l=cn.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&l){const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function JD(o){const l=()=>{!function $f(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(cn,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,tu(o),o.isCheckStableRunning=!0,ec(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),tu(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,f,m,v,T)=>{try{return XD(o),u.invokeTask(f,m,v,T)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&l(),oh(o)}},onInvoke:(u,d,f,m,v,T,x)=>{try{return XD(o),u.invoke(f,m,v,T,x)}finally{o.shouldCoalesceRunChangeDetection&&l(),oh(o)}},onHasTask:(u,d,f,m)=>{u.hasTask(f,m),d===f&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,tu(o),ec(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(u,d,f,m)=>(u.handleError(f,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ha.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ha.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,u,d){return this._inner.run(l,u,d)}runTask(l,u,d,f){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+f,l,QD,qm,qm);try{return m.runTask(v,u,d)}finally{m.cancelTask(v)}}runGuarded(l,u,d){return this._inner.runGuarded(l,u,d)}runOutsideAngular(l){return this._outer.run(l)}}const QD={};function ec(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function tu(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function XD(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function oh(o){o._nesting--,ec(o)}class eI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ql,this.onMicrotaskEmpty=new Ql,this.onStable=new Ql,this.onError=new Ql}run(l,u,d){return l.apply(u,d)}runGuarded(l,u,d){return l.apply(u,d)}runOutsideAngular(l){return l()}runTask(l,u,d,f){return l.apply(u,d)}}let nu=(()=>{class o{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ha.assertNotInAngularZone(),Oy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Oy(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,f){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:m,updateCb:f})}whenStable(u,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,d,f){return[]}}return o.\u0275fac=function(u){return new(u||o)(xt(ha))},o.\u0275prov=Mn({token:o,factory:o.\u0275fac}),o})(),ah=(()=>{class o{constructor(){this._applications=new Map,yw.addToWindow(this)}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){return yw.findTestabilityInTree(this,u,d)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=Mn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();class _w{addToWindow(l){}findTestabilityInTree(l,u,d){return null}}function tI(o){yw=o}let hl,yw=new _w;const vw=new Wi("AllowMultipleToken");class $M{constructor(l,u){this.name=l,this.token=u}}function bw(o,l,u=[]){const d=`Platform: ${l}`,f=new Wi(d);return(m=[])=>{let v=ww();if(!v||v.injector.get(vw,!1))if(o)o(u.concat(m).concat({provide:f,useValue:!0}));else{const T=u.concat(m).concat({provide:f,useValue:!0},{provide:rl,useValue:"platform"});!function qM(o){if(hl&&!hl.destroyed&&!hl.injector.get(vw,!1))throw new Ke(400,"");hl=o.get(nI);const l=o.get(YD,null);l&&l.forEach(u=>u())}(sl.create({providers:T,name:d}))}return function lh(o){const l=ww();if(!l)throw new Ke(401,"");return l}()}}function ww(){return hl&&!hl.destroyed?hl:null}let nI=(()=>{class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const T=function zM(o,l){let u;return u="noop"===o?new eI:("zone.js"===o?void 0:o)||new ha({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==l?void 0:l.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==l?void 0:l.ngZoneRunCoalescing)}),u}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),x=[{provide:ha,useValue:T}];return T.run(()=>{const P=sl.create({providers:x,parent:this.injector,name:u.moduleType.name}),V=u.create(P),Y=V.injector.get(Mp,null);if(!Y)throw new Ke(402,"");return T.runOutsideAngular(()=>{const ie=T.onError.subscribe({next:he=>{Y.handleError(he)}});V.onDestroy(()=>{ch(this._modules,V),ie.unsubscribe()})}),function iI(o,l,u){try{const d=u();return Z_(d)?d.catch(f=>{throw l.runOutsideAngular(()=>o.handleError(f)),f}):d}catch(d){throw l.runOutsideAngular(()=>o.handleError(d)),d}}(Y,T,()=>{const ie=V.injector.get(Xc);return ie.runInitializers(),ie.donePromise.then(()=>(function qd(o){St(o,"Expected localeId to be defined"),"string"==typeof o&&(Ob=o.toLowerCase().replace(/_/g,"-"))}(V.injector.get(mw,vm)||vm),this._moduleDoBootstrap(V),V))})})}bootstrapModule(u,d=[]){const f=Ly({},d);return function GM(o,l,u){const d=new vy(u);return Promise.resolve(d)}(0,0,u).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(u){const d=u.injector.get(Ym);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!u.instance.ngDoBootstrap)throw new Ke(403,"");u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ke(404,"");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(u){return new(u||o)(xt(sl))},o.\u0275prov=Mn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function Ly(o,l){return Array.isArray(l)?l.reduce(Ly,o):Object.assign(Object.assign({},o),l)}let Ym=(()=>{class o{constructor(u,d,f,m){this._zone=u,this._injector=d,this._exceptionHandler=f,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new U.y(x=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{x.next(this._stable),x.complete()})}),T=new U.y(x=>{let P;this._zone.runOutsideAngular(()=>{P=this._zone.onStable.subscribe(()=>{ha.assertNotInAngularZone(),Oy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,x.next(!0))})})});const V=this._zone.onUnstable.subscribe(()=>{ha.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{x.next(!1)}))});return()=>{P.unsubscribe(),V.unsubscribe()}});this.isStable=(0,ye.T)(v,T.pipe((0,ge.B)()))}bootstrap(u,d){if(!this._initStatus.done)throw new Ke(405,"");let f;f=u instanceof gy?u:this._injector.get(xm).resolveComponentFactory(u),this.componentTypes.push(f.componentType);const m=function Py(o){return o.isBoundToModule}(f)?void 0:this._injector.get(Ua),T=f.create(sl.NULL,[],d||f.selector,m),x=T.location.nativeElement,P=T.injector.get(nu,null),V=P&&T.injector.get(ah);return P&&V&&V.registerApplication(x,P),T.onDestroy(()=>{this.detachView(T.hostView),ch(this.components,T),V&&V.unregisterApplication(x)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new Ke(101,"");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;ch(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(eu,[]).concat(this._bootstrapListeners).forEach(f=>f(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(u){return new(u||o)(xt(ha),xt(sl),xt(Mp),xt(Xc))},o.\u0275prov=Mn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function ch(o,l){const u=o.indexOf(l);u>-1&&o.splice(u,1)}let rI=!0,Vy=!1;function sI(){return Vy=!0,rI}function WM(){if(Vy)throw new Error("Cannot enable prod mode after platform setup.");rI=!1}let KM=(()=>{class o{}return o.__NG_ELEMENT_ID__=oI,o})();function oI(o){return function QM(o,l,u){if(yo(o)&&!u){const d=xr(o.index,l);return new km(d,d)}return 47&o.type?new km(l[16],l):null}(hn(),Ge(),16==(16&o))}class hI{constructor(){}supports(l){return Ld(l)}create(l){return new fI(l)}}const Tw=(o,l)=>l;class fI{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||Tw}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,d=this._removalsHead,f=0,m=null;for(;u||d;){const v=!d||u&&u.currentIndex<qf(d,f,m)?u:d,T=qf(v,f,m),x=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(u=u._next,null==v.previousIndex)f++;else{m||(m=[]);const P=T-f,V=x-f;if(P!=V){for(let ie=0;ie<P;ie++){const he=ie<m.length?m[ie]:m[ie]=0,Le=he+ie;V<=Le&&Le<P&&(m[ie]=he+1)}m[v.previousIndex]=V-P}}T!==x&&l(v,T,x)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!Ld(l))throw new Ke(900,"");return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,m,v,u=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let T=0;T<this.length;T++)m=l[T],v=this._trackByFn(T,m),null!==u&&Object.is(u.trackById,v)?(d&&(u=this._verifyReinsertion(u,m,v,T)),Object.is(u.item,m)||this._addIdentityChange(u,m)):(u=this._mismatch(u,m,v,T),d=!0),u=u._next}else f=0,function pT(o,l){if(Array.isArray(o))for(let u=0;u<o.length;u++)l(o[u]);else{const u=o[Pu()]();let d;for(;!(d=u.next()).done;)l(d.value)}}(l,T=>{v=this._trackByFn(f,T),null!==u&&Object.is(u.trackById,v)?(d&&(u=this._verifyReinsertion(u,T,v,f)),Object.is(u.item,T)||this._addIdentityChange(u,T)):(u=this._mismatch(u,T,v,f),d=!0),u=u._next,f++}),this.length=f;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,d,f){let m;return null===l?m=this._itTail:(m=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,m,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,m,f)):l=this._addAfter(new pI(u,d),m,f),l}_verifyReinsertion(l,u,d,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?l=this._reinsertAfter(m,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,m=l._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(l,u,d),this._addToMoves(l,d),l}_moveAfter(l,u,d){return this._unlink(l),this._insertAfter(l,u,d),this._addToMoves(l,d),l}_addAfter(l,u,d){return this._insertAfter(l,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,d){const f=null===u?this._itHead:u._next;return l._next=f,l._prev=u,null===f?this._itTail=l:f._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new ng),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,d=l._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ng),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class pI{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Dw{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const u=l._prevDup,d=l._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class ng{constructor(){this.map=new Map}put(l){const u=l.trackById;let d=this.map.get(u);d||(d=new Dw,this.map.set(u,d)),d.add(l)}get(l,u){const f=this.map.get(l);return f?f.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qf(o,l,u){const d=o.previousIndex;if(null===d)return d;let f=0;return u&&d<u.length&&(f=u[d]),d+l+f}class ig{constructor(){}supports(l){return l instanceof Map||K0(l)}create(){return new Iw}}class Iw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||K0(l)))throw new Ke(900,"")}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,f)=>{if(u&&u.key===f)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const m=this._getOrCreateRecordForKey(f,d);u=this._insertBeforeOrAppend(u,m)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const d=l._prev;return u._next=l,u._prev=d,l._prev=u,d&&(d._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,u);const m=f._prev,v=f._next;return m&&(m._next=v),v&&(v._prev=m),f._next=null,f._prev=null,f}const d=new Sw(l);return this._records.set(l,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(d=>u(l[d],d))}}class Sw{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function jy(){return new Gy([new hI])}let Gy=(()=>{class o{constructor(u){this.factories=u}static create(u,d){if(null!=d){const f=d.factories.slice();u=u.concat(f)}return new o(u)}static extend(u){return{provide:o,useFactory:d=>o.create(u,d||jy()),deps:[[o,new ia,new zr]]}}find(u){const d=this.factories.find(f=>f.supports(u));if(null!=d)return d;throw new Ke(901,"")}}return o.\u0275prov=Mn({token:o,providedIn:"root",factory:jy}),o})();function Aw(){return new xw([new ig])}let xw=(()=>{class o{constructor(u){this.factories=u}static create(u,d){if(d){const f=d.factories.slice();u=u.concat(f)}return new o(u)}static extend(u){return{provide:o,useFactory:d=>o.create(u,d||Aw()),deps:[[o,new ia,new zr]]}}find(u){const d=this.factories.find(m=>m.supports(u));if(d)return d;throw new Ke(901,"")}}return o.\u0275prov=Mn({token:o,providedIn:"root",factory:Aw}),o})();const rg=bw(null,"core",[]);let kw=(()=>{class o{constructor(u){}}return o.\u0275fac=function(u){return new(u||o)(xt(Ym))},o.\u0275mod=q({type:o}),o.\u0275inj=An({}),o})()},3942:(Ot,Ue,G)=>{G.d(Ue,{Z:()=>Ke});var a=G(2090),J=G(4859),U=G(9681),ye=G(1877);class ge{constructor(Re,Ve){this._delegate=Re,this.firebase=Ve,(0,U._addComponent)(Re,new J.wA("app-compat",()=>this,"PUBLIC")),this.container=Re.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Re){this._delegate.automaticDataCollectionEnabled=Re}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Re=>{this._delegate.checkDestroyed(),Re()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,U.deleteApp)(this._delegate)))}_getService(Re,Ve=U._DEFAULT_ENTRY_NAME){var gt;this._delegate.checkDestroyed();const Qe=this._delegate.container.getProvider(Re);return!Qe.isInitialized()&&"EXPLICIT"===(null===(gt=Qe.getComponent())||void 0===gt?void 0:gt.instantiationMode)&&Qe.initialize(),Qe.getImmediate({identifier:Ve})}_removeServiceInstance(Re,Ve=U._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Re).clearInstance(Ve)}_addComponent(Re){(0,U._addComponent)(this._delegate,Re)}_addOrOverwriteComponent(Re){(0,U._addOrOverwriteComponent)(this._delegate,Re)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fe=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),re=function Me(){const Xe=function Ee(Xe){const Re={},Ve={__esModule:!0,initializeApp:function He(me,ft={}){const ue=U.initializeApp(me,ft);if((0,a.r3)(Re,ue.name))return Re[ue.name];const Ie=new Xe(ue,Ve);return Re[ue.name]=Ie,Ie},app:Qe,registerVersion:U.registerVersion,setLogLevel:U.setLogLevel,onLog:U.onLog,apps:null,SDK_VERSION:U.SDK_VERSION,INTERNAL:{registerComponent:function Oe(me){const ft=me.name,ue=ft.replace("-compat","");if(U._registerComponent(me)&&"PUBLIC"===me.type){const Ie=(Te=Qe())=>{if("function"!=typeof Te[ue])throw fe.create("invalid-app-argument",{appName:ft});return Te[ue]()};void 0!==me.serviceProps&&(0,a.ZB)(Ie,me.serviceProps),Ve[ue]=Ie,Xe.prototype[ue]=function(...Te){return this._getService.bind(this,ft).apply(this,me.multipleInstances?Te:[])}}return"PUBLIC"===me.type?Ve[ue]:null},removeApp:function gt(me){delete Re[me]},useAsService:function it(me,ft){return"serverAuth"===ft?null:ft},modularAPIs:U}};function Qe(me){if(!(0,a.r3)(Re,me=me||U._DEFAULT_ENTRY_NAME))throw fe.create("no-app",{appName:me});return Re[me]}return Ve.default=Ve,Object.defineProperty(Ve,"apps",{get:function ce(){return Object.keys(Re).map(me=>Re[me])}}),Qe.App=Xe,Ve}(ge);return Xe.INTERNAL=Object.assign(Object.assign({},Xe.INTERNAL),{createFirebaseNamespace:Me,extendNamespace:function Re(Ve){(0,a.ZB)(Xe,Ve)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),Xe}(),ne=new ye.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){ne.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Xe=self.firebase.SDK_VERSION;Xe&&Xe.indexOf("LITE")>=0&&ne.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ke=re;!function je(Xe){(0,U.registerVersion)("@firebase/app-compat","0.1.22",Xe)}()},9681:(Ot,Ue,G)=>{G.r(Ue),G.d(Ue,{FirebaseError:()=>ye.ZR,SDK_VERSION:()=>Lr,_DEFAULT_ENTRY_NAME:()=>gi,_addComponent:()=>Vn,_addOrOverwriteComponent:()=>Ir,_apps:()=>At,_clearComponents:()=>ni,_components:()=>Hn,_getProvider:()=>Cn,_registerComponent:()=>Mn,_removeServiceInstance:()=>An,deleteApp:()=>Sr,getApp:()=>qi,getApps:()=>ii,initializeApp:()=>Xr,onLog:()=>bi,registerVersion:()=>ur,setLogLevel:()=>Nn});var a=G(5861),J=G(4859),U=G(1877),ye=G(2090);class ge{constructor(Be){this.container=Be}getPlatformInfoString(){return this.container.getProviders().map(Je=>{if(function Pe(at){const Be=at.getComponent();return"VERSION"===(null==Be?void 0:Be.type)}(Je)){const Nt=Je.getImmediate();return`${Nt.library}/${Nt.version}`}return null}).filter(Je=>Je).join(" ")}}const fe="@firebase/app",Me=new U.Yd("@firebase/app"),gi="[DEFAULT]",St={[fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},At=new Map,Hn=new Map;function Vn(at,Be){try{at.container.addComponent(Be)}catch(Je){Me.debug(`Component ${Be.name} failed to register with FirebaseApp ${at.name}`,Je)}}function Ir(at,Be){at.container.addOrOverwriteComponent(Be)}function Mn(at){const Be=at.name;if(Hn.has(Be))return Me.debug(`There were multiple attempts to register component ${Be}.`),!1;Hn.set(Be,at);for(const Je of At.values())Vn(Je,at);return!0}function Cn(at,Be){const Je=at.container.getProvider("heartbeat").getImmediate({optional:!0});return Je&&Je.triggerHeartbeat(),at.container.getProvider(Be)}function An(at,Be,Je=gi){Cn(at,Be).clearInstance(Je)}function ni(){Hn.clear()}const Kt=new ye.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class vi{constructor(Be,Je,Nt){this._isDeleted=!1,this._options=Object.assign({},Be),this._config=Object.assign({},Je),this._name=Je.name,this._automaticDataCollectionEnabled=Je.automaticDataCollectionEnabled,this._container=Nt,this.container.addComponent(new J.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Be){this.checkDestroyed(),this._automaticDataCollectionEnabled=Be}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Be){this._isDeleted=Be}checkDestroyed(){if(this.isDeleted)throw Kt.create("app-deleted",{appName:this._name})}}const Lr="9.6.11";function Xr(at,Be={}){"object"!=typeof Be&&(Be={name:Be});const Je=Object.assign({name:gi,automaticDataCollectionEnabled:!1},Be),Nt=Je.name;if("string"!=typeof Nt||!Nt)throw Kt.create("bad-app-name",{appName:String(Nt)});const nn=At.get(Nt);if(nn){if((0,ye.vZ)(at,nn.options)&&(0,ye.vZ)(Je,nn.config))return nn;throw Kt.create("duplicate-app",{appName:Nt})}const on=new J.H0(Nt);for(const ee of Hn.values())on.addComponent(ee);const se=new vi(at,Je,on);return At.set(Nt,se),se}function qi(at=gi){const Be=At.get(at);if(!Be)throw Kt.create("no-app",{appName:at});return Be}function ii(){return Array.from(At.values())}function Sr(at){return kt.apply(this,arguments)}function kt(){return(kt=(0,a.Z)(function*(at){const Be=at.name;At.has(Be)&&(At.delete(Be),yield Promise.all(at.container.getProviders().map(Je=>Je.delete())),at.isDeleted=!0)})).apply(this,arguments)}function ur(at,Be,Je){var Nt;let nn=null!==(Nt=St[at])&&void 0!==Nt?Nt:at;Je&&(nn+=`-${Je}`);const on=nn.match(/\s|\//),se=Be.match(/\s|\//);if(on||se){const ee=[`Unable to register library "${nn}" with version "${Be}":`];return on&&ee.push(`library name "${nn}" contains illegal characters (whitespace or "/")`),on&&se&&ee.push("and"),se&&ee.push(`version name "${Be}" contains illegal characters (whitespace or "/")`),void Me.warn(ee.join(" "))}Mn(new J.wA(`${nn}-version`,()=>({library:nn,version:Be}),"VERSION"))}function bi(at,Be){if(null!==at&&"function"!=typeof at)throw Kt.create("invalid-log-argument");(0,U.Am)(at,Be)}function Nn(at){(0,U.Ub)(at)}const wi="firebase-heartbeat-store";let Zn=null;function jn(){return Zn||(Zn=(0,ye.X3)("firebase-heartbeat-database",1,(at,Be)=>{0===Be&&at.createObjectStore(wi)}).catch(at=>{throw Kt.create("storage-open",{originalErrorMessage:at.message})})),Zn}function sn(){return(sn=(0,a.Z)(function*(at){try{return(yield jn()).transaction(wi).objectStore(wi).get(Ji(at))}catch(Be){throw Kt.create("storage-get",{originalErrorMessage:Be.message})}})).apply(this,arguments)}function It(at,Be){return vt.apply(this,arguments)}function vt(){return(vt=(0,a.Z)(function*(at,Be){try{const Nt=(yield jn()).transaction(wi,"readwrite");return yield Nt.objectStore(wi).put(Be,Ji(at)),Nt.complete}catch(Je){throw Kt.create("storage-set",{originalErrorMessage:Je.message})}})).apply(this,arguments)}function Ji(at){return`${at.name}!${at.options.appId}`}class ts{constructor(Be){this.container=Be,this._heartbeatsCache=null;const Je=this.container.getProvider("app").getImmediate();this._storage=new Pt(Je),this._heartbeatsCachePromise=this._storage.read().then(Nt=>(this._heartbeatsCache=Nt,Nt))}triggerHeartbeat(){var Be=this;return(0,a.Z)(function*(){const Nt=Be.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),nn=Ci();if(null===Be._heartbeatsCache&&(Be._heartbeatsCache=yield Be._heartbeatsCachePromise),Be._heartbeatsCache.lastSentHeartbeatDate!==nn&&!Be._heartbeatsCache.heartbeats.some(on=>on.date===nn))return Be._heartbeatsCache.heartbeats.push({date:nn,agent:Nt}),Be._heartbeatsCache.heartbeats=Be._heartbeatsCache.heartbeats.filter(on=>{const se=new Date(on.date).valueOf();return Date.now()-se<=2592e6}),Be._storage.overwrite(Be._heartbeatsCache)})()}getHeartbeatsHeader(){var Be=this;return(0,a.Z)(function*(){if(null===Be._heartbeatsCache&&(yield Be._heartbeatsCachePromise),null===Be._heartbeatsCache||0===Be._heartbeatsCache.heartbeats.length)return"";const Je=Ci(),{heartbeatsToSend:Nt,unsentEntries:nn}=function kn(at,Be=1024){const Je=[];let Nt=at.slice();for(const nn of at){const on=Je.find(se=>se.agent===nn.agent);if(on){if(on.dates.push(nn.date),ui(Je)>Be){on.dates.pop();break}}else if(Je.push({agent:nn.agent,dates:[nn.date]}),ui(Je)>Be){Je.pop();break}Nt=Nt.slice(1)}return{heartbeatsToSend:Je,unsentEntries:Nt}}(Be._heartbeatsCache.heartbeats),on=(0,ye.L)(JSON.stringify({version:2,heartbeats:Nt}));return Be._heartbeatsCache.lastSentHeartbeatDate=Je,nn.length>0?(Be._heartbeatsCache.heartbeats=nn,yield Be._storage.overwrite(Be._heartbeatsCache)):(Be._heartbeatsCache.heartbeats=[],Be._storage.overwrite(Be._heartbeatsCache)),on})()}}function Ci(){return(new Date).toISOString().substring(0,10)}class Pt{constructor(Be){this.app=Be,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,ye.hl)()&&(0,ye.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Be=this;return(0,a.Z)(function*(){return(yield Be._canUseIndexedDBPromise)&&(yield function Os(at){return sn.apply(this,arguments)}(Be.app))||{heartbeats:[]}})()}overwrite(Be){var Je=this;return(0,a.Z)(function*(){var Nt;if(yield Je._canUseIndexedDBPromise){const on=yield Je.read();return It(Je.app,{lastSentHeartbeatDate:null!==(Nt=Be.lastSentHeartbeatDate)&&void 0!==Nt?Nt:on.lastSentHeartbeatDate,heartbeats:Be.heartbeats})}})()}add(Be){var Je=this;return(0,a.Z)(function*(){var Nt;if(yield Je._canUseIndexedDBPromise){const on=yield Je.read();return It(Je.app,{lastSentHeartbeatDate:null!==(Nt=Be.lastSentHeartbeatDate)&&void 0!==Nt?Nt:on.lastSentHeartbeatDate,heartbeats:[...on.heartbeats,...Be.heartbeats]})}})()}}function ui(at){return(0,ye.L)(JSON.stringify({version:2,heartbeats:at})).length}!function un(at){Mn(new J.wA("platform-logger",Be=>new ge(Be),"PRIVATE")),Mn(new J.wA("heartbeat",Be=>new ts(Be),"PRIVATE")),ur(fe,"0.7.21",at),ur(fe,"0.7.21","esm2017"),ur("fire-js","")}("")},4859:(Ot,Ue,G)=>{G.d(Ue,{H0:()=>Ee,wA:()=>U,zt:()=>ge});var a=G(5861),J=G(2090);class U{constructor(re,ne,_e){this.name=re,this.instanceFactory=ne,this.type=_e,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(re){return this.instantiationMode=re,this}setMultipleInstances(re){return this.multipleInstances=re,this}setServiceProps(re){return this.serviceProps=re,this}setInstanceCreatedCallback(re){return this.onInstanceCreated=re,this}}const ye="[DEFAULT]";class ge{constructor(re,ne){this.name=re,this.container=ne,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(re){const ne=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(ne)){const _e=new J.BH;if(this.instancesDeferred.set(ne,_e),this.isInitialized(ne)||this.shouldAutoInitialize())try{const st=this.getOrInitializeService({instanceIdentifier:ne});st&&_e.resolve(st)}catch(st){}}return this.instancesDeferred.get(ne).promise}getImmediate(re){var ne;const _e=this.normalizeInstanceIdentifier(null==re?void 0:re.identifier),st=null!==(ne=null==re?void 0:re.optional)&&void 0!==ne&&ne;if(!this.isInitialized(_e)&&!this.shouldAutoInitialize()){if(st)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:_e})}catch(je){if(st)return null;throw je}}getComponent(){return this.component}setComponent(re){if(re.name!==this.name)throw Error(`Mismatching Component ${re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=re,this.shouldAutoInitialize()){if(function fe(Me){return"EAGER"===Me.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:ye})}catch(ne){}for(const[ne,_e]of this.instancesDeferred.entries()){const st=this.normalizeInstanceIdentifier(ne);try{const je=this.getOrInitializeService({instanceIdentifier:st});_e.resolve(je)}catch(je){}}}}clearInstance(re=ye){this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)}delete(){var re=this;return(0,a.Z)(function*(){const ne=Array.from(re.instances.values());yield Promise.all([...ne.filter(_e=>"INTERNAL"in _e).map(_e=>_e.INTERNAL.delete()),...ne.filter(_e=>"_delete"in _e).map(_e=>_e._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(re=ye){return this.instances.has(re)}getOptions(re=ye){return this.instancesOptions.get(re)||{}}initialize(re={}){const{options:ne={}}=re,_e=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(_e))throw Error(`${this.name}(${_e}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const st=this.getOrInitializeService({instanceIdentifier:_e,options:ne});for(const[je,Ke]of this.instancesDeferred.entries())_e===this.normalizeInstanceIdentifier(je)&&Ke.resolve(st);return st}onInit(re,ne){var _e;const st=this.normalizeInstanceIdentifier(ne),je=null!==(_e=this.onInitCallbacks.get(st))&&void 0!==_e?_e:new Set;je.add(re),this.onInitCallbacks.set(st,je);const Ke=this.instances.get(st);return Ke&&re(Ke,st),()=>{je.delete(re)}}invokeOnInitCallbacks(re,ne){const _e=this.onInitCallbacks.get(ne);if(_e)for(const st of _e)try{st(re,ne)}catch(je){}}getOrInitializeService({instanceIdentifier:re,options:ne={}}){let _e=this.instances.get(re);if(!_e&&this.component&&(_e=this.component.instanceFactory(this.container,{instanceIdentifier:(Me=re,Me===ye?void 0:Me),options:ne}),this.instances.set(re,_e),this.instancesOptions.set(re,ne),this.invokeOnInitCallbacks(_e,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,_e)}catch(st){}var Me;return _e||null}normalizeInstanceIdentifier(re=ye){return this.component?this.component.multipleInstances?re:ye:re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ee{constructor(re){this.name=re,this.providers=new Map}addComponent(re){const ne=this.getProvider(re.name);if(ne.isComponentSet())throw new Error(`Component ${re.name} has already been registered with ${this.name}`);ne.setComponent(re)}addOrOverwriteComponent(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)}getProvider(re){if(this.providers.has(re))return this.providers.get(re);const ne=new ge(re,this);return this.providers.set(re,ne),ne}getProviders(){return Array.from(this.providers.values())}}},1877:(Ot,Ue,G)=>{G.d(Ue,{Am:()=>Me,Ub:()=>Ee,Yd:()=>fe,in:()=>J});const a=[];var J=(()=>{return(re=J||(J={}))[re.DEBUG=0]="DEBUG",re[re.VERBOSE=1]="VERBOSE",re[re.INFO=2]="INFO",re[re.WARN=3]="WARN",re[re.ERROR=4]="ERROR",re[re.SILENT=5]="SILENT",J;var re})();const U={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},ye=J.INFO,ge={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},Pe=(re,ne,..._e)=>{if(ne<re.logLevel)return;const st=(new Date).toISOString(),je=ge[ne];if(!je)throw new Error(`Attempted to log a message with an invalid logType (value: ${ne})`);console[je](`[${st}]  ${re.name}:`,..._e)};class fe{constructor(ne){this.name=ne,this._logLevel=ye,this._logHandler=Pe,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(ne){if(!(ne in J))throw new TypeError(`Invalid value "${ne}" assigned to \`logLevel\``);this._logLevel=ne}setLogLevel(ne){this._logLevel="string"==typeof ne?U[ne]:ne}get logHandler(){return this._logHandler}set logHandler(ne){if("function"!=typeof ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ne}get userLogHandler(){return this._userLogHandler}set userLogHandler(ne){this._userLogHandler=ne}debug(...ne){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...ne),this._logHandler(this,J.DEBUG,...ne)}log(...ne){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...ne),this._logHandler(this,J.VERBOSE,...ne)}info(...ne){this._userLogHandler&&this._userLogHandler(this,J.INFO,...ne),this._logHandler(this,J.INFO,...ne)}warn(...ne){this._userLogHandler&&this._userLogHandler(this,J.WARN,...ne),this._logHandler(this,J.WARN,...ne)}error(...ne){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...ne),this._logHandler(this,J.ERROR,...ne)}}function Ee(re){a.forEach(ne=>{ne.setLogLevel(re)})}function Me(re,ne){for(const _e of a){let st=null;ne&&ne.level&&(st=U[ne.level]),_e.userLogHandler=null===re?null:(je,Ke,...Xe)=>{const Re=Xe.map(Ve=>{if(null==Ve)return null;if("string"==typeof Ve)return Ve;if("number"==typeof Ve||"boolean"==typeof Ve)return Ve.toString();if(Ve instanceof Error)return Ve.message;try{return JSON.stringify(Ve)}catch(gt){return null}}).filter(Ve=>Ve).join(" ");Ke>=(null!=st?st:je.logLevel)&&re({level:J[Ke].toLowerCase(),message:Re,args:Xe,type:je.name})}}}},5861:(Ot,Ue,G)=>{function a(U,ye,ge,Pe,fe,Ee,Me){try{var re=U[Ee](Me),ne=re.value}catch(_e){return void ge(_e)}re.done?ye(ne):Promise.resolve(ne).then(Pe,fe)}function J(U){return function(){var ye=this,ge=arguments;return new Promise(function(Pe,fe){var Ee=U.apply(ye,ge);function Me(ne){a(Ee,Pe,fe,Me,re,"next",ne)}function re(ne){a(Ee,Pe,fe,Me,re,"throw",ne)}Me(void 0)})}}G.d(Ue,{Z:()=>J})}},Ot=>{Ot(Ot.s=4445)}]);